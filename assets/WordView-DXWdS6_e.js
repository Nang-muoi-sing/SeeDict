import{c as o,b as n,e as s,z as B,d as C,j as F,r as T,o as R,A as V,F as x,a as A,l as H,q as a,t as l,k as m,h as p,w as y,x as k,u as L,s as W,p as z,v as D,B as q,C as U}from"./index-Bw51D8GS.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as I,t as P}from"./typography-CV6tYAYU.js";import{_ as Y}from"./PageContent.vue_vue_type_script_setup_true_lang-DXGwyv3Y.js";import{t as N,y as E,p as Q,a as J,b as K,m as X}from"./phonetics-DPRH1uoy.js";import"./NavBar-D0mESqB2.js";import"./SearchBar-DVRpty1k.js";import"./Footer-Dg8hVvSv.js";const Z={},tt={class:"align-text-bottom"},et={class:"bg-wheat-100 text-rosybrown-600 mr-1 w-fit rounded-md px-1 py-0.5 text-xs"};function st(g,t){return n(),o("span",tt,[s("span",et,[B(g.$slots,"default")])])}const _=M(Z,[["render",st]]),nt=["innerHTML"],O=C({__name:"Explanations",props:{data:{},currentGlyph:{default:"second"}},setup(g){const t=g,u=e=>e.join(".")+". ",r=(e,w=[])=>`<ol class="list-none ${w.length===0?"pl-0":"pl-2 md:pl-6"}">${e.map((i,h)=>{var $,j;const b=[...w,h+1],v=`${i.lexical?`<span
    class="seeicon- mr-1 inline-block align-text-bottom text-rosybrown-700"
    style="font-size: 20px"
    >${i.lexical}</span>`:""}${I(P(i.expl,t.currentGlyph))}`;return`
    <li class="mb-2">
      <p class="flex items-start">
        <span class="font-semibold mr-2">${u(b)}</span>
        <span>${v}</span>
      </p>

      ${($=i.sent)!=null&&$.length?`<ul class="list-none pl-2 md:pl-6 mt-1 space-y-1">${i.sent.map(G=>`
          <li class="flex items-start text-wheat-400">
            <span class="mr-2">•</span>
            <span>${I(P(G,t.currentGlyph))}</span>
          </li>
        `).join("")}</ul>`:""}

      ${(j=i.node)!=null&&j.length?r(i.node,b):""}
    </li>
  `}).join("")}</ol>`,c=F(()=>r(t.data));return(e,w)=>(n(),o("div",null,[s("div",{innerHTML:c.value},null,8,nt)]))}}),ot={},at={class:"seeicon- mr-1 align-text-bottom",style:{"font-size":"20px"}};function lt(g,t){return n(),o("span",at,[B(g.$slots,"default")])}const f=M(ot,[["render",lt]]),rt={class:"fixed top-[170px] left-25 z-50 w-56 rounded-lg bg-white p-5"},dt={class:"space-y-1"},it=["href"],ut=C({__name:"SideBar",setup(g){const t=T([]),u=T(""),r=()=>{const e=document.querySelectorAll("h2[id]");t.value=Array.from(e).map(w=>{var i;return{id:w.id,text:((i=w.textContent)==null?void 0:i.trim())||`标题${Array.from(e).indexOf(w)+1}`}}),c()},c=()=>{const e=window.scrollY+100;for(let w=t.value.length-1;w>=0;w--){const i=t.value[w],h=document.getElementById(i.id);if(h&&e>=h.offsetTop){u.value=i.id;return}}t.value.length>0&&(u.value=t.value[0].id)};return R(()=>{r(),window.addEventListener("scroll",c);const e=new MutationObserver(r);e.observe(document.body,{childList:!0,subtree:!0}),V(()=>{window.removeEventListener("scroll",c),e.disconnect()})}),(e,w)=>(n(),o("aside",rt,[s("ol",dt,[(n(!0),o(x,null,A(t.value,(i,h)=>(n(),o("li",{key:h},[s("a",{href:`#${i.id}`,class:H(["text-rosybrown-600 hover:text-rosybrown-800 relative block pl-5 font-semibold text-nowrap transition-all duration-300",{"text-rosybrown-800 font-bold":u.value===i.id}])},[s("span",{class:H(["absolute left-0 transform transition-all duration-300",{"scale-125 opacity-100":u.value===i.id,"scale-90 opacity-60":u.value!==i.id}])},l(u.value===i.id?"⬤":"〇"),3),a(" "+l(i.text),1)],10,it)]))),128))])]))}}),ct=["id"],S=C({__name:"Subtitle",props:{text:{}},setup(g){const t=g;return(u,r)=>(n(),o("h2",{id:t.text,class:"border-rosybrown-800 text-rosybrown-800 mx-1 w-fit border-t-5 p-1 text-xl font-bold"},l(t.text),9,ct))}}),pt={class:"text-rosybrown-800 grid grid-cols-12 grid-rows-4 md:grid-rows-2"},mt={class:"col-span-2 row-span-4 content-center text-3xl font-bold sm:text-4xl md:col-span-1 md:row-span-2"},yt={class:"col-span-10 row-span-2 text-lg md:col-span-11 md:row-span-1"},wt={key:0},xt={key:0,class:"text-wheat-400 inline-block w-full md:inline md:w-fit"},gt={class:"col-span-10 row-span-2 text-lg md:col-span-11 md:row-span-1"},bt={key:0},vt={key:0,class:"text-wheat-400 inline-block w-full md:inline md:w-fit"},_t=C({__name:"WordCikLingEntry",props:{data:{}},setup(g){const t=g;return(u,r)=>(n(),o("div",pt,[s("div",mt,l(t.data.text),1),s("div",yt,[t.data.cikFinal?(n(),o("p",wt,[p(f,{class:"text-rosybrown-700"},{default:y(()=>r[0]||(r[0]=[a("戚书")])),_:1}),a(" "+l(t.data.cikInitial),1),r[2]||(r[2]=s("span",{class:"text-wheat-400 mr-1 text-sm"},"聲",-1)),a(l(t.data.cikFinal),1),r[3]||(r[3]=s("span",{class:"text-wheat-400 mr-1 text-sm"},"韻",-1)),a(l(t.data.tone),1),r[4]||(r[4]=s("span",{class:"text-wheat-400 mr-3 text-sm"},"調",-1)),t.data.cikAnnotation?(n(),o("span",xt,[p(f,{class:"text-rosybrown-700"},{default:y(()=>r[1]||(r[1]=[a("注释")])),_:1}),a(l(t.data.cikAnnotation),1),t.data.liAnnotateCik?(n(),k(_,{key:0,class:"ml-1"},{default:y(()=>[a(l(t.data.cikFinal)+" "+l(t.data.liAnnotateCikOrder),1)]),_:1})):m("",!0)])):m("",!0)])):m("",!0)]),s("div",gt,[t.data.lingFinal?(n(),o("p",bt,[p(f,{class:"text-rosybrown-700"},{default:y(()=>r[5]||(r[5]=[a("林书")])),_:1}),a(" "+l(t.data.lingInitial),1),r[7]||(r[7]=s("span",{class:"text-wheat-400 mr-1 text-sm"},"聲",-1)),a(l(t.data.lingFinal),1),r[8]||(r[8]=s("span",{class:"text-wheat-400 mr-1 text-sm"},"韻",-1)),a(l(t.data.tone),1),r[9]||(r[9]=s("span",{class:"text-wheat-400 mr-3 text-sm"},"調",-1)),t.data.lingAnnotation?(n(),o("span",vt,[p(f,{class:"text-rosybrown-700"},{default:y(()=>r[6]||(r[6]=[a("注释")])),_:1}),a(l(t.data.lingAnnotation),1),t.data.liAnnotateLing?(n(),k(_,{key:0,class:"ml-1 inline-block"},{default:y(()=>[a(l(t.data.lingFinal)+" "+l(t.data.liAnnotateLingOrder),1)]),_:1})):m("",!0)])):m("",!0)])):m("",!0)])]))}}),ht={key:0,class:"mt-2 mb-5 rounded-lg bg-white px-8 py-6"},ft={class:"mb-2 space-y-2"},kt={class:"text-rosybrown-800 space-y-1"},$t={key:0},Ct={key:1},At={class:"text-rosybrown-800 space-y-1"},Lt={key:0},Tt=C({__name:"WordCikLingCard",props:{data:{},isCommentedCikLing:{type:Boolean}},setup(g){const t=g,u=F(()=>t.data.map(c=>{const e=N[c.tone],w=c.cikAnnotation==""?"":r(c.cikAnnotation),i=c.lingAnnotation==""?"":r(c.lingAnnotation);return{...c,tone:e,cikAnnotation:w,lingAnnotation:i}})),r=c=>c.replace(/\d+$/,"").trim();return(c,e)=>{var w;return((w=u.value)==null?void 0:w.length)>0?(n(),o("div",ht,[s("div",ft,[(n(!0),o(x,null,A(u.value,(i,h)=>(n(),k(_t,{data:i,key:h},null,8,["data"]))),128))]),s("div",kt,[(n(!0),o(x,null,A(u.value,(i,h)=>(n(),o(x,{key:h},[i.liAnnotateCikOrder?(n(),o("p",$t,[p(_,null,{default:y(()=>[a(l(i.cikFinal)+" "+l(i.liAnnotateCikOrder),1)]),_:2},1024),a(l(i.liAnnotateCik),1)])):m("",!0),i.liAnnotateLingOrder?(n(),o("p",Ct,[p(_,null,{default:y(()=>[a(l(i.lingFinal)+" "+l(i.liAnnotateLingOrder),1)]),_:2},1024),a(l(i.liAnnotateLing),1)])):m("",!0)],64))),128))]),e[2]||(e[2]=s("p",{class:"text-rosybrown-200 mt-2 flex justify-end text-sm"}," 李如龙. 2001. 戚林八音校注. 福州: 福建人民出版社. ",-1)),t.isCommentedCikLing?(n(),o(x,{key:0},[e[1]||(e[1]=s("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),s("div",At,[(n(!0),o(x,null,A(u.value,(i,h)=>(n(),o(x,{key:h},[i.comment?(n(),o("p",Lt,[p(f,{class:"text-rosybrown-700"},{default:y(()=>e[0]||(e[0]=[a("校注")])),_:1}),a(l(i.comment),1)])):m("",!0)],64))),128))])],64)):m("",!0)])):m("",!0)}}}),St={class:"text-rosybrown-800 mt-2 mb-5 rounded-lg bg-white px-8 py-6"},Et={class:"items-baseline"},Ft={class:"text-rosybrown-800 mr-2 text-3xl font-bold sm:text-4xl"},It={class:"text-rosybrown-500 text-xl"},Mt={class:"flex w-full justify-end"},jt={key:0},Ht={class:"text-rosybrown-200 mt-2 flex justify-end text-sm"},Pt=C({__name:"WordFengCard",props:{data:{}},setup(g){const t=g,u=T("second"),r=()=>{u.value=u.value==="first"?"second":"first"};return(c,e)=>(n(),o("div",St,[s("div",Et,[s("span",Ft,l(t.data.text),1),s("span",It," /"+l(L(E)(t.data.pronLiteral,!0))+"/→/"+l(L(E)(t.data.pronSandhi,!0))+"/ ",1)]),s("div",Mt,[s("button",{class:"bg-wheat-50 hover:bg-wheat-100 mb-4 cursor-pointer rounded px-3 py-1 text-sm transition",onClick:r}," 显示"+l(u.value==="first"?"推荐用字":"原书用字"),1)]),p(O,{data:t.data.expls,"current-glyph":u.value},null,8,["data","current-glyph"]),t.data.comment?(n(),o("p",jt,[p(f,{class:"text-rosybrown-700"},{default:y(()=>e[0]||(e[0]=[a("注释")])),_:1}),a(l(L(I)(t.data.comment)),1)])):m("",!0),s("p",Ht,l(t.data.refPage?`冯爱珍. 1998. 福州方言词典. 南京: 江苏教育出版社. 第 ${t.data.refPage} 页.`:"冯爱珍. 1998. 福州方言词典. 南京: 江苏教育出版社."),1),t.data.correction?(n(),o(x,{key:1},[e[2]||(e[2]=s("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),s("p",null,[p(f,{class:"text-rosybrown-700"},{default:y(()=>e[1]||(e[1]=[a("校注")])),_:1}),a(l(t.data.correction),1)])],64)):m("",!0)]))}}),Bt={class:"text-rosybrown-800 mt-2 mb-5 flex flex-wrap gap-3 rounded-lg bg-white px-8 py-6"},Nt={key:0},Ot={key:1},Gt={key:2},Rt={key:3},Vt=["innerHTML"],Wt={key:4},zt=["innerHTML"],Dt=C({__name:"WordPhoneticCard",props:{data:{}},setup(g){const t=g,u=F(()=>{const r=t.data.phonologyTone?N[t.data.phonologyTone]:t.data.phonologyTone,c=E(t.data.yngping),e=t.data.phonologyInitial&&t.data.phonologyFinal&&r?Q(t.data.phonologyInitial,t.data.phonologyFinal,r):"";return{...t.data,phonologyTone:r,ipa:c,banguace:e}});return(r,c)=>(n(),o("div",Bt,[u.value.phonologyTone?(n(),o("p",Nt,[p(_,null,{default:y(()=>c[0]||(c[0]=[a("音韵地位")])),_:1}),a(l(u.value.phonologyInitial)+l(u.value.phonologyFinal)+l(u.value.phonologyTone),1)])):m("",!0),u.value.banguace?(n(),o("p",Ot,[p(_,null,{default:y(()=>c[1]||(c[1]=[a("教会罗马字")])),_:1}),a(l(u.value.banguace),1)])):m("",!0),u.value.ipa?(n(),o("p",Gt,[p(_,null,{default:y(()=>c[2]||(c[2]=[a("IPA")])),_:1}),a("/"+l(u.value.ipa)+"/",1)])):m("",!0),u.value.yngping?(n(),o("p",Rt,[p(_,null,{default:y(()=>c[3]||(c[3]=[a("榕拼键入")])),_:1}),s("span",{innerHTML:L(J)(u.value.yngping)},null,8,Vt)])):m("",!0),u.value.yngping?(n(),o("p",Wt,[p(_,null,{default:y(()=>c[4]||(c[4]=[a("榕拼手写")])),_:1}),s("span",{innerHTML:L(K)(u.value.yngping)},null,8,zt)])):m("",!0)]))}}),qt={};function Ut(g,t){return t[0]||(t[0]=W('<div class="bg-wheat-100 mt-5 mb-8 rounded-lg px-8 py-6"><div class="animate-pulse space-y-3.5"><div class="bg-wheat-200 mt-4.5 h-6 w-[50%] rounded-lg sm:w-40"></div><div class="bg-wheat-200 mb-4.5 h-6 w-[30%] rounded-lg sm:w-28"></div></div></div><div class="bg-wheat-100 mt-4.5 mb-4 h-6 w-[35%] animate-pulse rounded-lg sm:w-32"></div><div class="mt-2 mb-5 rounded-lg bg-white px-8 py-6"><div class="my-3 animate-pulse"><div class="bg-wheat-200 mb-4 h-6 w-[35%] rounded-lg sm:w-40"></div><div class="bg-wheat-100 mt-6 mb-2.5 h-3 w-[95%] rounded-lg sm:w-95 md:w-115"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[75%] rounded-lg sm:w-75"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[90%] rounded-lg sm:w-90"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[56%] rounded-lg sm:w-56"></div></div></div><div class="bg-wheat-100 mt-4.5 mb-4 h-6 w-[35%] animate-pulse rounded-lg sm:w-32"></div><div class="mt-2 mb-5 rounded-lg bg-white px-8 py-6"><div class="my-3 animate-pulse"><div class="bg-wheat-200 mb-4 h-6 w-[35%] rounded-lg sm:w-40"></div><div class="bg-wheat-100 mt-6 mb-2.5 h-3 w-[95%] rounded-lg sm:w-95 md:w-115"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[75%] rounded-lg sm:w-75"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[90%] rounded-lg sm:w-90"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[56%] rounded-lg sm:w-56"></div></div></div>',5))}const Yt=M(qt,[["render",Ut]]),Qt={class:"bg-wheat-100 mt-5 mb-8 rounded-lg px-8 py-6"},Jt={class:"ruby-container text-rosybrown-800 text-4xl font-bold break-all whitespace-normal md:text-5xl"},Kt=["innerHTML"],Xt={class:"text-rosybrown-800 mt-2 mb-5 rounded-lg bg-white px-8 py-6"},Zt={key:0},te={class:"space-y-1"},ee={key:0},se={key:1},ne={class:"text-rosybrown-800 mt-2 mb-5 overflow-hidden rounded-lg bg-white"},oe={class:"w-full border-collapse"},ae={class:"text-center"},le={class:"py-1.5"},re={class:"flex items-center justify-center py-2 md:hidden"},de={class:"hidden items-center justify-center py-2 md:flex"},ie={class:"py-1.5"},ue={key:0,class:"px-8 pb-6"},ce={class:"text-rosybrown-800 mt-2 mb-5 overflow-hidden rounded-lg bg-white"},pe={class:"w-full border-collapse"},me={class:"text-center"},ye={class:"py-1.5"},we={class:"flex items-center justify-center py-2"},xe={key:0,class:"px-8 pb-6"},Ae=C({__name:"WordView",setup(g){const t="https://seedict.com/api/v1",u=z(),r=T(u.query.w),c=T(!1),e=T({status:0,data:{w:"",result:{seedict:{text:"",glyphs:[],pronPrimary:"",prons:[],phonetics:{yngping:""},expls:[]},fengs:[],ciklings:[]}}}),w=()=>{var b,d,v;document.title=(v=(d=(b=e.value.data)==null?void 0:b.result)==null?void 0:d.seedict)!=null&&v.text?`${e.value.data.result.seedict.text} - 词汇`:"米时典 SeeDict - 词汇"},i=async()=>{c.value=!0;try{const b=await fetch(`${t}/word?w=${encodeURIComponent(r.value)}`);if(!b.ok)throw new Error("Response Error");e.value=await b.json(),w()}catch(b){console.error(b)}finally{c.value=!1}};D(()=>u.query.w,b=>{b&&(r.value=b,i())},{immediate:!0});const h=F(()=>e.value.data.result.ciklings.some(b=>{var d;return((d=b.comment)==null?void 0:d.trim())!==""}));return(b,d)=>(n(),o(x,null,[q(p(ut,{class:"hidden 2xl:block"},null,512),[[U,!c.value]]),p(Y,null,{default:y(()=>[c.value?(n(),k(Yt,{key:0})):(n(),o(x,{key:1},[s("div",Qt,[s("div",Jt,[s("ruby",{innerHTML:L(X)(e.value.data.result.seedict.text,e.value.data.result.seedict.pronPrimary,"text-rosybrown-700"),style:{"ruby-align":"center"}},null,8,Kt)])]),e.value.data.result.seedict.expls.length>0?(n(),o(x,{key:0},[p(S,{text:"本站释义"}),s("div",Xt,[p(O,{data:e.value.data.result.seedict.expls},null,8,["data"]),e.value.data.result.seedict.commentExpl?(n(),o("p",Zt,[p(f,{class:"text-rosybrown-700"},{default:y(()=>d[0]||(d[0]=[a("注释")])),_:1}),a(l(e.value.data.result.seedict.commentExpl),1)])):m("",!0),e.value.data.result.seedict.synonym||e.value.data.result.seedict.antonym?(n(),o(x,{key:1},[d[3]||(d[3]=s("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),s("div",te,[e.value.data.result.seedict.synonym?(n(),o("p",ee,[p(f,{class:"text-rosybrown-700"},{default:y(()=>d[1]||(d[1]=[a("近义词")])),_:1}),a(l(e.value.data.result.seedict.synonym),1)])):m("",!0),e.value.data.result.seedict.antonym?(n(),o("p",se,[p(f,{class:"text-rosybrown-700"},{default:y(()=>d[2]||(d[2]=[a("反义词")])),_:1}),a(l(e.value.data.result.seedict.antonym),1)])):m("",!0)])],64)):m("",!0)])],64)):m("",!0),e.value.data.result.fengs.length>0||e.value.data.result.ciklings.length>0?(n(),o(x,{key:1},[p(S,{text:"辞书释义"}),e.value.data.result.fengs.length>0?(n(!0),o(x,{key:0},A(e.value.data.result.fengs,(v,$)=>(n(),k(Pt,{data:v,key:$},null,8,["data"]))),128)):m("",!0),p(Tt,{data:e.value.data.result.ciklings,isCommentedCikLing:h.value},null,8,["data","isCommentedCikLing"])],64)):m("",!0),e.value.data.result.seedict.prons.length>0?(n(),o(x,{key:2},[p(S,{text:"各地方音"}),s("div",ne,[s("table",oe,[d[8]||(d[8]=s("thead",{class:"bg-rosybrown-300 text-center"},[s("tr",null,[s("th",{class:"py-1 text-white"},"读音"),s("th",{class:"py-1 text-white"},"连读"),s("th",{class:"py-1 text-white"},"地区")])],-1)),s("tbody",ae,[(n(!0),o(x,null,A(e.value.data.result.seedict.prons,(v,$)=>(n(),o("tr",{key:$},[s("td",le,l(L(E)(v.pron)),1),s("td",re,[v.isSandhi?(n(),k(_,{key:0},{default:y(()=>d[4]||(d[4]=[a("连")])),_:1})):(n(),k(_,{key:1},{default:y(()=>d[5]||(d[5]=[a("本")])),_:1}))]),s("td",de,[v.isSandhi?(n(),k(_,{key:0},{default:y(()=>d[6]||(d[6]=[a("连读音")])),_:1})):(n(),k(_,{key:1},{default:y(()=>d[7]||(d[7]=[a("本字音")])),_:1}))]),s("td",ie,l(v.location==""?"市区":v.location),1)]))),128))])]),e.value.data.result.seedict.commentPron?(n(),o("div",ue,[d[10]||(d[10]=s("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),s("p",null,[p(f,{class:"text-rosybrown-700"},{default:y(()=>d[9]||(d[9]=[a("注释 ")])),_:1}),a(l(e.value.data.result.seedict.commentPron),1)])])):m("",!0)])],64)):m("",!0),e.value.data.result.seedict.phonetics?(n(),o(x,{key:3},[p(S,{text:"注音一览"}),p(Dt,{data:e.value.data.result.seedict.phonetics},null,8,["data"])],64)):m("",!0),e.value.data.result.seedict.glyphs.length>0?(n(),o(x,{key:4},[p(S,{text:"用字一览"}),s("div",ce,[s("table",pe,[d[13]||(d[13]=s("thead",{class:"bg-rosybrown-300 text-center"},[s("tr",null,[s("th",{class:"py-1 text-white"},"用字"),s("th",{class:"py-1 text-white"},"类别")])],-1)),s("tbody",me,[(n(!0),o(x,null,A(e.value.data.result.seedict.glyphs,(v,$)=>(n(),o("tr",{key:$},[s("td",ye,l(v.glyph),1),s("td",we,[v.category=="本字"?(n(),k(_,{key:0},{default:y(()=>d[11]||(d[11]=[a("本字")])),_:1})):(n(),k(_,{key:1,content:v.category},{default:y(()=>d[12]||(d[12]=[a("俗字")])),_:2},1032,["content"]))])]))),128))])]),e.value.data.result.seedict.commentGlyph?(n(),o("div",xe,[d[15]||(d[15]=s("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),s("p",null,[p(f,{class:"text-rosybrown-700"},{default:y(()=>d[14]||(d[14]=[a("注释")])),_:1}),a(" "+l(e.value.data.result.seedict.commentGlyph),1)])])):m("",!0)])],64)):m("",!0)],64))]),_:1})],64))}});export{Ae as default};
