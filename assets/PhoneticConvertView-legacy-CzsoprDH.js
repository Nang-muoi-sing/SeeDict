System.register(["./index-legacy-BAgSZsUp.js","./RubyText-legacy-1gPf8bpb.js","./PageContent.vue_vue_type_script_setup_true_lang-legacy-D1Nr6zNE.js","./SearchBar-legacy-BVj9yrMe.js"],function(e,t){"use strict";var l,s,a,n,r,i,o,u,c,p,g,d,h,v,m,x,y,b,f,w,k,_,$,C,j,A,O,S,z;return{setters:[e=>{l=e.m,s=e.c,a=e.f,n=e.g,r=e.a,i=e.b,o=e.z,u=e.t,c=e.s,p=e.w,g=e.v,d=e.i,h=e.h,v=e.D,m=e.H,x=e.e,y=e.F,b=e.x,f=e.y,w=e.I},e=>{k=e.b,_=e.c,$=e.d,C=e.e,j=e.f,A=e.y,O=e.g,S=e._},e=>{z=e._},null],execute:function(){const t={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},B=l({name:"mi-switch",render:function(e,l){return a(),s("svg",t,l[0]||(l[0]=[n("path",{fill:"currentColor",d:"M14.293 2.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L16.586 8H5a1 1 0 0 1 0-2h11.586l-2.293-2.293a1 1 0 0 1 0-1.414m-4.586 10a1 1 0 0 1 0 1.414L7.414 16H19a1 1 0 1 1 0 2H7.414l2.293 2.293a1 1 0 0 1-1.414 1.414l-4-4a1 1 0 0 1 0-1.414l4-4a1 1 0 0 1 1.414 0"},null,-1)]))}}),H={class:"relative"},L=r({__name:"TextareaCard",props:{placeholder:{type:String,default:"placeholder"},inputAreaClass:{type:[String,Object,Array],default:""},placeholderClass:{type:[String,Object,Array],default:""}},setup(e,{expose:t}){const l=e,r=i(null),c=i(""),p=()=>{if(!r.value)return;let e=r.value.textContent?.trim()||"";c.value=e},g=()=>{p()},d=e=>{(["Backspace","Delete"].includes(e.key)||e.ctrlKey&&"a"===e.key)&&setTimeout(p,0)};return t({data:()=>c.value}),(t,i)=>(a(),s("div",H,[n("div",{contenteditable:"true",ref_key:"inputArea",ref:r,class:o(["bg-transparent outline-none",e.inputAreaClass]),onInput:g,onKeyup:d,onBlur:g,onCut:g},null,34),n("span",{class:o(["pointer-events-none absolute left-0 top-0 inline",{invisible:c.value.length>0},e.placeholderClass]),style:{"line-height":"inherit"}},u(l.placeholder),3)]))}}),T={class:"mb-5 flex flex-row text-4xl font-bold text-rosybrown-800"},V={class:"relative mt-5 mb-16 space-y-5 rounded-lg bg-white"},D={class:"absolute flex w-full items-center justify-between gap-1 px-6 pt-5"},I=["value"],K={class:"mx-4 rounded-full bg-white text-rosybrown-700 ring-8 ring-wheat-50"},P=["value"],U={class:"flex w-full flex-col lg:flex-row"},W={class:"my-3 ml-3 mr-3 flex-1 rounded-xl bg-wheat-50 pt-16 lg:mr-0"},E={class:"my-3 ml-3 mr-3 flex-1 rounded-xl bg-white lg:pl-0 lg:pt-16"},F=["tabindex","data-tooltip-target"],M=["id"],R={key:1,class:"text-3xl font-bold text-wheat-600/50"};e("default",r({__name:"PhoneticConvertView",setup(e){const t=[{label:"榕拼键入",value:"typing"},{label:"榕拼手写",value:"cursive"},{label:"国际音标",value:"ipa"}],l={typing:"huk21 ziu53 ua242",cursive:"hǔk zìu uâ",ipa:"huʔ˨˩ t͡siu˥˧ ua˨˦˨"},r=/\d+$/,H=i("typing"),q=i("cursive"),G=i(null),J=c(()=>G.value?.data?.()||""),N=Object.entries(k).reduce((e,[t,l])=>(e[l]||(e[l]=t),e),{}),Q=Object.entries(_).map(([e,t])=>({typing:e,ipa:t})).sort((e,t)=>t.ipa.length-e.ipa.length),X={};Object.entries($).forEach(([e,t])=>{X[t]||(X[t]=e)});const Y=Object.entries(C).map(([e,t])=>({tone:e,ipa:t})).sort((e,t)=>t.ipa.length-e.ipa.length),Z=c(()=>J.value?{tokens:(J.value.match(/\s+|\S+/g)??[]).map(e=>/^\s+$/.test(e)?{text:e,raw:e,type:"whitespace"}:function(e,t,l){const s=e.trim();if(!s)return{text:e,raw:e,type:"whitespace"};const a=function(e,t){return"typing"===t?function(e){const t=e.toLowerCase(),l=t.match(r);if(!l)return{success:!1,message:"缺少声调数字"};const s=l[0],a=t.slice(0,t.length-s.length);if(!a)return{success:!1,message:"缺少韵母部分"};const n=a.match(O);let i=n?n[0]:"",o=a.slice(i.length);return"ng"!==i||o||(i="",o="ng"),i in _?o&&o in $?s in C?{success:!0,value:`${i}${o}${s}`}:{success:!1,message:"声调不合法"}:{success:!1,message:"韵母不合法"}:{success:!1,message:"声母不合法"}}(e):"cursive"===t?function(e){const t=e.toLowerCase(),l=t.match(O);let s=l?l[0]:"",a=t.slice(s.length);if("ng"!==s||a||(s="",a="ng"),!a)return{success:!1,message:"缺少韵母部分"};const n=N[a];if(!n)return{success:!1,message:"未识别的手写韵母"};const i=n.match(r);if(!i)return{success:!1,message:"未识别声调"};const o=i[0],u=n.slice(0,n.length-o.length);return s in _?{success:!0,value:`${s}${u}${o}`}:{success:!1,message:"声母不合法"}}(e):function(e){const t=e.replace(/\//g,"").trim();if(!t)return{success:!1,message:"音节为空"};const l=Y.find(e=>t.endsWith(e.ipa));if(!l)return{success:!1,message:"未识别的声调"};const s=l.tone;let a=t.slice(0,t.length-l.ipa.length),n="",r=a;const i=Q.find(e=>e.ipa&&a.startsWith(e.ipa));i&&(n=i.typing,r=a.slice(i.ipa.length)),i||r!==a||(n="");const o=X[r];return o?{success:!0,value:`${n}${o}${s}`}:{success:!1,message:"未识别的韵母"}}(e)}(s,t);return a.success?{text:le(a.value,l),raw:e,type:"normal"}:{text:e,raw:e,type:"error",message:a.message}}(e,H.value,q.value))}:{tokens:[]}),ee=c(()=>Z.value.tokens),te=c(()=>ee.value.some(e=>"whitespace"!==e.type));function le(e,t){return"typing"===t?e:"cursive"===t?j(e):A(e)}return p(()=>ee.value,()=>{setTimeout(()=>{w()},0)},{deep:!0}),(e,r)=>{const i=S,c=B;return a(),g(z,{"show-search-bar":!1},{default:d(()=>[n("div",null,[n("div",T,[h(i,{text:"工具",yngping:"geoyng55 geoy242"})]),r[2]||(r[2]=n("div",{class:"space-y-2 text-sm font-semibold text-rosybrown-600"},[n("p",null," 在榕拼键入、榕拼手写与国际音标之间实时转换，逐个音节校验并提示错误，帮助你快速完成不同注音方案之间的互换。 ")],-1))]),n("div",V,[n("div",D,[v(n("select",{"onUpdate:modelValue":r[0]||(r[0]=e=>H.value=e),class:"w-full rounded-lg border border-wheat-200 bg-wheat-50/50 px-3 py-1.5 font-plain text-sm text-rosybrown-700 ring-wheat-200 transition hover:border-wheat-400"},[(a(),s(y,null,x(t,e=>n("option",{key:e.value,value:e.value},u(e.label),9,I)),64))],512),[[m,H.value]]),n("div",K,[h(c,{class:"m-2"})]),v(n("select",{"onUpdate:modelValue":r[1]||(r[1]=e=>q.value=e),class:"w-full rounded-lg border border-wheat-200 bg-wheat-50/50 px-3 py-1.5 font-plain text-sm text-rosybrown-700 ring-wheat-200 transition hover:border-wheat-400"},[(a(),s(y,null,x(t,e=>n("option",{key:e.value,value:e.value},u(e.label),9,P)),64))],512),[[m,q.value]])]),n("div",U,[n("div",W,[h(L,{ref_key:"inputArea",ref:G,placeholder:l[H.value],"placeholder-class":"px-6 text-3xl font-bold text-wheat-600/50 leading-relaxed","input-area-class":{"h-full min-h-[10rem] w-full break-all px-6 pb-6 leading-relaxed text-rosybrown-800 lg:min-h-[20rem]":!0,"text-3xl font-bold":J.value.length<120,"text-xl font-bold":J.value.length>=120&&J.value.length<280}},null,8,["placeholder","input-area-class"])]),n("div",E,[n("div",{class:o(["h-full min-h-[10rem] w-full break-all px-6 pb-6 leading-relaxed text-rosybrown-800 lg:min-h-[20rem]",{"text-3xl font-bold":J.value.length<120,"text-xl font-bold":J.value.length>=120&&J.value.length<280}]),style:{position:"relative"}},[te.value?(a(!0),s(y,{key:0},x(ee.value,(e,t)=>(a(),s(y,{key:t},[n("span",{tabindex:"error"===e.type&&e.message?0:void 0,"data-tooltip-target":"error"===e.type&&e.message?`tooltip-${t}`:void 0,class:o(["inline text-rosybrown-800",{"cursor-pointer rounded-md bg-rose-50 px-1 ring-1 ring-rose-100":"error"===e.type,"whitespace-pre-wrap":"whitespace"===e.type}])},u(e.text),11,F),"error"===e.type&&e.message?(a(),s("div",{key:0,id:`tooltip-${t}`,role:"tooltip",class:"tooltip invisible absolute z-50 inline-block rounded-xl bg-rosybrown-900 px-3 py-2 text-sm text-wheat-50 opacity-0 transition-opacity duration-500"},[f(u(e.message)+" ",1),r[3]||(r[3]=n("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1))],8,M)):b("",!0)],64))),128)):(a(),s("span",R,u(l[q.value]),1))],2)])])])]),_:1})}}}))}}});
