System.register(["./index-legacy-CrhFceZP.js","./RubyText-legacy-i_OrOgF7.js","./PageContent.vue_vue_type_script_setup_true_lang-legacy-nrB0-a-C.js","./ToastTip.vue_vue_type_script_setup_true_lang-legacy-Dh4_0w4l.js","./SearchBar-legacy-CrQx76pB.js"],function(e,t){"use strict";var l,a,s,n,r,o,i,u,c,p,g,d,h,v,m,x,y,b,f,w,_,k,C,T,j,$,V,z,q,A;return{setters:[e=>{l=e.m,a=e.c,s=e.f,n=e.g,r=e.a,o=e.b,i=e.z,u=e.t,c=e.s,p=e.w,g=e.v,d=e.i,h=e.h,v=e.D,m=e.H,x=e.e,y=e.F,b=e.x,f=e.y,w=e.I},e=>{_=e.b,k=e.c,C=e.d,T=e.e,j=e.f,$=e.y,V=e.g,z=e._},e=>{q=e._},e=>{A=e._},null],execute:function(){const t={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},B=l({name:"material-symbols-content-copy",render:function(e,l){return s(),a("svg",t,l[0]||(l[0]=[n("path",{fill:"currentColor",d:"M9 18q-.825 0-1.412-.587T7 16V4q0-.825.588-1.412T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.587 1.413T18 18zm-4 4q-.825 0-1.412-.587T3 20V6h2v14h11v2z"},null,-1)]))}}),H={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},O=l({name:"material-symbols-delete",render:function(e,t){return s(),a("svg",H,t[0]||(t[0]=[n("path",{fill:"currentColor",d:"M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zm2-4h2V8H9zm4 0h2V8h-2z"},null,-1)]))}}),S={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},L=l({name:"mi-switch",render:function(e,t){return s(),a("svg",S,t[0]||(t[0]=[n("path",{fill:"currentColor",d:"M14.293 2.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L16.586 8H5a1 1 0 0 1 0-2h11.586l-2.293-2.293a1 1 0 0 1 0-1.414m-4.586 10a1 1 0 0 1 0 1.414L7.414 16H19a1 1 0 1 1 0 2H7.414l2.293 2.293a1 1 0 0 1-1.414 1.414l-4-4a1 1 0 0 1 0-1.414l4-4a1 1 0 0 1 1.414 0"},null,-1)]))}}),M={class:"relative"},D=r({__name:"TextareaCard",props:{placeholder:{type:String,default:"placeholder"},inputAreaClass:{type:[String,Object,Array],default:""},placeholderClass:{type:[String,Object,Array],default:""}},setup(e,{expose:t}){const l=e,r=o(null),c=o(""),p=()=>{if(!r.value)return;let e=r.value.textContent?.trim()||"";c.value=e},g=()=>{p()},d=e=>{(["Backspace","Delete"].includes(e.key)||e.ctrlKey&&"a"===e.key)&&setTimeout(p,0)};return t({data:()=>c.value,clear:()=>{r.value&&(r.value.textContent="",c.value="")}}),(t,o)=>(s(),a("div",M,[n("div",{contenteditable:"true",ref_key:"inputArea",ref:r,class:i(["bg-transparent outline-none",e.inputAreaClass]),onInput:g,onKeyup:d,onBlur:g,onCut:g},null,34),n("span",{class:i(["pointer-events-none absolute left-0 top-0 inline",{invisible:c.value.length>0},e.placeholderClass]),style:{"line-height":"inherit"}},u(l.placeholder),3)]))}}),I={class:"mb-5 flex flex-row text-4xl font-bold text-rosybrown-800"},K={class:"relative mb-16 mt-5 space-y-5 rounded-lg bg-white"},P={class:"absolute flex w-full items-center justify-between gap-1 px-6 pt-5"},U=["value"],W={class:"mx-2 rounded-full bg-white text-rosybrown-700 ring-8 ring-wheat-50"},E=["value"],F={class:"flex w-full flex-col lg:flex-row"},R={class:"my-3 ml-3 mr-3 flex flex-1 flex-col rounded-xl bg-wheat-50 pt-16 lg:mr-0"},G={class:"bg-red mt-auto px-6 py-3"},J={class:"my-3 ml-3 mr-3 flex flex-1 flex-col rounded-xl bg-white lg:pl-0 lg:pt-16"},N=["tabindex","data-tooltip-target"],Q=["id"],X={key:1,class:"select-none text-3xl font-bold text-wheat-600/50"},Y={class:"mt-auto px-6 py-3"};e("default",r({__name:"PhoneticConvertView",setup(e){const t=[{label:"榕拼键入",value:"typing"},{label:"榕拼手写",value:"cursive"},{label:"国际音标",value:"ipa"}],l={typing:"huk21 ziu53 ua242",cursive:"hǔk zìu uâ",ipa:"huʔ˨˩ t͡siu˥˧ ua˨˦˨"},r=/\d+$/,H=o("typing"),S=o("cursive"),M=o(null),Z=o(null),ee=c(()=>M.value?.data?.()||""),te=Object.entries(_).reduce((e,[t,l])=>(e[l]||(e[l]=t),e),{}),le=Object.entries(k).map(([e,t])=>({typing:e,ipa:t})).sort((e,t)=>t.ipa.length-e.ipa.length),ae={};Object.entries(C).forEach(([e,t])=>{ae[t]||(ae[t]=e)});const se=Object.entries(T).map(([e,t])=>({tone:e,ipa:t})).sort((e,t)=>t.ipa.length-e.ipa.length),ne=c(()=>ee.value?{tokens:(ee.value.match(/\s+|\S+/g)??[]).map(e=>/^\s+$/.test(e)?{text:e,raw:e,type:"whitespace"}:function(e,t,l){const a=e.trim();if(!a)return{text:e,raw:e,type:"whitespace"};const s=function(e,t){return"typing"===t?function(e){const t=e.toLowerCase(),l=t.match(r);if(!l)return{success:!1,message:"缺少声调数字"};const a=l[0],s=t.slice(0,t.length-a.length);if(!s)return{success:!1,message:"缺少韵母部分"};const n=s.match(V);let o=n?n[0]:"",i=s.slice(o.length);return"ng"!==o||i||(o="",i="ng"),o in k?i&&i in C?a in T?{success:!0,value:`${o}${i}${a}`}:{success:!1,message:"声调不合法"}:{success:!1,message:"韵母不合法"}:{success:!1,message:"声母不合法"}}(e):"cursive"===t?function(e){const t=e.toLowerCase(),l=t.match(V);let a=l?l[0]:"",s=t.slice(a.length);if("ng"!==a||s||(a="",s="ng"),!s)return{success:!1,message:"缺少韵母部分"};const n=te[s];if(!n)return{success:!1,message:"未识别的手写韵母"};const o=n.match(r);if(!o)return{success:!1,message:"未识别声调"};const i=o[0],u=n.slice(0,n.length-i.length);return a in k?{success:!0,value:`${a}${u}${i}`}:{success:!1,message:"声母不合法"}}(e):function(e){const t=e.replace(/\//g,"").trim();if(!t)return{success:!1,message:"音节为空"};const l=se.find(e=>t.endsWith(e.ipa));if(!l)return{success:!1,message:"未识别的声调"};const a=l.tone;let s=t.slice(0,t.length-l.ipa.length),n="",r=s;const o=le.find(e=>e.ipa&&s.startsWith(e.ipa));o&&(n=o.typing,r=s.slice(o.ipa.length)),o||r!==s||(n="");const i=ae[r];return i?{success:!0,value:`${n}${i}${a}`}:{success:!1,message:"未识别的韵母"}}(e)}(a,t);return s.success?{text:ie(s.value,l),raw:e,type:"normal"}:{text:e,raw:e,type:"error",message:s.message}}(e,H.value,S.value))}:{tokens:[]}),re=c(()=>ne.value.tokens),oe=c(()=>re.value.some(e=>"whitespace"!==e.type));function ie(e,t){return"typing"===t?e:"cursive"===t?j(e):$(e)}const ue=()=>{M.value?.clear()},ce=async()=>{const e=re.value.map(e=>e.text).join("");if(e)try{await navigator.clipboard.writeText(e),Z.value?.tip()}catch(t){console.error("复制失败:",t)}};return p(()=>re.value,()=>{setTimeout(()=>{w()},0)},{deep:!0}),(e,r)=>{const o=z,c=L,p=O,w=B;return s(),g(q,{"show-search-bar":!1},{default:d(()=>[n("div",null,[n("div",I,[h(o,{text:"工具",yngping:"geoyng55 geoy242"})]),r[2]||(r[2]=n("div",{class:"space-y-2 text-sm font-semibold text-rosybrown-600"},[n("p",null," 在榕拼键入、榕拼手写与国际音标之间实时转换，逐个音节校验并提示错误，帮助你快速完成不同注音方案之间的互换。 ")],-1))]),n("div",K,[n("div",P,[v(n("select",{"onUpdate:modelValue":r[0]||(r[0]=e=>H.value=e),class:"w-full rounded-lg border border-wheat-200 bg-wheat-50/50 px-3 py-1.5 font-plain text-sm text-rosybrown-700 ring-wheat-200 transition hover:border-wheat-400"},[(s(),a(y,null,x(t,e=>n("option",{key:e.value,value:e.value},u(e.label),9,U)),64))],512),[[m,H.value]]),n("div",W,[h(c,{class:"m-2"})]),v(n("select",{"onUpdate:modelValue":r[1]||(r[1]=e=>S.value=e),class:"w-full rounded-lg border border-wheat-200 bg-wheat-50/50 px-3 py-1.5 font-plain text-sm text-rosybrown-700 ring-wheat-200 transition hover:border-wheat-400"},[(s(),a(y,null,x(t,e=>n("option",{key:e.value,value:e.value},u(e.label),9,E)),64))],512),[[m,S.value]])]),n("div",F,[n("div",R,[h(D,{ref_key:"inputArea",ref:M,placeholder:l[H.value],"placeholder-class":"px-6 text-3xl font-bold text-wheat-600/50 leading-relaxed","input-area-class":{"h-full min-h-[10rem] w-full break-all px-6 leading-relaxed text-rosybrown-800 lg:min-h-[20rem]":!0,"text-3xl font-bold":ee.value.length<120,"text-xl font-bold":ee.value.length>=120&&ee.value.length<280}},null,8,["placeholder","input-area-class"]),n("div",G,[n("button",{onClick:ue,class:"rounded-lg bg-wheat-100 p-1.5 text-wheat-500 duration-300 hover:bg-wheat-200 active:bg-wheat-200"},[h(p)])])]),n("div",J,[n("div",{class:i(["h-full min-h-[10rem] w-full break-all px-6 leading-relaxed text-rosybrown-800 lg:min-h-[20rem]",{"text-3xl font-bold":ee.value.length<120,"text-xl font-bold":ee.value.length>=120&&ee.value.length<280}])},[oe.value?(s(!0),a(y,{key:0},x(re.value,(e,t)=>(s(),a(y,{key:t},[n("span",{tabindex:"error"===e.type&&e.message?0:void 0,"data-tooltip-target":"error"===e.type&&e.message?`tooltip-${t}`:void 0,class:i(["inline text-rosybrown-800",{"cursor-pointer rounded-md bg-rose-50 px-1 ring-1 ring-rose-100":"error"===e.type,"whitespace-pre-wrap":"whitespace"===e.type}])},u(e.text),11,N),"error"===e.type&&e.message?(s(),a("div",{key:0,id:`tooltip-${t}`,role:"tooltip",class:"tooltip invisible absolute z-50 inline-block rounded-xl bg-rosybrown-900 px-3 py-2 text-sm text-wheat-50 opacity-0 transition-opacity duration-500"},[f(u(e.message)+" ",1),r[3]||(r[3]=n("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1))],8,Q)):b("",!0)],64))),128)):(s(),a("span",X,u(l[S.value]),1))],2),n("div",Y,[n("button",{onClick:ce,class:"rounded-lg bg-wheat-100 p-1.5 text-wheat-500 duration-300 hover:bg-wheat-200 active:bg-wheat-200"},[h(w)])]),h(A,{ref_key:"copyTip",ref:Z},{default:d(()=>r[4]||(r[4]=[f("已复制结果")])),_:1},512)])])])]),_:1})}}}))}}});
