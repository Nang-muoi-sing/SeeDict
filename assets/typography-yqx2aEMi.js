import{c as h,d as x}from"./phonetics-BQsEnJbI.js";import{d as k,j as r,c as l,b as o,F as _,e as s,t as c,u as v,a as C,l as w}from"./index-B6toBDdj.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={key:1},Y={class:"rb"},F={class:"text-rosybrown-700"},S={key:2},$={class:"text-rosybrown-700"},j=k({__name:"RubyText",props:{text:{},yngping:{}},setup(a){const n=a,u=r(()=>n.text.trim()),d=r(()=>n.yngping.trim()),g=r(()=>{const i=u.value.split(/(?:)/u),e=[];for(let t=0;t<i.length;t++)if(i[t]!=="*"){if(t===length-1){e.push(!1);continue}i[t+1]==="*"?e.push(!0):e.push(!1)}return e}),p=r(()=>u.value.replace(/\*/gu,"")),y=r(()=>p.value.split(/(?:)/u)),f=r(()=>d.value.split(" ")),b=r(()=>y.value.length===f.value.length);return(i,e)=>!n.text||!n.yngping?(o(),l(_,{key:0},[],64)):b.value?(o(),l("ruby",S,[(o(!0),l(_,null,C(y.value,(t,m)=>(o(),l(_,{key:`${t}-${m}`},[s("span",{class:w(["rb",{"phonetic-loan-character":g.value[m]}])},c(t),3),e[2]||(e[2]=s("rp",null,"(",-1)),s("rt",$," "+c(v(x)(f.value[m]))+" ",1),e[3]||(e[3]=s("rp",null,")",-1))],64))),128))])):(o(),l("ruby",B,[s("span",Y,c(p.value),1),e[0]||(e[0]=s("rp",null,"(",-1)),s("rt",F,c(v(h)(n.yngping)),1),e[1]||(e[1]=s("rp",null,")",-1))]))}}),G=T(j,[["__scopeId","data-v-e0f16939"]]),I=a=>a.replace(/“/g,"「").replace(/”/g,"」"),L=(a,n="second")=>{const u=/\{([^,]+),([^}]+)\}/g;return a.replace(u,(d,g,p)=>n==="first"?g:p)};export{G as _,I as r,L as t};
