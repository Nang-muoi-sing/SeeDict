import{c as a,b as s,e as t,z as P,d as A,r as T,j as E,k as p,t as d,o as W,A as z,F as v,a as L,l as H,q as o,h as m,w as y,x as k,u as C,s as D,p as q,v as G,B as U,C as Y}from"./index-DLIeYF6m.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as F,t as N,y as B,p as Q,a as J,b as K,m as X,c as Z}from"./typography-CjWSCFAn.js";import{_ as tt}from"./PageContent.vue_vue_type_script_setup_true_lang-BmztiFjV.js";import"./NavBar-BgoN-geY.js";import"./SearchBar-QQHU0PZx.js";const et={},st={class:"align-text-bottom"},nt={class:"bg-wheat-100 text-rosybrown-600 mr-1 w-fit rounded-md px-1 py-0.5 text-xs"};function ot(_,e){return s(),a("span",st,[t("span",nt,[P(_.$slots,"default")])])}const f=I(et,[["render",ot]]),at={key:0,class:"flex w-full justify-end"},lt=["innerHTML"],O=A({__name:"ExplanationBlock",props:{explanations:{},toggleButton:{type:Boolean,default:!1}},setup(_){const e=_,i=T("first"),r=()=>{i.value=i.value==="first"?"second":"first"},u=g=>{const b=/\{([^,]+),([^}]+)\}/g;return g.replace(b,(l,x,$)=>i.value==="first"?x:$)},n=g=>g.join(".")+". ",w=(g,b=[])=>`<ol class="list-none ${b.length===0?"pl-0":"pl-2 md:pl-6"}">${g.map((l,x)=>{var M,j;const $=[...b,x+1],R=`${l.lexical?`<span
    class="seeicon- mr-1 inline-block align-text-bottom text-rosybrown-700"
    style="font-size: 20px"
    >${l.lexical}</span>`:""}${F(l.expl)}`;return`
    <li class="mb-2">
      <p class="flex items-start">
        <span class="font-semibold mr-2">${n($)}</span>
        <span>${R}</span>
      </p>

      ${(M=l.sent)!=null&&M.length?`<ul class="list-none pl-2 md:pl-6 mt-1 space-y-1">${l.sent.map(V=>`
          <li class="flex items-start text-wheat-400">
            <span class="mr-2">•</span>
            <span>${F(u(V))}</span>
          </li>
        `).join("")}</ul>`:""}

      ${(j=l.node)!=null&&j.length?w(l.node,$):""}
    </li>
  `}).join("")}</ol>`,c=E(()=>w(e.explanations));return(g,b)=>(s(),a("div",null,[e.toggleButton?(s(),a("div",at,[t("button",{class:"bg-wheat-50 hover:bg-wheat-100 mb-4 cursor-pointer rounded px-3 py-1 text-sm transition",onClick:r}," 显示"+d(i.value==="first"?"推荐用字":"原书用字"),1)])):p("",!0),t("div",{innerHTML:c.value},null,8,lt)]))}}),rt={},dt={class:"seeicon- mr-1 align-text-bottom",style:{"font-size":"20px"}};function it(_,e){return s(),a("span",dt,[P(_.$slots,"default")])}const h=I(rt,[["render",it]]),ut={class:"fixed top-[170px] left-25 z-50 w-56 rounded-lg bg-white p-5"},ct={class:"space-y-1"},pt=["href"],mt=A({__name:"SideBar",setup(_){const e=T([]),i=T(""),r=()=>{const n=document.querySelectorAll("h2[id]");e.value=Array.from(n).map(w=>{var c;return{id:w.id,text:((c=w.textContent)==null?void 0:c.trim())||`标题${Array.from(n).indexOf(w)+1}`}}),u()},u=()=>{const n=window.scrollY+100;for(let w=e.value.length-1;w>=0;w--){const c=e.value[w],g=document.getElementById(c.id);if(g&&n>=g.offsetTop){i.value=c.id;return}}e.value.length>0&&(i.value=e.value[0].id)};return W(()=>{r(),window.addEventListener("scroll",u);const n=new MutationObserver(r);n.observe(document.body,{childList:!0,subtree:!0}),z(()=>{window.removeEventListener("scroll",u),n.disconnect()})}),(n,w)=>(s(),a("aside",ut,[t("ol",ct,[(s(!0),a(v,null,L(e.value,(c,g)=>(s(),a("li",{key:g},[t("a",{href:`#${c.id}`,class:H(["text-rosybrown-600 hover:text-rosybrown-800 relative block pl-5 font-semibold text-nowrap transition-all duration-300",{"text-rosybrown-800 font-bold":i.value===c.id}])},[t("span",{class:H(["absolute left-0 transform transition-all duration-300",{"scale-125 opacity-100":i.value===c.id,"scale-90 opacity-60":i.value!==c.id}])},d(i.value===c.id?"⬤":"〇"),3),o(" "+d(c.text),1)],10,pt)]))),128))])]))}}),yt=["id"],S=A({__name:"Subtitle",props:{text:{}},setup(_){const e=_;return(i,r)=>(s(),a("h2",{id:e.text,class:"border-rosybrown-800 text-rosybrown-800 mx-1 w-fit border-t-5 p-1 text-xl font-bold"},d(e.text),9,yt))}}),xt={class:"text-rosybrown-800 grid grid-cols-12 grid-rows-4 md:grid-rows-2"},gt={class:"col-span-2 row-span-4 content-center text-3xl font-bold sm:text-4xl md:col-span-1 md:row-span-2"},bt={class:"col-span-10 row-span-2 text-lg md:col-span-11 md:row-span-1"},vt={key:0},_t={key:0,class:"text-wheat-400 inline-block w-full md:inline md:w-fit"},wt={class:"col-span-10 row-span-2 text-lg md:col-span-11 md:row-span-1"},ft={key:0},ht={key:0,class:"text-wheat-400 inline-block w-full md:inline md:w-fit"},kt=A({__name:"WordCikLingEntry",props:{data:{}},setup(_){const e=_;return(i,r)=>(s(),a("div",xt,[t("div",gt,d(e.data.text),1),t("div",bt,[e.data.cikFinal?(s(),a("p",vt,[m(h,{class:"text-rosybrown-700"},{default:y(()=>r[0]||(r[0]=[o("戚书")])),_:1}),o(" "+d(e.data.cikInitial),1),r[2]||(r[2]=t("span",{class:"text-wheat-400 mr-1 text-sm"},"聲",-1)),o(d(e.data.cikFinal),1),r[3]||(r[3]=t("span",{class:"text-wheat-400 mr-1 text-sm"},"韻",-1)),o(d(e.data.tone),1),r[4]||(r[4]=t("span",{class:"text-wheat-400 mr-3 text-sm"},"調",-1)),e.data.cikAnnotation?(s(),a("span",_t,[m(h,{class:"text-rosybrown-700"},{default:y(()=>r[1]||(r[1]=[o("注释")])),_:1}),o(d(e.data.cikAnnotation),1),e.data.liAnnotateCik?(s(),k(f,{key:0,class:"ml-1"},{default:y(()=>[o(d(e.data.cikFinal)+" "+d(e.data.liAnnotateCikOrder),1)]),_:1})):p("",!0)])):p("",!0)])):p("",!0)]),t("div",wt,[e.data.lingFinal?(s(),a("p",ft,[m(h,{class:"text-rosybrown-700"},{default:y(()=>r[5]||(r[5]=[o("林书")])),_:1}),o(" "+d(e.data.lingInitial),1),r[7]||(r[7]=t("span",{class:"text-wheat-400 mr-1 text-sm"},"聲",-1)),o(d(e.data.lingFinal),1),r[8]||(r[8]=t("span",{class:"text-wheat-400 mr-1 text-sm"},"韻",-1)),o(d(e.data.tone),1),r[9]||(r[9]=t("span",{class:"text-wheat-400 mr-3 text-sm"},"調",-1)),e.data.lingAnnotation?(s(),a("span",ht,[m(h,{class:"text-rosybrown-700"},{default:y(()=>r[6]||(r[6]=[o("注释")])),_:1}),o(d(e.data.lingAnnotation),1),e.data.liAnnotateLing?(s(),k(f,{key:0,class:"ml-1 inline-block"},{default:y(()=>[o(d(e.data.lingFinal)+" "+d(e.data.liAnnotateLingOrder),1)]),_:1})):p("",!0)])):p("",!0)])):p("",!0)])]))}}),$t={key:0,class:"mt-2 mb-5 rounded-lg bg-white px-8 py-6"},Ct={class:"mb-2 space-y-2"},At={class:"text-rosybrown-800 space-y-1"},Lt={key:0},Tt={key:1},St={class:"text-rosybrown-800 space-y-1"},Bt={key:0},Et=A({__name:"WordCikLingCard",props:{data:{},isCommentedCikLing:{type:Boolean}},setup(_){const e=_,i=E(()=>e.data.map(u=>{const n=N[u.tone],w=u.cikAnnotation==""?"":r(u.cikAnnotation),c=u.lingAnnotation==""?"":r(u.lingAnnotation);return{...u,tone:n,cikAnnotation:w,lingAnnotation:c}})),r=u=>u.replace(/\d+$/,"").trim();return(u,n)=>{var w;return((w=i.value)==null?void 0:w.length)>0?(s(),a("div",$t,[t("div",Ct,[(s(!0),a(v,null,L(i.value,(c,g)=>(s(),k(kt,{data:c,key:g},null,8,["data"]))),128))]),t("div",At,[(s(!0),a(v,null,L(i.value,(c,g)=>(s(),a(v,{key:g},[c.liAnnotateCikOrder?(s(),a("p",Lt,[m(f,null,{default:y(()=>[o(d(c.cikFinal)+" "+d(c.liAnnotateCikOrder),1)]),_:2},1024),o(d(c.liAnnotateCik),1)])):p("",!0),c.liAnnotateLingOrder?(s(),a("p",Tt,[m(f,null,{default:y(()=>[o(d(c.lingFinal)+" "+d(c.liAnnotateLingOrder),1)]),_:2},1024),o(d(c.liAnnotateLing),1)])):p("",!0)],64))),128))]),n[2]||(n[2]=t("p",{class:"text-rosybrown-200 mt-2 flex justify-end text-sm"}," 李如龙. 2001. 戚林八音校注. 福州: 福建人民出版社. ",-1)),e.isCommentedCikLing?(s(),a(v,{key:0},[n[1]||(n[1]=t("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),t("div",St,[(s(!0),a(v,null,L(i.value,(c,g)=>(s(),a(v,{key:g},[c.comment?(s(),a("p",Bt,[m(h,{class:"text-rosybrown-700"},{default:y(()=>n[0]||(n[0]=[o("校注")])),_:1}),o(d(c.comment),1)])):p("",!0)],64))),128))])],64)):p("",!0)])):p("",!0)}}}),Ft={class:"text-rosybrown-800 mt-2 mb-5 rounded-lg bg-white px-8 py-6"},It={class:"items-baseline"},Mt={class:"text-rosybrown-800 mr-2 text-3xl font-bold sm:text-4xl"},jt={class:"text-rosybrown-500 text-xl"},Ht={key:0},Pt={class:"text-rosybrown-200 mt-2 flex justify-end text-sm"},Nt=A({__name:"WordFengCard",props:{data:{}},setup(_){const e=_;return(i,r)=>(s(),a("div",Ft,[t("div",It,[t("span",Mt,d(e.data.text),1),t("span",jt,[o(" /"+d(C(B)(e.data.pronLiteral))+"/",1),r[0]||(r[0]=t("span",{class:"font-serif font-bold"},"→",-1)),o("/"+d(C(B)(e.data.pronSandhi))+"/ ",1)])]),m(O,{explanations:e.data.expls,"toggle-button":!0},null,8,["explanations"]),e.data.comment?(s(),a("p",Ht,[m(h,{class:"text-rosybrown-700"},{default:y(()=>r[1]||(r[1]=[o("注释")])),_:1}),o(d(C(F)(e.data.comment)),1)])):p("",!0),t("p",Pt,d(e.data.refPage?`冯爱珍. 1998. 福州方言词典. 南京: 江苏教育出版社. 第 ${e.data.refPage} 页.`:"冯爱珍. 1998. 福州方言词典. 南京: 江苏教育出版社."),1),e.data.correction?(s(),a(v,{key:1},[r[3]||(r[3]=t("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),t("p",null,[m(h,{class:"text-rosybrown-700"},{default:y(()=>r[2]||(r[2]=[o("校注")])),_:1}),o(d(e.data.correction),1)])],64)):p("",!0)]))}}),Ot={class:"text-rosybrown-800 mt-2 mb-5 flex flex-wrap gap-3 rounded-lg bg-white px-8 py-6"},Rt={key:0},Vt={key:1},Wt={key:2},zt={key:3},Dt=["innerHTML"],qt={key:4},Gt=["innerHTML"],Ut=A({__name:"WordPhoneticCard",props:{data:{}},setup(_){const e=_,i=E(()=>{const r=e.data.phonologyTone?N[e.data.phonologyTone]:e.data.phonologyTone,u=B(e.data.yngping),n=e.data.phonologyInitial&&e.data.phonologyFinal&&r?Q(e.data.phonologyInitial,e.data.phonologyFinal,r):"";return{...e.data,phonologyTone:r,ipa:u,banguace:n}});return(r,u)=>(s(),a("div",Ot,[i.value.phonologyTone?(s(),a("p",Rt,[m(f,null,{default:y(()=>u[0]||(u[0]=[o("音韵地位")])),_:1}),o(d(i.value.phonologyInitial)+d(i.value.phonologyFinal)+d(i.value.phonologyTone),1)])):p("",!0),i.value.banguace?(s(),a("p",Vt,[m(f,null,{default:y(()=>u[1]||(u[1]=[o("教会罗马字")])),_:1}),o(d(i.value.banguace),1)])):p("",!0),i.value.ipa?(s(),a("p",Wt,[m(f,null,{default:y(()=>u[2]||(u[2]=[o("IPA")])),_:1}),o("/"+d(i.value.ipa)+"/",1)])):p("",!0),i.value.yngping?(s(),a("p",zt,[m(f,null,{default:y(()=>u[3]||(u[3]=[o("榕拼键入")])),_:1}),t("span",{innerHTML:C(J)(i.value.yngping)},null,8,Dt)])):p("",!0),i.value.yngping?(s(),a("p",qt,[m(f,null,{default:y(()=>u[4]||(u[4]=[o("榕拼手写")])),_:1}),t("span",{innerHTML:C(K)(i.value.yngping)},null,8,Gt)])):p("",!0)]))}}),Yt={};function Qt(_,e){return e[0]||(e[0]=D('<div class="bg-wheat-100 mt-5 mb-8 rounded-lg px-8 py-6"><div class="animate-pulse space-y-3.5"><div class="bg-wheat-200 mt-4.5 h-6 w-40 rounded-lg"></div><div class="bg-wheat-200 mb-4.5 h-6 w-28 rounded-lg"></div></div></div><div class="bg-wheat-100 mt-4.5 mb-4 h-6 w-32 animate-pulse rounded-lg"></div><div class="mt-2 mb-5 rounded-lg bg-white px-8 py-6"><div class="my-3 animate-pulse"><div class="bg-wheat-200 mb-4 h-6 w-40 rounded-lg"></div><div class="bg-wheat-100 mt-6 mb-2.5 h-3 w-115 rounded-lg"></div><div class="bg-wheat-100 mb-2.5 h-3 w-75 rounded-lg"></div><div class="bg-wheat-100 mb-2.5 h-3 w-90 rounded-lg"></div><div class="bg-wheat-100 mb-2.5 h-3 w-56 rounded-lg"></div></div></div><div class="bg-wheat-100 mt-4.5 mb-4 h-6 w-32 animate-pulse rounded-lg"></div><div class="mt-2 mb-5 rounded-lg bg-white px-8 py-6"><div class="my-3 animate-pulse"><div class="bg-wheat-200 mb-4 h-6 w-40 rounded-lg"></div><div class="bg-wheat-100 mt-6 mb-2.5 h-3 w-115 rounded-lg"></div><div class="bg-wheat-100 mb-2.5 h-3 w-75 rounded-lg"></div><div class="bg-wheat-100 mb-2.5 h-3 w-90 rounded-lg"></div><div class="bg-wheat-100 mb-2.5 h-3 w-56 rounded-lg"></div></div></div>',5))}const Jt=I(Yt,[["render",Qt]]),Kt={class:"bg-wheat-100 mt-5 mb-8 rounded-lg px-8 py-6"},Xt={class:"ruby-container text-rosybrown-800 text-4xl font-bold break-all whitespace-normal md:text-5xl"},Zt=["innerHTML"],te={class:"text-rosybrown-800 mt-2 mb-5 rounded-lg bg-white px-8 py-6"},ee={key:0},se={class:"space-y-1"},ne={key:0},oe={key:1},ae={class:"text-rosybrown-800 mt-2 mb-5 overflow-hidden rounded-lg bg-white"},le={class:"w-full border-collapse"},re={class:"text-center"},de={class:"py-1.5"},ie={class:"flex items-center justify-center py-2 md:hidden"},ue={class:"hidden items-center justify-center py-2 md:flex"},ce={class:"py-1.5"},pe={class:"hidden py-1.5 md:block"},me={key:0,class:"px-8 pb-6"},ye={class:"text-rosybrown-800 mt-2 mb-5 overflow-hidden rounded-lg bg-white"},xe={class:"w-full border-collapse"},ge={class:"text-center"},be={class:"py-1.5"},ve={class:"flex items-center justify-center py-2"},_e={class:"py-1.5"},we={key:0,class:"px-8 pb-6"},Se=A({__name:"WordView",setup(_){const e="https://seedict.com/api/v1",i=q(),r=T(i.query.w),u=T(!1),n=T({status:0,data:{w:"",result:{seedict:{text:"",glyphs:[],pronPrimary:"",prons:[],phonetics:{yngping:""},expls:[]},fengs:[],ciklings:[]}}}),w=()=>{var b,l,x;document.title=(x=(l=(b=n.value.data)==null?void 0:b.result)==null?void 0:l.seedict)!=null&&x.text?`${n.value.data.result.seedict.text} - 词汇`:"米时典 SeeDict - 词汇"},c=async()=>{u.value=!0;try{const b=await fetch(`${e}/word?w=${encodeURIComponent(r.value)}`);if(!b.ok)throw new Error("Response Error");n.value=await b.json(),w()}catch(b){console.error(b)}finally{u.value=!1}};G(()=>i.query.w,b=>{b&&(r.value=b,c())},{immediate:!0});const g=E(()=>n.value.data.result.ciklings.some(b=>{var l;return((l=b.comment)==null?void 0:l.trim())!==""}));return(b,l)=>(s(),a(v,null,[U(m(mt,{class:"hidden 2xl:block"},null,512),[[Y,!u.value]]),m(tt,null,{default:y(()=>[u.value?(s(),k(Jt,{key:0})):(s(),a(v,{key:1},[t("div",Kt,[t("div",Xt,[t("ruby",{innerHTML:C(X)(n.value.data.result.seedict.text,n.value.data.result.seedict.pronPrimary,"text-rosybrown-700"),style:{"ruby-align":"center"}},null,8,Zt)])]),n.value.data.result.seedict.expls.length>0?(s(),a(v,{key:0},[m(S,{text:"本站释义"}),t("div",te,[m(O,{explanations:n.value.data.result.seedict.expls},null,8,["explanations"]),n.value.data.result.seedict.commentExpl?(s(),a("p",ee,[m(h,{class:"text-rosybrown-700"},{default:y(()=>l[0]||(l[0]=[o("注释")])),_:1}),o(d(n.value.data.result.seedict.commentExpl),1)])):p("",!0),n.value.data.result.seedict.synonym||n.value.data.result.seedict.antonym?(s(),a(v,{key:1},[l[3]||(l[3]=t("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),t("div",se,[n.value.data.result.seedict.synonym?(s(),a("p",ne,[m(h,{class:"text-rosybrown-700"},{default:y(()=>l[1]||(l[1]=[o("近义词")])),_:1}),o(d(n.value.data.result.seedict.synonym),1)])):p("",!0),n.value.data.result.seedict.antonym?(s(),a("p",oe,[m(h,{class:"text-rosybrown-700"},{default:y(()=>l[2]||(l[2]=[o("反义词")])),_:1}),o(d(n.value.data.result.seedict.antonym),1)])):p("",!0)])],64)):p("",!0)])],64)):p("",!0),n.value.data.result.fengs.length>0||n.value.data.result.ciklings.length>0?(s(),a(v,{key:1},[m(S,{text:"辞书释义"}),n.value.data.result.fengs.length>0?(s(!0),a(v,{key:0},L(n.value.data.result.fengs,(x,$)=>(s(),k(Nt,{data:x,key:$},null,8,["data"]))),128)):p("",!0),m(Et,{data:n.value.data.result.ciklings,isCommentedCikLing:g.value},null,8,["data","isCommentedCikLing"])],64)):p("",!0),n.value.data.result.seedict.prons.length>0?(s(),a(v,{key:2},[m(S,{text:"各地方音"}),t("div",ae,[t("table",le,[l[8]||(l[8]=t("thead",{class:"bg-rosybrown-300 text-center"},[t("tr",null,[t("th",{class:"py-1 text-white"},"读音"),t("th",{class:"py-1 text-white"},"连读"),t("th",{class:"py-1 text-white"},"地区"),t("th",{class:"hidden py-1 text-white md:block"},"来源")])],-1)),t("tbody",re,[(s(!0),a(v,null,L(n.value.data.result.seedict.prons,(x,$)=>(s(),a("tr",{key:$},[t("td",de,d(C(B)(x.pron)),1),t("td",ie,[x.isSandhi?(s(),k(f,{key:0},{default:y(()=>l[4]||(l[4]=[o("连")])),_:1})):(s(),k(f,{key:1},{default:y(()=>l[5]||(l[5]=[o("本")])),_:1}))]),t("td",ue,[x.isSandhi?(s(),k(f,{key:0},{default:y(()=>l[6]||(l[6]=[o("连读音")])),_:1})):(s(),k(f,{key:1},{default:y(()=>l[7]||(l[7]=[o("本字音")])),_:1}))]),t("td",ce,d(x.location==""?"市区":x.location),1),t("td",pe,d(C(Z)[x.source]),1)]))),128))])]),n.value.data.result.seedict.commentPron?(s(),a("div",me,[l[10]||(l[10]=t("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),t("p",null,[m(h,{class:"text-rosybrown-700"},{default:y(()=>l[9]||(l[9]=[o("注释 ")])),_:1}),o(d(n.value.data.result.seedict.commentPron),1)])])):p("",!0)])],64)):p("",!0),n.value.data.result.seedict.phonetics?(s(),a(v,{key:3},[m(S,{text:"注音一览"}),m(Ut,{data:n.value.data.result.seedict.phonetics},null,8,["data"])],64)):p("",!0),n.value.data.result.seedict.glyphs.length>0?(s(),a(v,{key:4},[m(S,{text:"用字一览"}),t("div",ye,[t("table",xe,[l[13]||(l[13]=t("thead",{class:"bg-rosybrown-300 text-center"},[t("tr",null,[t("th",{class:"py-1 text-white"},"用字"),t("th",{class:"py-1 text-white"},"类别"),t("th",{class:"py-1 text-white"},"来源")])],-1)),t("tbody",ge,[(s(!0),a(v,null,L(n.value.data.result.seedict.glyphs,(x,$)=>(s(),a("tr",{key:$},[t("td",be,d(x.glyph),1),t("td",ve,[x.category=="本字"?(s(),k(f,{key:0},{default:y(()=>l[11]||(l[11]=[o("本字")])),_:1})):(s(),k(f,{key:1,content:x.category},{default:y(()=>l[12]||(l[12]=[o("俗字")])),_:2},1032,["content"]))]),t("td",_e,d(x.source),1)]))),128))])]),n.value.data.result.seedict.commentGlyph?(s(),a("div",we,[l[15]||(l[15]=t("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),t("p",null,[m(h,{class:"text-rosybrown-700"},{default:y(()=>l[14]||(l[14]=[o("注释")])),_:1}),o(" "+d(n.value.data.result.seedict.commentGlyph),1)])])):p("",!0)])],64)):p("",!0)],64))]),_:1})],64))}});export{Se as default};
