import{c as a,b as n,e as s,z as B,d as C,j as F,r as T,o as R,A as V,F as x,a as A,l as H,q as o,t as l,k as m,h as p,w as y,x as k,u as L,s as W,p as z,v as D,B as q,C as U}from"./index-kqiMIFPH.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as I,t as P}from"./typography-CV6tYAYU.js";import{_ as Y}from"./PageContent.vue_vue_type_script_setup_true_lang-Dti2yFhv.js";import{t as N,y as E,p as Q,a as J,b as K,m as X}from"./phonetics-C2WW21U2.js";import"./NavBar-CU6qz_WV.js";import"./SearchBar-DFS5obJn.js";import"./Footer-ComZMYyF.js";const Z={},tt={class:"align-text-bottom"},et={class:"bg-wheat-100 text-rosybrown-600 mr-1 w-fit rounded-md px-1 py-0.5 text-xs"};function st(b,e){return n(),a("span",tt,[s("span",et,[B(b.$slots,"default")])])}const _=M(Z,[["render",st]]),nt=["innerHTML"],O=C({__name:"Explanations",props:{data:{},currentGlyph:{default:"second"}},setup(b){const e=b,u=t=>t.join(".")+". ",r=(t,w=[])=>`<ol class="list-none ${w.length===0?"pl-0":"pl-2 md:pl-6"}">${t.map((i,f)=>{var $,j;const g=[...w,f+1],v=`${i.lexical?`<span
    class="seeicon- mr-1 inline-block align-text-bottom text-rosybrown-700"
    style="font-size: 20px"
    >${i.lexical}</span>`:""}${I(P(i.expl,e.currentGlyph))}`;return`
    <li class="mb-2">
      <p class="flex items-start">
        <span class="font-semibold mr-2">${u(g)}</span>
        <span>${v}</span>
      </p>

      ${($=i.sent)!=null&&$.length?`<ul class="list-none pl-2 md:pl-6 mt-1 space-y-1">${i.sent.map(G=>`
          <li class="flex items-start text-wheat-400">
            <span class="mr-2">•</span>
            <span>${I(P(G,e.currentGlyph))}</span>
          </li>
        `).join("")}</ul>`:""}

      ${(j=i.node)!=null&&j.length?r(i.node,g):""}
    </li>
  `}).join("")}</ol>`,c=F(()=>r(e.data));return(t,w)=>(n(),a("div",null,[s("div",{innerHTML:c.value},null,8,nt)]))}}),ot={},at={class:"seeicon- mr-1 align-text-bottom",style:{"font-size":"20px"}};function lt(b,e){return n(),a("span",at,[B(b.$slots,"default")])}const h=M(ot,[["render",lt]]),rt={class:"fixed top-[170px] left-25 z-50 w-56 rounded-lg bg-white p-5"},dt={class:"space-y-1"},it=["href"],ut=C({__name:"SideBar",setup(b){const e=T([]),u=T(""),r=()=>{const t=document.querySelectorAll("h2[id]");e.value=Array.from(t).map(w=>{var i;return{id:w.id,text:((i=w.textContent)==null?void 0:i.trim())||`标题${Array.from(t).indexOf(w)+1}`}}),c()},c=()=>{const t=window.scrollY+100;for(let w=e.value.length-1;w>=0;w--){const i=e.value[w],f=document.getElementById(i.id);if(f&&t>=f.offsetTop){u.value=i.id;return}}e.value.length>0&&(u.value=e.value[0].id)};return R(()=>{r(),window.addEventListener("scroll",c);const t=new MutationObserver(r);t.observe(document.body,{childList:!0,subtree:!0}),V(()=>{window.removeEventListener("scroll",c),t.disconnect()})}),(t,w)=>(n(),a("aside",rt,[s("ol",dt,[(n(!0),a(x,null,A(e.value,(i,f)=>(n(),a("li",{key:f},[s("a",{href:`#${i.id}`,class:H(["text-rosybrown-600 hover:text-rosybrown-800 relative block pl-5 font-semibold text-nowrap transition-all duration-300",{"text-rosybrown-800 font-bold":u.value===i.id}])},[s("span",{class:H(["absolute left-0 transform transition-all duration-300",{"scale-125 opacity-100":u.value===i.id,"scale-90 opacity-60":u.value!==i.id}])},l(u.value===i.id?"⬤":"〇"),3),o(" "+l(i.text),1)],10,it)]))),128))])]))}}),ct=["id"],S=C({__name:"Subtitle",props:{text:{}},setup(b){const e=b;return(u,r)=>(n(),a("h2",{id:e.text,class:"border-rosybrown-800 text-rosybrown-800 mx-1 w-fit border-t-5 p-1 text-xl font-bold"},l(e.text),9,ct))}}),pt={class:"text-rosybrown-800 grid grid-cols-12 grid-rows-4 md:grid-rows-2"},mt={class:"col-span-2 row-span-4 content-center text-3xl font-bold sm:text-4xl md:col-span-1 md:row-span-2"},yt={class:"col-span-10 row-span-2 text-lg md:col-span-11 md:row-span-1"},wt={key:0},xt={key:0,class:"text-wheat-400 inline-block w-full md:inline md:w-fit"},bt={class:"col-span-10 row-span-2 text-lg md:col-span-11 md:row-span-1"},gt={key:0},vt={key:0,class:"text-wheat-400 inline-block w-full md:inline md:w-fit"},_t=C({__name:"WordCikLingEntry",props:{data:{}},setup(b){const e=b;return(u,r)=>(n(),a("div",pt,[s("div",mt,l(e.data.text),1),s("div",yt,[e.data.cikFinal?(n(),a("p",wt,[p(h,{class:"text-rosybrown-700"},{default:y(()=>r[0]||(r[0]=[o("戚书")])),_:1}),o(" "+l(e.data.cikInitial),1),r[2]||(r[2]=s("span",{class:"text-wheat-400 mr-1 text-sm"},"聲",-1)),o(l(e.data.cikFinal),1),r[3]||(r[3]=s("span",{class:"text-wheat-400 mr-1 text-sm"},"韻",-1)),o(l(e.data.tone),1),r[4]||(r[4]=s("span",{class:"text-wheat-400 mr-3 text-sm"},"調",-1)),e.data.cikAnnotation?(n(),a("span",xt,[p(h,{class:"text-rosybrown-700"},{default:y(()=>r[1]||(r[1]=[o("注释")])),_:1}),o(l(e.data.cikAnnotation),1),e.data.liAnnotateCik?(n(),k(_,{key:0,class:"ml-1"},{default:y(()=>[o(l(e.data.cikFinal)+" "+l(e.data.liAnnotateCikOrder),1)]),_:1})):m("",!0)])):m("",!0)])):m("",!0)]),s("div",bt,[e.data.lingFinal?(n(),a("p",gt,[p(h,{class:"text-rosybrown-700"},{default:y(()=>r[5]||(r[5]=[o("林书")])),_:1}),o(" "+l(e.data.lingInitial),1),r[7]||(r[7]=s("span",{class:"text-wheat-400 mr-1 text-sm"},"聲",-1)),o(l(e.data.lingFinal),1),r[8]||(r[8]=s("span",{class:"text-wheat-400 mr-1 text-sm"},"韻",-1)),o(l(e.data.tone),1),r[9]||(r[9]=s("span",{class:"text-wheat-400 mr-3 text-sm"},"調",-1)),e.data.lingAnnotation?(n(),a("span",vt,[p(h,{class:"text-rosybrown-700"},{default:y(()=>r[6]||(r[6]=[o("注释")])),_:1}),o(l(e.data.lingAnnotation),1),e.data.liAnnotateLing?(n(),k(_,{key:0,class:"ml-1 inline-block"},{default:y(()=>[o(l(e.data.lingFinal)+" "+l(e.data.liAnnotateLingOrder),1)]),_:1})):m("",!0)])):m("",!0)])):m("",!0)])]))}}),ft={key:0,class:"mt-2 mb-5 rounded-lg bg-white px-8 py-6"},ht={class:"mb-2 space-y-2"},kt={class:"text-rosybrown-800 space-y-1"},$t={key:0},Ct={key:1},At={class:"text-rosybrown-800 space-y-1"},Lt={key:0},Tt=C({__name:"WordCikLingCard",props:{data:{},isCommentedCikLing:{type:Boolean}},setup(b){const e=b,u=F(()=>e.data.map(c=>{const t=N[c.tone],w=c.cikAnnotation==""?"":r(c.cikAnnotation),i=c.lingAnnotation==""?"":r(c.lingAnnotation);return{...c,tone:t,cikAnnotation:w,lingAnnotation:i}})),r=c=>c.replace(/\d+$/,"").trim();return(c,t)=>{var w;return((w=u.value)==null?void 0:w.length)>0?(n(),a("div",ft,[s("div",ht,[(n(!0),a(x,null,A(u.value,(i,f)=>(n(),k(_t,{data:i,key:f},null,8,["data"]))),128))]),s("div",kt,[(n(!0),a(x,null,A(u.value,(i,f)=>(n(),a(x,{key:f},[i.liAnnotateCikOrder?(n(),a("p",$t,[p(_,null,{default:y(()=>[o(l(i.cikFinal)+" "+l(i.liAnnotateCikOrder),1)]),_:2},1024),o(l(i.liAnnotateCik),1)])):m("",!0),i.liAnnotateLingOrder?(n(),a("p",Ct,[p(_,null,{default:y(()=>[o(l(i.lingFinal)+" "+l(i.liAnnotateLingOrder),1)]),_:2},1024),o(l(i.liAnnotateLing),1)])):m("",!0)],64))),128))]),t[2]||(t[2]=s("p",{class:"text-rosybrown-200 mt-2 flex justify-end text-sm"}," 李如龙. 2001. 戚林八音校注. 福州: 福建人民出版社. ",-1)),e.isCommentedCikLing?(n(),a(x,{key:0},[t[1]||(t[1]=s("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),s("div",At,[(n(!0),a(x,null,A(u.value,(i,f)=>(n(),a(x,{key:f},[i.comment?(n(),a("p",Lt,[p(h,{class:"text-rosybrown-700"},{default:y(()=>t[0]||(t[0]=[o("校注")])),_:1}),o(l(i.comment),1)])):m("",!0)],64))),128))])],64)):m("",!0)])):m("",!0)}}}),St={class:"text-rosybrown-800 mt-2 mb-5 rounded-lg bg-white px-8 py-6"},Et={class:"items-baseline"},Ft={class:"text-rosybrown-800 mr-2 text-3xl font-bold sm:text-4xl"},It={class:"text-rosybrown-500 text-xl"},Mt={class:"flex w-full justify-end"},jt={key:0},Ht={class:"text-rosybrown-200 mt-2 flex justify-end text-sm"},Pt=C({__name:"WordFengCard",props:{data:{}},setup(b){const e=b,u=T("second"),r=()=>{u.value=u.value==="first"?"second":"first"};return(c,t)=>(n(),a("div",St,[s("div",Et,[s("span",Ft,l(e.data.text),1),s("span",It,[o(" /"+l(L(E)(e.data.pronLiteral))+"/",1),t[0]||(t[0]=s("span",{class:"font-serif font-bold"},"→",-1)),o("/"+l(L(E)(e.data.pronSandhi))+"/ ",1)])]),s("div",Mt,[s("button",{class:"bg-wheat-50 hover:bg-wheat-100 mb-4 cursor-pointer rounded px-3 py-1 text-sm transition",onClick:r}," 显示"+l(u.value==="first"?"推荐用字":"原书用字"),1)]),p(O,{data:e.data.expls,"current-glyph":u.value},null,8,["data","current-glyph"]),e.data.comment?(n(),a("p",jt,[p(h,{class:"text-rosybrown-700"},{default:y(()=>t[1]||(t[1]=[o("注释")])),_:1}),o(l(L(I)(e.data.comment)),1)])):m("",!0),s("p",Ht,l(e.data.refPage?`冯爱珍. 1998. 福州方言词典. 南京: 江苏教育出版社. 第 ${e.data.refPage} 页.`:"冯爱珍. 1998. 福州方言词典. 南京: 江苏教育出版社."),1),e.data.correction?(n(),a(x,{key:1},[t[3]||(t[3]=s("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),s("p",null,[p(h,{class:"text-rosybrown-700"},{default:y(()=>t[2]||(t[2]=[o("校注")])),_:1}),o(l(e.data.correction),1)])],64)):m("",!0)]))}}),Bt={class:"text-rosybrown-800 mt-2 mb-5 flex flex-wrap gap-3 rounded-lg bg-white px-8 py-6"},Nt={key:0},Ot={key:1},Gt={key:2},Rt={key:3},Vt=["innerHTML"],Wt={key:4},zt=["innerHTML"],Dt=C({__name:"WordPhoneticCard",props:{data:{}},setup(b){const e=b,u=F(()=>{const r=e.data.phonologyTone?N[e.data.phonologyTone]:e.data.phonologyTone,c=E(e.data.yngping),t=e.data.phonologyInitial&&e.data.phonologyFinal&&r?Q(e.data.phonologyInitial,e.data.phonologyFinal,r):"";return{...e.data,phonologyTone:r,ipa:c,banguace:t}});return(r,c)=>(n(),a("div",Bt,[u.value.phonologyTone?(n(),a("p",Nt,[p(_,null,{default:y(()=>c[0]||(c[0]=[o("音韵地位")])),_:1}),o(l(u.value.phonologyInitial)+l(u.value.phonologyFinal)+l(u.value.phonologyTone),1)])):m("",!0),u.value.banguace?(n(),a("p",Ot,[p(_,null,{default:y(()=>c[1]||(c[1]=[o("教会罗马字")])),_:1}),o(l(u.value.banguace),1)])):m("",!0),u.value.ipa?(n(),a("p",Gt,[p(_,null,{default:y(()=>c[2]||(c[2]=[o("IPA")])),_:1}),o("/"+l(u.value.ipa)+"/",1)])):m("",!0),u.value.yngping?(n(),a("p",Rt,[p(_,null,{default:y(()=>c[3]||(c[3]=[o("榕拼键入")])),_:1}),s("span",{innerHTML:L(J)(u.value.yngping)},null,8,Vt)])):m("",!0),u.value.yngping?(n(),a("p",Wt,[p(_,null,{default:y(()=>c[4]||(c[4]=[o("榕拼手写")])),_:1}),s("span",{innerHTML:L(K)(u.value.yngping)},null,8,zt)])):m("",!0)]))}}),qt={};function Ut(b,e){return e[0]||(e[0]=W('<div class="bg-wheat-100 mt-5 mb-8 rounded-lg px-8 py-6"><div class="animate-pulse space-y-3.5"><div class="bg-wheat-200 mt-4.5 h-6 w-[50%] rounded-lg sm:w-40"></div><div class="bg-wheat-200 mb-4.5 h-6 w-[30%] rounded-lg sm:w-28"></div></div></div><div class="bg-wheat-100 mt-4.5 mb-4 h-6 w-[35%] animate-pulse rounded-lg sm:w-32"></div><div class="mt-2 mb-5 rounded-lg bg-white px-8 py-6"><div class="my-3 animate-pulse"><div class="bg-wheat-200 mb-4 h-6 w-[35%] rounded-lg sm:w-40"></div><div class="bg-wheat-100 mt-6 mb-2.5 h-3 w-[95%] rounded-lg sm:w-95 md:w-115"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[75%] rounded-lg sm:w-75"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[90%] rounded-lg sm:w-90"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[56%] rounded-lg sm:w-56"></div></div></div><div class="bg-wheat-100 mt-4.5 mb-4 h-6 w-[35%] animate-pulse rounded-lg sm:w-32"></div><div class="mt-2 mb-5 rounded-lg bg-white px-8 py-6"><div class="my-3 animate-pulse"><div class="bg-wheat-200 mb-4 h-6 w-[35%] rounded-lg sm:w-40"></div><div class="bg-wheat-100 mt-6 mb-2.5 h-3 w-[95%] rounded-lg sm:w-95 md:w-115"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[75%] rounded-lg sm:w-75"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[90%] rounded-lg sm:w-90"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[56%] rounded-lg sm:w-56"></div></div></div>',5))}const Yt=M(qt,[["render",Ut]]),Qt={class:"bg-wheat-100 mt-5 mb-8 rounded-lg px-8 py-6"},Jt={class:"ruby-container text-rosybrown-800 text-4xl font-bold break-all whitespace-normal md:text-5xl"},Kt=["innerHTML"],Xt={class:"text-rosybrown-800 mt-2 mb-5 rounded-lg bg-white px-8 py-6"},Zt={key:0},te={class:"space-y-1"},ee={key:0},se={key:1},ne={class:"text-rosybrown-800 mt-2 mb-5 overflow-hidden rounded-lg bg-white"},oe={class:"w-full border-collapse"},ae={class:"text-center"},le={class:"py-1.5"},re={class:"flex items-center justify-center py-2 md:hidden"},de={class:"hidden items-center justify-center py-2 md:flex"},ie={class:"py-1.5"},ue={key:0,class:"px-8 pb-6"},ce={class:"text-rosybrown-800 mt-2 mb-5 overflow-hidden rounded-lg bg-white"},pe={class:"w-full border-collapse"},me={class:"text-center"},ye={class:"py-1.5"},we={class:"flex items-center justify-center py-2"},xe={key:0,class:"px-8 pb-6"},Ae=C({__name:"WordView",setup(b){const e="https://seedict.com/api/v1",u=z(),r=T(u.query.w),c=T(!1),t=T({status:0,data:{w:"",result:{seedict:{text:"",glyphs:[],pronPrimary:"",prons:[],phonetics:{yngping:""},expls:[]},fengs:[],ciklings:[]}}}),w=()=>{var g,d,v;document.title=(v=(d=(g=t.value.data)==null?void 0:g.result)==null?void 0:d.seedict)!=null&&v.text?`${t.value.data.result.seedict.text} - 词汇`:"米时典 SeeDict - 词汇"},i=async()=>{c.value=!0;try{const g=await fetch(`${e}/word?w=${encodeURIComponent(r.value)}`);if(!g.ok)throw new Error("Response Error");t.value=await g.json(),w()}catch(g){console.error(g)}finally{c.value=!1}};D(()=>u.query.w,g=>{g&&(r.value=g,i())},{immediate:!0});const f=F(()=>t.value.data.result.ciklings.some(g=>{var d;return((d=g.comment)==null?void 0:d.trim())!==""}));return(g,d)=>(n(),a(x,null,[q(p(ut,{class:"hidden 2xl:block"},null,512),[[U,!c.value]]),p(Y,null,{default:y(()=>[c.value?(n(),k(Yt,{key:0})):(n(),a(x,{key:1},[s("div",Qt,[s("div",Jt,[s("ruby",{innerHTML:L(X)(t.value.data.result.seedict.text,t.value.data.result.seedict.pronPrimary,"text-rosybrown-700"),style:{"ruby-align":"center"}},null,8,Kt)])]),t.value.data.result.seedict.expls.length>0?(n(),a(x,{key:0},[p(S,{text:"本站释义"}),s("div",Xt,[p(O,{data:t.value.data.result.seedict.expls},null,8,["data"]),t.value.data.result.seedict.commentExpl?(n(),a("p",Zt,[p(h,{class:"text-rosybrown-700"},{default:y(()=>d[0]||(d[0]=[o("注释")])),_:1}),o(l(t.value.data.result.seedict.commentExpl),1)])):m("",!0),t.value.data.result.seedict.synonym||t.value.data.result.seedict.antonym?(n(),a(x,{key:1},[d[3]||(d[3]=s("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),s("div",te,[t.value.data.result.seedict.synonym?(n(),a("p",ee,[p(h,{class:"text-rosybrown-700"},{default:y(()=>d[1]||(d[1]=[o("近义词")])),_:1}),o(l(t.value.data.result.seedict.synonym),1)])):m("",!0),t.value.data.result.seedict.antonym?(n(),a("p",se,[p(h,{class:"text-rosybrown-700"},{default:y(()=>d[2]||(d[2]=[o("反义词")])),_:1}),o(l(t.value.data.result.seedict.antonym),1)])):m("",!0)])],64)):m("",!0)])],64)):m("",!0),t.value.data.result.fengs.length>0||t.value.data.result.ciklings.length>0?(n(),a(x,{key:1},[p(S,{text:"辞书释义"}),t.value.data.result.fengs.length>0?(n(!0),a(x,{key:0},A(t.value.data.result.fengs,(v,$)=>(n(),k(Pt,{data:v,key:$},null,8,["data"]))),128)):m("",!0),p(Tt,{data:t.value.data.result.ciklings,isCommentedCikLing:f.value},null,8,["data","isCommentedCikLing"])],64)):m("",!0),t.value.data.result.seedict.prons.length>0?(n(),a(x,{key:2},[p(S,{text:"各地方音"}),s("div",ne,[s("table",oe,[d[8]||(d[8]=s("thead",{class:"bg-rosybrown-300 text-center"},[s("tr",null,[s("th",{class:"py-1 text-white"},"读音"),s("th",{class:"py-1 text-white"},"连读"),s("th",{class:"py-1 text-white"},"地区")])],-1)),s("tbody",ae,[(n(!0),a(x,null,A(t.value.data.result.seedict.prons,(v,$)=>(n(),a("tr",{key:$},[s("td",le,l(L(E)(v.pron)),1),s("td",re,[v.isSandhi?(n(),k(_,{key:0},{default:y(()=>d[4]||(d[4]=[o("连")])),_:1})):(n(),k(_,{key:1},{default:y(()=>d[5]||(d[5]=[o("本")])),_:1}))]),s("td",de,[v.isSandhi?(n(),k(_,{key:0},{default:y(()=>d[6]||(d[6]=[o("连读音")])),_:1})):(n(),k(_,{key:1},{default:y(()=>d[7]||(d[7]=[o("本字音")])),_:1}))]),s("td",ie,l(v.location==""?"市区":v.location),1)]))),128))])]),t.value.data.result.seedict.commentPron?(n(),a("div",ue,[d[10]||(d[10]=s("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),s("p",null,[p(h,{class:"text-rosybrown-700"},{default:y(()=>d[9]||(d[9]=[o("注释 ")])),_:1}),o(l(t.value.data.result.seedict.commentPron),1)])])):m("",!0)])],64)):m("",!0),t.value.data.result.seedict.phonetics?(n(),a(x,{key:3},[p(S,{text:"注音一览"}),p(Dt,{data:t.value.data.result.seedict.phonetics},null,8,["data"])],64)):m("",!0),t.value.data.result.seedict.glyphs.length>0?(n(),a(x,{key:4},[p(S,{text:"用字一览"}),s("div",ce,[s("table",pe,[d[13]||(d[13]=s("thead",{class:"bg-rosybrown-300 text-center"},[s("tr",null,[s("th",{class:"py-1 text-white"},"用字"),s("th",{class:"py-1 text-white"},"类别")])],-1)),s("tbody",me,[(n(!0),a(x,null,A(t.value.data.result.seedict.glyphs,(v,$)=>(n(),a("tr",{key:$},[s("td",ye,l(v.glyph),1),s("td",we,[v.category=="本字"?(n(),k(_,{key:0},{default:y(()=>d[11]||(d[11]=[o("本字")])),_:1})):(n(),k(_,{key:1,content:v.category},{default:y(()=>d[12]||(d[12]=[o("俗字")])),_:2},1032,["content"]))])]))),128))])]),t.value.data.result.seedict.commentGlyph?(n(),a("div",xe,[d[15]||(d[15]=s("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),s("p",null,[p(h,{class:"text-rosybrown-700"},{default:y(()=>d[14]||(d[14]=[o("注释")])),_:1}),o(" "+l(t.value.data.result.seedict.commentGlyph),1)])])):m("",!0)])],64)):m("",!0)],64))]),_:1})],64))}});export{Ae as default};
