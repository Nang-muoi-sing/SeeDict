System.register(["./index-legacy-EVkORuPF.js","./RubyText-legacy-C5a9_Jxd.js","./PageContent.vue_vue_type_script_setup_true_lang-legacy-BFwbmV1D.js","./FormatText.vue_vue_type_script_setup_true_lang-legacy-SC1OCBN5.js","./SearchBar-legacy-Q8zMSS_Y.js"],function(e,t){"use strict";var a,s,l,n,r,u,i,c,d,o,v,h,w,m,p,f,x,y,q,g,b,T,_,k,j;return{setters:[e=>{a=e.p,s=e.c,l=e.f,n=e.g,r=e.a,u=e.F,i=e.e,c=e.q,d=e.b,o=e.s,v=e.t,h=e.w,w=e.v,m=e.i,p=e.x,f=e.y,x=e.j,y=e.h,q=e.k,g=e.u,b=e.z},e=>{T=e.s,_=e.R},e=>{k=e._},e=>{j=e._},null],execute:function(){const t={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},S=a({name:"material-symbols-book2-rounded",render:function(e,a){return l(),s("svg",t,a[0]||(a[0]=[n("path",{fill:"currentColor",d:"M7.5 22q-1.45 0-2.475-1.025T4 18.5v-13q0-1.45 1.025-2.475T7.5 2H18q.825 0 1.413.587T20 4v12.525q0 .2-.162.363t-.588.362q-.35.175-.55.5t-.2.75t.2.763t.55.487t.55.413t.2.562v.25q0 .425-.288.725T19 22zM9 15q.425 0 .713-.288T10 14V5q0-.425-.288-.712T9 4t-.712.288T8 5v9q0 .425.288.713T9 15m-1.5 5h9.325q-.15-.35-.237-.712T16.5 18.5q0-.4.075-.775t.25-.725H7.5q-.65 0-1.075.438T6 18.5q0 .65.425 1.075T7.5 20"},null,-1)]))}}),C={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},M=a({name:"material-symbols-contact-support-rounded",render:function(e,t){return l(),s("svg",C,t[0]||(t[0]=[n("path",{fill:"currentColor",d:"M11.75 19h-.25q-3.55 0-6.025-2.475T3 10.5t2.475-6.025T11.5 2q1.775 0 3.313.662t2.7 1.825t1.824 2.7T20 10.5q0 3.35-1.888 6.225t-4.762 4.5q-.25.125-.5.138t-.45-.113t-.35-.325t-.175-.475zm-.275-3.025q.425 0 .725-.3t.3-.725t-.3-.725t-.725-.3t-.725.3t-.3.725t.3.725t.725.3M9.3 8.375q.275.125.55.013t.45-.363q.225-.3.525-.463T11.5 7.4q.6 0 .975.337t.375.863q0 .325-.187.65t-.663.8q-.625.55-.925 1.038t-.3.987q0 .3.213.513t.512.212t.5-.225t.3-.525q.125-.425.45-.775t.6-.625q.525-.525.788-1.05t.262-1.05q0-1.15-.788-1.85T11.5 6q-.8 0-1.475.388t-1.1 1.062q-.15.275-.038.538t.413.387"},null,-1)]))}}),P=r({__name:"SearchSkeleton",props:{number:{default:10}},setup(e){const t=e;return(e,a)=>(l(),s(u,null,[a[1]||(a[1]=n("div",{class:"animate-pulse"},[n("div",{class:"bg-wheat-200 mb-2.5 h-6 w-[30%] rounded-lg px-2 py-1 sm:w-32"}),n("div",{class:"bg-wheat-100 mb-2 h-3 w-[40%] rounded-lg px-2 sm:w-50"})],-1)),(l(!0),s(u,null,i(t.number,e=>(l(),s("div",{key:e,class:"bg-wheat-100 my-5 px-5 py-4"},a[0]||(a[0]=[c('<div class="animate-pulse"><div class="flex justify-end"><div class="bg-wheat-200 mb-3 h-3 w-[35%] rounded-lg sm:w-32"></div></div><div class="bg-wheat-200 mb-5 h-6 w-[30%] rounded-lg sm:w-28"></div><div class="bg-wheat-200 mb-2.5 h-3 w-[80%] rounded-lg sm:w-85 md:w-135"></div><div class="bg-wheat-200 mb-2.5 h-3 w-[65%] rounded-lg sm:w-70 md:w-105"></div><div class="bg-wheat-200 mb-2.5 h-3 w-[70%] rounded-lg sm:w-75 md:w-120"></div></div>',1)])))),128))],64))}}),z={class:"mb-2.5 w-fit rounded-lg bg-wheat-300 px-2 py-1 text-xl text-white"},F={class:"my-5 bg-wheat-100 px-5 py-4"},R={class:"flex flex-wrap justify-end gap-2 text-sm text-wheat-500"},$={key:0,class:"flex items-center"},B={class:"xxl:text-4xl whitespace-normal break-all text-3xl font-bold text-rosybrown-800"},D={class:"mt-2 text-wheat-600"},H={key:0,class:"mt-6 text-center"},L=["disabled"],U={key:1,class:"mt-6 text-center text-wheat-500"};e("default",r({__name:"SearchView",setup(e){const t=o(),a=d(!1),r=d(!1),c=d([]),C=d([]),V=d(null),E=d(!1),J=d({q:t.query.q||""}),A=v(()=>({status:0,data:{queries:c.value.join("、"),results:C.value,nextCursor:V.value,hasMore:E.value}})),Q=async()=>{if(V.value&&!r.value){r.value=!0;try{const e=new URLSearchParams;e.append("q",J.value.q),e.append("cursor",V.value);const t=await fetch(`https://i.seedict.com/api/v1/search/?${e}`);if(!t.ok)throw new Error(`HTTP错误: ${t.status}`);const a=await t.json();C.value=[...C.value,...a.data.results||[]],V.value=a.data.nextCursor||null,E.value=a.data.hasMore||!1}catch(e){console.error("加载更多失败:",e)}finally{r.value=!1}}};return h(()=>t.query.q,e=>{"string"==typeof e&&(J.value.q=e,document.title=t.query.q?`${t.query.q} - 检索`:"米时典 SeeDict - 检索",(async()=>{a.value=!0,C.value=[],V.value=null,E.value=!1;try{const e=new URLSearchParams;e.append("q",J.value.q);const t=`https://i.seedict.com/api/v1/search/?${e}`,a=await fetch(t);if(!a.ok)throw new Error(`HTTP错误: ${a.status}`);const s=await a.json();c.value=s.data.queries||[],C.value=s.data.results||[],V.value=s.data.nextCursor||null,E.value=s.data.hasMore||!1}catch(e){console.error("搜索请求失败:",e)}finally{a.value=!1}})())},{immediate:!0}),(e,t)=>{const c=M,d=S,o=x("RouterLink");return l(),w(k,null,{default:m(()=>[a.value?(l(),w(P,{key:0})):(l(),s(u,{key:1},[n("div",z," 查询："+f(A.value.data.queries),1),(l(!0),s(u,null,i(A.value.data.results,e=>(l(),w(o,{class:"block",to:{name:"word",query:{w:e.w}},key:e.w},{default:m(()=>[n("div",F,[n("div",R,[0!=e.refs?.length||e.brief?(l(!0),s(u,{key:1},i(e.refs,(e,t)=>(l(),s("span",{class:"flex items-center",key:t},[y(d,{style:{"font-size":"16px"}}),q(" "+f(g(T)[e]??""),1)]))),128)):(l(),s("span",$,[y(c,{style:{"font-size":"16px"}}),t[0]||(t[0]=q(" 暂未释义"))]))]),n("div",B,[y(_,{text:e.text,yngping:e.pron},null,8,["text","yngping"])]),n("p",D,[y(j,{text:e.brief},null,8,["text"])])])]),_:2},1032,["to"]))),128)),t[1]||(t[1]=n("div",{class:"mt-6 text-center text-sm text-wheat-400"},[q(" 没有找到想找的词汇？尝试"),n("a",{href:"https://jcnf40n3hvft.feishu.cn/share/base/form/shrcnfDrtD7nlpJdryFlYFUU3Lf",target:"_blank",class:"underline underline-offset-4 transition-all hover:text-wheat-600"},"向我们反馈"),q("或"),n("a",{href:"https://jcnf40n3hvft.feishu.cn/share/base/form/shrcnAQ3W3DjmPV7ycTJ1ekiFBf",target:"_blank",class:"underline underline-offset-4 transition-all hover:text-wheat-600"},"向我们提交数据")],-1)),E.value?(l(),s("div",H,[n("button",{onClick:Q,disabled:r.value,class:"rounded-lg bg-wheat-300 px-6 py-3 text-white hover:bg-wheat-400 disabled:bg-wheat-200"},[n("div",{class:b({"animate-bounce":r.value})},"加载更多",2)],8,L)])):p("",!0),!E.value&&C.value.length>0?(l(),s("div",U," 已显示所有 "+f(C.value.length)+" 条相关结果 ",1)):p("",!0)],64))]),_:1})}}}))}}});
