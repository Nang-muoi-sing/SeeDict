import{c as o,f as t,g as s,A as N,a as A,s as E,t as c,x as p,v as x,y as l,i as h,F as f,e as L,z as S,h as y,m as I,b as C,o as J,B as K,u as T,C as M,p as X,q as Z,w as ee,D as te,E as se,k as ne,G as oe}from"./index-DCfF17Th.js";import{_ as H}from"./SearchBar-BYA7Rb53.js";import{a as O,p as U,b as B}from"./typography-h-RIw6dn.js";import{_ as P}from"./Subtitle.vue_vue_type_script_setup_true_lang-SsxK-1uv.js";import{c as ae,_ as le}from"./PageContent.vue_vue_type_script_setup_true_lang-DTqr4LKS.js";import{t as z,y as R,R as re,p as de,m as ie,a as ue}from"./RubyText-DXfb82iE.js";const ce={},pe={class:"inline-flex items-center"},me={class:"bg-wheat-100 text-rosybrown-600 mr-1 w-fit rounded-md px-1 py-0.5 text-xs"};function ye(g,e){return t(),o("span",pe,[s("span",me,[N(g.$slots,"default")])])}const k=H(ce,[["render",ye]]),ve={class:"flex items-start text-wheat-400"},he=A({__name:"ExplSentence",props:{sentence:{},currentGlyph:{default:"second"}},setup(g){const e=g,d=E(()=>O(U(e.sentence,e.currentGlyph)));return(a,m)=>(t(),o("li",ve,[m[0]||(m[0]=s("span",{class:"mr-2"},"•",-1)),s("span",null,c(d.value),1)]))}}),ge={},_e={class:"seeicon- mr-1",style:{"font-size":"20px",display:"inline-block",width:"1em","vertical-align":"-0.1em"}};function fe(g,e){return t(),o("span",_e,[N(g.$slots,"default")])}const $=H(ge,[["render",fe]]),we={class:"mr-2 font-semibold"},be={key:0,class:"mt-1 list-none space-y-1 pl-2 md:pl-6"},xe=A({__name:"ExplNode",props:{node:{},index:{},path:{},currentGlyph:{}},setup(g){const e=g,d=E(()=>[...e.path,e.index]),a=()=>d.value.join(".")+". ",m=E(()=>O(U(e.node.expl,e.currentGlyph)));return(r,i)=>{var n,v;return t(),o("div",null,[s("p",null,[s("span",we,c(a()),1),r.node.lexical?(t(),x($,{key:0},{default:h(()=>[l(c(r.node.lexical),1)]),_:1})):p("",!0),l(" "+c(m.value),1)]),(n=r.node.sent)!=null&&n.length?(t(),o("ul",be,[(t(!0),o(f,null,L(r.node.sent,(_,G)=>(t(),x(he,{key:G,sentence:_,currentGlyph:r.currentGlyph},null,8,["sentence","currentGlyph"]))),128))])):p("",!0),(v=r.node.node)!=null&&v.length?(t(),x(V,{key:1,nodes:r.node.node,path:d.value,currentGlyph:r.currentGlyph},null,8,["nodes","path","currentGlyph"])):p("",!0)])}}}),V=A({__name:"ExplNodeList",props:{nodes:{},path:{},currentGlyph:{}},setup(g){return(e,d)=>(t(),o("ol",{class:S(["list-none",e.path.length===0?"pl-0":"pl-2 md:pl-6"])},[(t(!0),o(f,null,L(e.nodes,(a,m)=>(t(),o("li",{key:m,class:"mb-2"},[y(xe,{node:a,index:m+1,path:e.path,currentGlyph:e.currentGlyph},null,8,["node","index","path","currentGlyph"])]))),128))],2))}}),W=A({__name:"Explanations",props:{data:{},currentGlyph:{default:"second"}},setup(g){const e=g;return(d,a)=>(t(),o("div",null,[y(V,{nodes:e.data,path:[],currentGlyph:e.currentGlyph},null,8,["nodes","currentGlyph"])]))}}),ke={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function $e(g,e){return t(),o("svg",ke,e[0]||(e[0]=[s("path",{fill:"currentColor",d:"M12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12t-2.325-5.675T12 4T6.325 6.325T4 12t2.325 5.675T12 20m0-8"},null,-1)]))}const Te=I({name:"material-symbols-circle-outline",render:$e}),Ce={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Ae(g,e){return t(),o("svg",Ce,e[0]||(e[0]=[s("path",{fill:"currentColor",d:"M12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22"},null,-1)]))}const Le=I({name:"material-symbols-circle",render:Ae}),Ge={class:"fixed z-10 w-52 rounded-lg bg-white p-5"},Ee={class:"space-y-1"},Se=["href"],qe={class:"flex items-center gap-1"},Me=A({__name:"SideBar",setup(g){const e=C([]),d=C(""),a=()=>{const r=document.querySelectorAll("h2[id]");e.value=Array.from(r).map(i=>{var n;return{id:i.id,text:((n=i.textContent)==null?void 0:n.trim())||"标题".concat(Array.from(r).indexOf(i)+1)}}),m()},m=()=>{const r=window.scrollY+100;for(let i=e.value.length-1;i>=0;i--){const n=e.value[i],v=document.getElementById(n.id);if(v&&r>=v.offsetTop){d.value=n.id;return}}e.value.length>0&&(d.value=e.value[0].id)};return J(()=>{a(),window.addEventListener("scroll",m);const r=new MutationObserver(a);r.observe(document.body,{childList:!0,subtree:!0}),K(()=>{window.removeEventListener("scroll",m),r.disconnect()})}),(r,i)=>{const n=Le,v=Te;return t(),o("aside",Ge,[s("ol",Ee,[(t(!0),o(f,null,L(e.value,(_,G)=>(t(),o("li",{key:G},[s("a",{href:"#".concat(_.id),class:S(["text-rosybrown-600 hover:text-rosybrown-800 relative block pl-5 font-semibold text-nowrap transition-all duration-300",{"text-rosybrown-800 font-bold":d.value===_.id}])},[s("div",qe,[s("span",{class:S(["absolute left-0 transform transition-all duration-300",{"scale-125 opacity-100":d.value===_.id,"scale-100 opacity-60":d.value!==_.id}])},[d.value===_.id?(t(),x(n,{key:0})):(t(),x(v,{key:1}))],2),s("span",null," "+c(_.text),1)])],10,Se)]))),128))])])}}}),Pe={class:"text-rosybrown-800 grid grid-cols-12 grid-rows-4 md:grid-rows-2"},Be={class:"col-span-2 row-span-4 content-center text-3xl font-bold sm:text-4xl md:col-span-1 md:row-span-2"},Fe={class:"col-span-10 row-span-2 text-lg md:col-span-11 md:row-span-1"},Re={key:0},Ie={key:0,class:"text-wheat-400 inline-block w-full md:inline md:w-fit"},je={class:"col-span-10 row-span-2 text-lg md:col-span-11 md:row-span-1"},He={key:0},Ue={key:0,class:"text-wheat-400 inline-block w-full md:inline md:w-fit"},Ne=A({__name:"WordCikLingEntry",props:{data:{}},setup(g){const e=g;return(d,a)=>(t(),o("div",Pe,[s("div",Be,c(e.data.text),1),s("div",Fe,[e.data.cikFinal?(t(),o("p",Re,[y($,{class:"text-rosybrown-700"},{default:h(()=>a[0]||(a[0]=[l("戚書")])),_:1}),l(c(e.data.cikInitial),1),a[2]||(a[2]=s("span",{class:"text-wheat-400 mr-1 text-sm"},"聲",-1)),l(c(e.data.cikFinal),1),a[3]||(a[3]=s("span",{class:"text-wheat-400 mr-1 text-sm"},"韻",-1)),l(c(e.data.tone),1),a[4]||(a[4]=s("span",{class:"text-wheat-400 mr-3 text-sm"},"調",-1)),e.data.cikAnnotation?(t(),o("span",Ie,[y($,{class:"text-rosybrown-700"},{default:h(()=>a[1]||(a[1]=[l("注釋")])),_:1}),l(c(e.data.cikAnnotation),1),e.data.liAnnotateCik?(t(),x(k,{key:0,class:"ml-1"},{default:h(()=>[l(c(e.data.cikFinal)+" "+c(e.data.liAnnotateCikOrder),1)]),_:1})):p("",!0)])):p("",!0)])):p("",!0)]),s("div",je,[e.data.lingFinal?(t(),o("p",He,[y($,{class:"text-rosybrown-700"},{default:h(()=>a[5]||(a[5]=[l("林書")])),_:1}),l(c(e.data.lingInitial),1),a[7]||(a[7]=s("span",{class:"text-wheat-400 mr-1 text-sm"},"聲",-1)),l(c(e.data.lingFinal),1),a[8]||(a[8]=s("span",{class:"text-wheat-400 mr-1 text-sm"},"韻",-1)),l(c(e.data.tone),1),a[9]||(a[9]=s("span",{class:"text-wheat-400 mr-3 text-sm"},"調",-1)),e.data.lingAnnotation?(t(),o("span",Ue,[y($,{class:"text-rosybrown-700"},{default:h(()=>a[6]||(a[6]=[l("注釋")])),_:1}),l(c(e.data.lingAnnotation),1),e.data.liAnnotateLing?(t(),x(k,{key:0,class:"ml-1 inline-block"},{default:h(()=>[l(c(e.data.lingFinal)+" "+c(e.data.liAnnotateLingOrder),1)]),_:1})):p("",!0)])):p("",!0)])):p("",!0)])]))}}),Oe={key:0,class:"mt-2 mb-5 rounded-lg bg-white px-8 py-6"},ze={class:"mb-2 space-y-2"},Ve={class:"text-rosybrown-800 space-y-1"},We={class:"text-rosybrown-800 space-y-1"},De={key:0},Ye=A({__name:"WordCikLingCard",props:{data:{},isCommentedCikLing:{type:Boolean}},setup(g){const e=g,d=E(()=>e.data.map(r=>{const i=z[r.tone];return{...r,tone:i}})),a=E(()=>{const r={};return e.data.forEach(i=>{const n="".concat(i.cikFinal," ").concat(i.liAnnotateCikOrder),v="".concat(i.lingFinal," ").concat(i.liAnnotateLingOrder);i.liAnnotateCik&&(r[i.liAnnotateCik]?r[i.liAnnotateCik].order.add(n):r[i.liAnnotateCik]={content:i.liAnnotateCik,order:new Set([n])}),i.liAnnotateLing&&(r[i.liAnnotateLing]?r[i.liAnnotateLing].order.add(v):r[i.liAnnotateLing]={content:i.liAnnotateLing,order:new Set([v])})}),Object.values(r).map(i=>({content:m(i.content),order:Array.from(i.order)}))}),m=r=>r.replace(/\d+$/,"").trim();return(r,i)=>{var n;return((n=d.value)==null?void 0:n.length)>0?(t(),o("div",Oe,[s("div",ze,[(t(!0),o(f,null,L(d.value,(v,_)=>(t(),x(Ne,{data:v,key:_},null,8,["data"]))),128))]),s("div",Ve,[(t(!0),o(f,null,L(a.value,v=>(t(),o("p",null,[(t(!0),o(f,null,L(v.order,_=>(t(),x(k,null,{default:h(()=>[l(c(_),1)]),_:2},1024))),256)),l(c(v.content),1)]))),256))]),i[2]||(i[2]=s("p",{class:"text-rosybrown-200 mt-2 flex justify-end text-sm"}," 李如龙, 王升魁. 戚林八音校注. 福州: 福建人民出版社, 2001. ",-1)),e.isCommentedCikLing?(t(),o(f,{key:0},[i[1]||(i[1]=s("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),s("div",We,[(t(!0),o(f,null,L(d.value,(v,_)=>(t(),o(f,{key:_},[v.comment?(t(),o("p",De,[y($,{class:"text-rosybrown-700"},{default:h(()=>i[0]||(i[0]=[l("校注")])),_:1}),l(c(T(B)(v.comment)),1)])):p("",!0)],64))),128))])],64)):p("",!0)])):p("",!0)}}}),Qe={class:"text-rosybrown-800 mt-2 mb-5 rounded-lg bg-white px-8 py-6"},Je={class:"items-baseline"},Ke={class:"text-rosybrown-800 mr-2 text-3xl font-bold sm:text-4xl"},Xe={class:"text-rosybrown-500 text-xl"},Ze={class:"flex w-full justify-end"},et={key:0},tt={class:"text-rosybrown-200 mt-2 flex justify-end text-sm"},st=A({__name:"WordFengCard",props:{data:{}},setup(g){const e=g,d=C("second"),a=()=>{d.value=d.value==="first"?"second":"first"};return(m,r)=>(t(),o("div",Qe,[s("div",Je,[s("span",Ke,c(e.data.text),1),s("span",Xe," /"+c(T(R)(e.data.pronLiteral,!0))+"/→/"+c(T(R)(e.data.pronSandhi,!0))+"/ ",1)]),s("div",Ze,[s("button",{class:"bg-wheat-50 hover:bg-wheat-100 mb-4 cursor-pointer rounded px-3 py-1 text-sm transition",onClick:a}," 显示"+c(d.value==="first"?"推荐用字":"原书用字"),1)]),y(W,{data:e.data.expls,"current-glyph":d.value},null,8,["data","current-glyph"]),e.data.comment?(t(),o("p",et,[y($,{class:"text-rosybrown-700"},{default:h(()=>r[0]||(r[0]=[l("注釋")])),_:1}),l(c(T(U)(e.data.comment,d.value)),1)])):p("",!0),s("p",tt,c(e.data.refPage?"冯爱珍. 福州方言词典. 南京: 江苏教育出版社, 1998: ".concat(e.data.refPage,"."):"冯爱珍. 福州方言词典. 南京: 江苏教育出版社, 1998."),1),e.data.correction?(t(),o(f,{key:1},[r[2]||(r[2]=s("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),s("p",null,[y($,{class:"text-rosybrown-700"},{default:h(()=>r[1]||(r[1]=[l("校注")])),_:1}),l(c(T(B)(e.data.correction)),1)])],64)):p("",!0)]))}}),nt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function ot(g,e){return t(),o("svg",nt,e[0]||(e[0]=[s("path",{fill:"currentColor",d:"m10.6 13.8l-2.15-2.15q-.275-.275-.7-.275t-.7.275t-.275.7t.275.7L9.9 15.9q.3.3.7.3t.7-.3l5.65-5.65q.275-.275.275-.7t-.275-.7t-.7-.275t-.7.275zM12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22"},null,-1)]))}const at=I({name:"material-symbols-check-circle-rounded",render:ot}),lt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function rt(g,e){return t(),o("svg",lt,e[0]||(e[0]=[s("path",{fill:"currentColor",d:"m10.65 15.75l4.875-3.125q.35-.225.35-.625t-.35-.625L10.65 8.25q-.375-.25-.763-.038t-.387.663v6.25q0 .45.388.663t.762-.038M12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22"},null,-1)]))}const dt=I({name:"material-symbols-play-circle-rounded",render:rt}),it={class:"flex flex-row items-baseline gap-5 whitespace-normal break-all text-4xl font-bold text-rosybrown-800 md:text-5xl"},ut=["src"],ct={class:"flex flex-row items-center gap-1 rounded-lg bg-white px-6 py-3 font-medium text-wheat-800 shadow-lg"},pt=A({__name:"WordHead",props:{text:{},yngping:{},voiceUrl:{}},setup(g){const e=g,d=C(null),a=C(null),m=C(!1),r=C(!1),i=async()=>{try{const v=e.text.replace(/\*/g,"");await navigator.clipboard.writeText(v),d.value&&ae().add(d.value,{translateY:"-350%",opacity:1,duration:300,ease:"easeOutQuad"}).add(d.value,{opacity:{to:0},duration:1e3,ease:"easeInQuad",delay:500,onComplete:()=>{d.value&&(d.value.style.transform="inherit")}})}catch(v){console.error("复制失败:",v)}},n=()=>{a.value&&(m.value?a.value.pause():a.value.play().catch(v=>{console.error("播放失败:",v)}),m.value=!m.value,a.value.onended=()=>{m.value=!1})};return(v,_)=>{const G=dt,j=at;return t(),o(f,null,[s("div",{class:S(["relative z-10 mb-8 mt-5 cursor-pointer overflow-hidden rounded-lg bg-wheat-100 px-8 py-6 transition-all duration-300 ease-in-out before:absolute before:left-[100%] before:top-[100%] before:-z-10 before:h-[100rem] before:w-[100rem] before:rounded-full before:bg-wheat-200 before:transition-all before:duration-700 before:content-[''] active:before:-left-[16rem] active:before:-top-[16rem] active:before:transition-colors active:before:duration-0 md:hover:before:-left-[16rem] md:hover:before:-top-[16rem]",r.value?"":"active:scale-95"]),onClick:M(i,["prevent"])},[s("div",it,[y(re,{text:e.text,yngping:e.yngping},null,8,["text","yngping"]),e.voiceUrl?(t(),o("div",{key:0,onClick:M(n,["stop"]),onMousedown:_[0]||(_[0]=M(F=>r.value=!0,["stop"])),onMouseup:_[1]||(_[1]=M(F=>r.value=!1,["stop"])),onMouseleave:_[2]||(_[2]=M(F=>r.value=!1,["stop"])),class:"relative z-10"},[s("audio",{ref_key:"audioPlayer",ref:a,src:e.voiceUrl,preload:"auto",class:"hidden"},null,8,ut),y(G,{class:"cursor-pointer text-wheat-600/60 transition-colors hover:text-wheat-600"})],32)):p("",!0)])],2),s("div",{ref_key:"copyTip",ref:d,class:"fixed bottom-0 left-0 right-0 z-50 -mb-12 flex justify-center"},[s("div",ct,[y(j,{class:"text-green-600"}),_[3]||(_[3]=l(" 已复制词条 "))])],512)],64)}}}),mt={class:"text-rosybrown-800 mt-2 mb-5 flex flex-wrap gap-3 rounded-lg bg-white px-8 py-6"},yt={key:0},vt={key:1},ht={key:2},gt={key:3},_t=["innerHTML"],ft={key:4},wt=["innerHTML"],bt=A({__name:"WordPhoneticCard",props:{data:{}},setup(g){const e=g,d=E(()=>{const a=e.data.phonologyTone?z[e.data.phonologyTone]:e.data.phonologyTone,m=R(e.data.yngping),r=e.data.phonologyInitial&&e.data.phonologyFinal&&a?de(e.data.phonologyInitial,e.data.phonologyFinal,a):"";return{...e.data,phonologyTone:a,ipa:m,banguace:r}});return(a,m)=>(t(),o("div",mt,[d.value.phonologyTone?(t(),o("p",yt,[y(k,null,{default:h(()=>m[0]||(m[0]=[l("音韵地位")])),_:1}),l(c(d.value.phonologyInitial)+c(d.value.phonologyFinal)+c(d.value.phonologyTone),1)])):p("",!0),d.value.banguace?(t(),o("p",vt,[y(k,null,{default:h(()=>m[1]||(m[1]=[l("教会罗马字")])),_:1}),l(c(d.value.banguace),1)])):p("",!0),d.value.ipa?(t(),o("p",ht,[y(k,null,{default:h(()=>m[2]||(m[2]=[l("国际音标")])),_:1}),l("/"+c(d.value.ipa)+"/ ",1)])):p("",!0),d.value.yngping?(t(),o("p",gt,[y(k,null,{default:h(()=>m[3]||(m[3]=[l("榕拼键入")])),_:1}),s("span",{innerHTML:T(ie)(d.value.yngping)},null,8,_t)])):p("",!0),d.value.yngping?(t(),o("p",ft,[y(k,null,{default:h(()=>m[4]||(m[4]=[l("榕拼手写")])),_:1}),s("span",{innerHTML:T(ue)(d.value.yngping)},null,8,wt)])):p("",!0)]))}}),xt={};function kt(g,e){return e[0]||(e[0]=X('<div class="bg-wheat-100 mt-5 mb-8 rounded-lg px-8 py-6"><div class="animate-pulse space-y-3.5"><div class="bg-wheat-200 mt-4.5 h-6 w-[50%] rounded-lg sm:w-40"></div><div class="bg-wheat-200 mb-4.5 h-6 w-[30%] rounded-lg sm:w-28"></div></div></div><div class="bg-wheat-100 mt-4.5 mb-4 h-6 w-[35%] animate-pulse rounded-lg sm:w-32"></div><div class="mt-2 mb-5 rounded-lg bg-white px-8 py-6"><div class="my-3 animate-pulse"><div class="bg-wheat-200 mb-4 h-6 w-[35%] rounded-lg sm:w-40"></div><div class="bg-wheat-100 mt-6 mb-2.5 h-3 w-[95%] rounded-lg sm:w-95 md:w-115"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[75%] rounded-lg sm:w-75"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[90%] rounded-lg sm:w-90"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[56%] rounded-lg sm:w-56"></div></div></div><div class="bg-wheat-100 mt-4.5 mb-4 h-6 w-[35%] animate-pulse rounded-lg sm:w-32"></div><div class="mt-2 mb-5 rounded-lg bg-white px-8 py-6"><div class="my-3 animate-pulse"><div class="bg-wheat-200 mb-4 h-6 w-[35%] rounded-lg sm:w-40"></div><div class="bg-wheat-100 mt-6 mb-2.5 h-3 w-[95%] rounded-lg sm:w-95 md:w-115"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[75%] rounded-lg sm:w-75"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[90%] rounded-lg sm:w-90"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[56%] rounded-lg sm:w-56"></div></div></div>',5))}const $t=H(xt,[["render",kt]]),Tt={class:"text-rosybrown-800 mt-2 mb-5 rounded-lg bg-white px-8 py-6"},Ct={key:0},At={class:"space-y-1"},Lt={key:0},Gt={key:1},Et={class:"text-rosybrown-800 mt-2 mb-5 overflow-hidden rounded-lg bg-white"},St={key:0,class:"w-full border-collapse"},qt={class:"text-center"},Mt={class:"py-1.5"},Pt={class:"flex items-center justify-center py-2 md:hidden"},Bt={class:"hidden items-center justify-center py-2 md:flex"},Ft={class:"py-1.5"},Rt={key:1,class:"border-rosybrown-100 border-t-2"},It={class:"text-rosybrown-800 mt-2 mb-5 overflow-hidden rounded-lg bg-white"},jt={key:0,class:"w-full border-collapse"},Ht={class:"text-center"},Ut={class:"py-1.5"},Nt={class:"flex items-center justify-center py-2"},Ot={key:1,class:"border-rosybrown-100 border-t-2"},Jt=A({__name:"WordView",setup(g){const e="https://i.seedict.com/api/v1",d="https://oss.seedict.com",a=Z(),m=ne(),r=C(a.query.w),i=C(!1),n=C({status:0,data:{w:"",result:{seedict:{text:"",glyphs:[],pronPrimary:"",prons:[],phonetics:{yngping:""},expls:[]},fengs:[],ciklings:[]}}}),v=C({status:0,data:{yngping:"",result:{yngping:"",md5:""}}}),_=()=>{if(a.hash){const w=a.hash;return m.replace({...a,hash:""}).catch(()=>{}),w}return""},G=w=>{if(w){console.log(w);const u=decodeURIComponent(w);oe(()=>{const b=document.querySelector(u);b&&(b.scrollIntoView({behavior:"smooth",block:"start"}),m.replace({...a,hash:u}).catch(()=>{}))})}},j=_(),F=()=>{var w,u,b;document.title=(b=(u=(w=n.value.data)==null?void 0:w.result)==null?void 0:u.seedict)!=null&&b.text?"".concat(n.value.data.result.seedict.text," - 词汇"):"米时典 SeeDict - 词汇"},D=async()=>{i.value=!0;try{const w=await fetch("".concat(e,"/word/?w=").concat(encodeURIComponent(r.value)));if(!w.ok)throw new Error("Response Error");n.value=await w.json(),F();const u=n.value.data.result.seedict.pronPrimary;u&&Y(u)}catch(w){console.error(w)}finally{i.value=!1,setTimeout(()=>{G(j)},100)}},Y=async w=>{try{const u=await fetch("".concat(e,"/voice/?yngping=").concat(encodeURIComponent(w)));if(!u.ok)throw new Error("Response Error");v.value=await u.json()}catch(u){console.error(u)}};ee(()=>a.query.w,w=>{w&&(r.value=w,D())},{immediate:!0});const Q=E(()=>n.value.data.result.ciklings.some(w=>{var u;return((u=w.comment)==null?void 0:u.trim())!==""}));return(w,u)=>(t(),o(f,null,[te(y(Me,{class:"top-[170px] left-[2%] hidden xl:block 2xl:left-24"},null,512),[[se,!i.value]]),y(le,null,{default:h(()=>[i.value?(t(),x($t,{key:0})):(t(),o(f,{key:1},[y(pt,{text:n.value.data.result.seedict.text,yngping:n.value.data.result.seedict.pronPrimary,voiceUrl:v.value.data.result.md5?"".concat(T(d),"/wvoice/").concat(v.value.data.result.md5,".mp3"):""},null,8,["text","yngping","voiceUrl"]),n.value.data.result.seedict.expls.length>0&&n.value.data.result.seedict.expls[0].expl||n.value.data.result.seedict.commentExpl?(t(),o(f,{key:0},[y(P,{text:"本站释义"}),s("div",Tt,[y(W,{data:n.value.data.result.seedict.expls},null,8,["data"]),n.value.data.result.seedict.commentExpl?(t(),o("p",Ct,[y($,{class:"text-rosybrown-700"},{default:h(()=>u[0]||(u[0]=[l("注釋")])),_:1}),l(c(T(B)(n.value.data.result.seedict.commentExpl)),1)])):p("",!0),n.value.data.result.seedict.synonym||n.value.data.result.seedict.antonym?(t(),o(f,{key:1},[u[3]||(u[3]=s("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),s("div",At,[n.value.data.result.seedict.synonym?(t(),o("p",Lt,[y($,{class:"text-rosybrown-700"},{default:h(()=>u[1]||(u[1]=[l("近義詞")])),_:1}),l(c(n.value.data.result.seedict.synonym),1)])):p("",!0),n.value.data.result.seedict.antonym?(t(),o("p",Gt,[y($,{class:"text-rosybrown-700"},{default:h(()=>u[2]||(u[2]=[l("反義詞")])),_:1}),l(c(n.value.data.result.seedict.antonym),1)])):p("",!0)])],64)):p("",!0)])],64)):p("",!0),n.value.data.result.fengs.length>0||n.value.data.result.ciklings.length>0?(t(),o(f,{key:1},[y(P,{text:"辞书释义"}),n.value.data.result.fengs.length>0?(t(!0),o(f,{key:0},L(n.value.data.result.fengs,(b,q)=>(t(),x(st,{data:b,key:q},null,8,["data"]))),128)):p("",!0),y(Ye,{data:n.value.data.result.ciklings,isCommentedCikLing:Q.value},null,8,["data","isCommentedCikLing"])],64)):p("",!0),n.value.data.result.seedict.prons.length>0||n.value.data.result.seedict.commentPron?(t(),o(f,{key:2},[y(P,{text:"各地方音"}),s("div",Et,[n.value.data.result.seedict.prons.length>0?(t(),o("table",St,[u[8]||(u[8]=s("thead",{class:"bg-rosybrown-300 text-center"},[s("tr",null,[s("th",{class:"py-1 text-white"},"读音"),s("th",{class:"py-1 text-white"},"连读"),s("th",{class:"py-1 text-white"},"地区")])],-1)),s("tbody",qt,[(t(!0),o(f,null,L(n.value.data.result.seedict.prons,(b,q)=>(t(),o("tr",{key:q},[s("td",Mt,c(T(R)(b.pron)),1),s("td",Pt,[b.isSandhi?(t(),x(k,{key:0},{default:h(()=>u[4]||(u[4]=[l("连")])),_:1})):(t(),x(k,{key:1},{default:h(()=>u[5]||(u[5]=[l("本")])),_:1}))]),s("td",Bt,[b.isSandhi?(t(),x(k,{key:0},{default:h(()=>u[6]||(u[6]=[l("连读音")])),_:1})):(t(),x(k,{key:1},{default:h(()=>u[7]||(u[7]=[l("本字音")])),_:1}))]),s("td",Ft,c(b.location==""?"市区":b.location),1)]))),128))])])):p("",!0),n.value.data.result.seedict.prons.length>0&&n.value.data.result.seedict.commentPron?(t(),o("hr",Rt)):p("",!0),n.value.data.result.seedict.commentPron?(t(),o("div",{key:2,class:S(["px-8",{"pt-2 pb-4":n.value.data.result.seedict.prons.length>0,"py-6":n.value.data.result.seedict.prons.length<=0}])},[s("p",null,[y($,{class:"text-rosybrown-700"},{default:h(()=>u[9]||(u[9]=[l("注釋 ")])),_:1}),l(c(T(B)(n.value.data.result.seedict.commentPron)),1)])],2)):p("",!0)])],64)):p("",!0),n.value.data.result.seedict.phonetics&&n.value.data.result.seedict.phonetics.yngping?(t(),o(f,{key:3},[y(P,{text:"注音一览"}),y(bt,{data:n.value.data.result.seedict.phonetics},null,8,["data"])],64)):p("",!0),n.value.data.result.seedict.glyphs.length>0||n.value.data.result.seedict.commentGlyph?(t(),o(f,{key:4},[y(P,{text:"用字一览"}),s("div",It,[n.value.data.result.seedict.glyphs.length>0?(t(),o("table",jt,[u[11]||(u[11]=s("thead",{class:"bg-rosybrown-300 text-center"},[s("tr",null,[s("th",{class:"py-1 text-white"},"用字"),s("th",{class:"py-1 text-white"},"类别")])],-1)),s("tbody",Ht,[(t(!0),o(f,null,L(n.value.data.result.seedict.glyphs,(b,q)=>(t(),o("tr",{key:q},[s("td",Ut,c(b.glyph),1),s("td",Nt,[b.category?(t(),x(k,{key:0},{default:h(()=>[l(c(b.category),1)]),_:2},1024)):(t(),x(k,{key:1},{default:h(()=>u[10]||(u[10]=[l("N/A")])),_:1}))])]))),128))])])):p("",!0),n.value.data.result.seedict.glyphs.length>0&&n.value.data.result.seedict.commentGlyph?(t(),o("hr",Ot)):p("",!0),n.value.data.result.seedict.commentGlyph?(t(),o("div",{key:2,class:S(["px-8",{"pt-2 pb-4":n.value.data.result.seedict.glyphs.length>0,"py-6":n.value.data.result.seedict.glyphs.length<=0}])},[s("p",null,[y($,{class:"text-rosybrown-700"},{default:h(()=>u[12]||(u[12]=[l("注釋")])),_:1}),l(" "+c(T(B)(n.value.data.result.seedict.commentGlyph)),1)])],2)):p("",!0)])],64)):p("",!0)],64))]),_:1})],64))}});export{Jt as default};
