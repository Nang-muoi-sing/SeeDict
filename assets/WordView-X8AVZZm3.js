import{c as o,f as t,g as s,A as z,a as A,s as E,t as c,x as p,v as x,y as l,i as h,F as w,e as L,z as P,h as y,m as I,b as C,o as Z,B as ee,u as T,C as q,p as te,q as se,w as ne,D as oe,E as ae,k as le,G as re}from"./index--aXUkqj9.js";import{_ as H}from"./SearchBar-CLa_zaJW.js";import{a as V,p as U,b as M}from"./typography-h-RIw6dn.js";import{_ as B}from"./Subtitle.vue_vue_type_script_setup_true_lang-C3N0Atfz.js";import{c as de,_ as ie}from"./PageContent.vue_vue_type_script_setup_true_lang-C_NSc0Ol.js";import{t as W,y as R,p as ue,m as ce,a as pe}from"./phonetics-hMammvtn.js";import{R as me}from"./RubyText-C2uu3AOi.js";const ye={},ve={class:"inline-flex items-center"},he={class:"bg-wheat-100 text-rosybrown-600 mr-1 w-fit rounded-md px-1 py-0.5 text-xs"};function ge(g,e){return t(),o("span",ve,[s("span",he,[z(g.$slots,"default")])])}const k=H(ye,[["render",ge]]),_e={class:"flex items-start text-wheat-400"},fe=A({__name:"ExplSentence",props:{sentence:{},currentGlyph:{default:"second"}},setup(g){const e=g,d=E(()=>V(U(e.sentence,e.currentGlyph)));return(a,m)=>(t(),o("li",_e,[m[0]||(m[0]=s("span",{class:"mr-2"},"•",-1)),s("span",null,c(d.value),1)]))}}),we={},be={class:"seeicon- mr-1",style:{"font-size":"20px",display:"inline-block",width:"1em","vertical-align":"-0.1em"}};function xe(g,e){return t(),o("span",be,[z(g.$slots,"default")])}const $=H(we,[["render",xe]]),ke={class:"mr-2 font-semibold"},$e={key:0,class:"mt-1 list-none space-y-1 pl-2 md:pl-6"},Te=A({__name:"ExplNode",props:{node:{},index:{},path:{},currentGlyph:{}},setup(g){const e=g,d=E(()=>[...e.path,e.index]),a=()=>d.value.join(".")+". ",m=E(()=>V(U(e.node.expl,e.currentGlyph)));return(r,u)=>{var n,v;return t(),o("div",null,[s("p",null,[s("span",ke,c(a()),1),r.node.lexical?(t(),x($,{key:0},{default:h(()=>[l(c(r.node.lexical),1)]),_:1})):p("",!0),l(" "+c(m.value),1)]),(n=r.node.sent)!=null&&n.length?(t(),o("ul",$e,[(t(!0),o(w,null,L(r.node.sent,(_,S)=>(t(),x(fe,{key:S,sentence:_,currentGlyph:r.currentGlyph},null,8,["sentence","currentGlyph"]))),128))])):p("",!0),(v=r.node.node)!=null&&v.length?(t(),x(D,{key:1,nodes:r.node.node,path:d.value,currentGlyph:r.currentGlyph},null,8,["nodes","path","currentGlyph"])):p("",!0)])}}}),D=A({__name:"ExplNodeList",props:{nodes:{},path:{},currentGlyph:{}},setup(g){return(e,d)=>(t(),o("ol",{class:P(["list-none",e.path.length===0?"pl-0":"pl-2 md:pl-6"])},[(t(!0),o(w,null,L(e.nodes,(a,m)=>(t(),o("li",{key:m,class:"mb-2"},[y(Te,{node:a,index:m+1,path:e.path,currentGlyph:e.currentGlyph},null,8,["node","index","path","currentGlyph"])]))),128))],2))}}),Y=A({__name:"Explanations",props:{data:{},currentGlyph:{default:"second"}},setup(g){const e=g;return(d,a)=>(t(),o("div",null,[y(D,{nodes:e.data,path:[],currentGlyph:e.currentGlyph},null,8,["nodes","currentGlyph"])]))}}),Ce={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Ae(g,e){return t(),o("svg",Ce,e[0]||(e[0]=[s("path",{fill:"currentColor",d:"M12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12t-2.325-5.675T12 4T6.325 6.325T4 12t2.325 5.675T12 20m0-8"},null,-1)]))}const Le=I({name:"material-symbols-circle-outline",render:Ae}),Ge={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Se(g,e){return t(),o("svg",Ge,e[0]||(e[0]=[s("path",{fill:"currentColor",d:"M12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22"},null,-1)]))}const Ee=I({name:"material-symbols-circle",render:Se}),Pe={class:"fixed z-10 w-52 rounded-lg bg-white p-5"},qe={class:"space-y-1"},Be=["href"],Me={class:"flex items-center gap-1"},Fe=A({__name:"SideBar",setup(g){const e=C([]),d=C(""),a=()=>{const r=document.querySelectorAll("h2[id]");e.value=Array.from(r).map(u=>{var n;return{id:u.id,text:((n=u.textContent)==null?void 0:n.trim())||"标题".concat(Array.from(r).indexOf(u)+1)}}),m()},m=()=>{const r=window.scrollY+100;for(let u=e.value.length-1;u>=0;u--){const n=e.value[u],v=document.getElementById(n.id);if(v&&r>=v.offsetTop){d.value=n.id;return}}e.value.length>0&&(d.value=e.value[0].id)};return Z(()=>{a(),window.addEventListener("scroll",m);const r=new MutationObserver(a);r.observe(document.body,{childList:!0,subtree:!0}),ee(()=>{window.removeEventListener("scroll",m),r.disconnect()})}),(r,u)=>{const n=Ee,v=Le;return t(),o("aside",Pe,[s("ol",qe,[(t(!0),o(w,null,L(e.value,(_,S)=>(t(),o("li",{key:S},[s("a",{href:"#".concat(_.id),class:P(["text-rosybrown-600 hover:text-rosybrown-800 relative block pl-5 font-semibold text-nowrap transition-all duration-300",{"text-rosybrown-800 font-bold":d.value===_.id}])},[s("div",Me,[s("span",{class:P(["absolute left-0 transform transition-all duration-300",{"scale-125 opacity-100":d.value===_.id,"scale-100 opacity-60":d.value!==_.id}])},[d.value===_.id?(t(),x(n,{key:0})):(t(),x(v,{key:1}))],2),s("span",null," "+c(_.text),1)])],10,Be)]))),128))])])}}}),Re={class:"text-rosybrown-800 grid grid-cols-12 grid-rows-4 md:grid-rows-2"},Ie={class:"col-span-2 row-span-4 content-center text-3xl font-bold sm:text-4xl md:col-span-1 md:row-span-2"},je={class:"col-span-10 row-span-2 text-lg md:col-span-11 md:row-span-1"},He={key:0},Ue={key:0,class:"text-wheat-400 inline-block w-full md:inline md:w-fit"},Ne={class:"col-span-10 row-span-2 text-lg md:col-span-11 md:row-span-1"},Oe={key:0},ze={key:0,class:"text-wheat-400 inline-block w-full md:inline md:w-fit"},Ve=A({__name:"WordCikLingEntry",props:{data:{}},setup(g){const e=g;return(d,a)=>(t(),o("div",Re,[s("div",Ie,c(e.data.text),1),s("div",je,[e.data.cikFinal?(t(),o("p",He,[y($,{class:"text-rosybrown-700"},{default:h(()=>a[0]||(a[0]=[l("戚書")])),_:1}),l(c(e.data.cikInitial),1),a[2]||(a[2]=s("span",{class:"text-wheat-400 mr-1 text-sm"},"聲",-1)),l(c(e.data.cikFinal),1),a[3]||(a[3]=s("span",{class:"text-wheat-400 mr-1 text-sm"},"韻",-1)),l(c(e.data.tone),1),a[4]||(a[4]=s("span",{class:"text-wheat-400 mr-3 text-sm"},"調",-1)),e.data.cikAnnotation?(t(),o("span",Ue,[y($,{class:"text-rosybrown-700"},{default:h(()=>a[1]||(a[1]=[l("注釋")])),_:1}),l(c(e.data.cikAnnotation),1),e.data.liAnnotateCik?(t(),x(k,{key:0,class:"ml-1"},{default:h(()=>[l(c(e.data.cikFinal)+" "+c(e.data.liAnnotateCikOrder),1)]),_:1})):p("",!0)])):p("",!0)])):p("",!0)]),s("div",Ne,[e.data.lingFinal?(t(),o("p",Oe,[y($,{class:"text-rosybrown-700"},{default:h(()=>a[5]||(a[5]=[l("林書")])),_:1}),l(c(e.data.lingInitial),1),a[7]||(a[7]=s("span",{class:"text-wheat-400 mr-1 text-sm"},"聲",-1)),l(c(e.data.lingFinal),1),a[8]||(a[8]=s("span",{class:"text-wheat-400 mr-1 text-sm"},"韻",-1)),l(c(e.data.tone),1),a[9]||(a[9]=s("span",{class:"text-wheat-400 mr-3 text-sm"},"調",-1)),e.data.lingAnnotation?(t(),o("span",ze,[y($,{class:"text-rosybrown-700"},{default:h(()=>a[6]||(a[6]=[l("注釋")])),_:1}),l(c(e.data.lingAnnotation),1),e.data.liAnnotateLing?(t(),x(k,{key:0,class:"ml-1 inline-block"},{default:h(()=>[l(c(e.data.lingFinal)+" "+c(e.data.liAnnotateLingOrder),1)]),_:1})):p("",!0)])):p("",!0)])):p("",!0)])]))}}),We={key:0,class:"mt-2 mb-5 rounded-lg bg-white px-8 py-6"},De={class:"mb-2 space-y-2"},Ye={class:"text-rosybrown-800 space-y-1"},Qe={class:"text-rosybrown-800 space-y-1"},Je={key:0},Ke=A({__name:"WordCikLingCard",props:{data:{},isCommentedCikLing:{type:Boolean}},setup(g){const e=g,d=E(()=>e.data.map(r=>{const u=W[r.tone];return{...r,tone:u}})),a=E(()=>{const r={};return e.data.forEach(u=>{const n="".concat(u.cikFinal," ").concat(u.liAnnotateCikOrder),v="".concat(u.lingFinal," ").concat(u.liAnnotateLingOrder);u.liAnnotateCik&&(r[u.liAnnotateCik]?r[u.liAnnotateCik].order.add(n):r[u.liAnnotateCik]={content:u.liAnnotateCik,order:new Set([n])}),u.liAnnotateLing&&(r[u.liAnnotateLing]?r[u.liAnnotateLing].order.add(v):r[u.liAnnotateLing]={content:u.liAnnotateLing,order:new Set([v])})}),Object.values(r).map(u=>({content:m(u.content),order:Array.from(u.order)}))}),m=r=>r.replace(/\d+$/,"").trim();return(r,u)=>{var n;return((n=d.value)==null?void 0:n.length)>0?(t(),o("div",We,[s("div",De,[(t(!0),o(w,null,L(d.value,(v,_)=>(t(),x(Ve,{data:v,key:_},null,8,["data"]))),128))]),s("div",Ye,[(t(!0),o(w,null,L(a.value,v=>(t(),o("p",null,[(t(!0),o(w,null,L(v.order,_=>(t(),x(k,null,{default:h(()=>[l(c(_),1)]),_:2},1024))),256)),l(c(v.content),1)]))),256))]),u[2]||(u[2]=s("p",{class:"text-rosybrown-200 mt-2 flex justify-end text-sm"}," 李如龙, 王升魁. 戚林八音校注. 福州: 福建人民出版社, 2001. ",-1)),e.isCommentedCikLing?(t(),o(w,{key:0},[u[1]||(u[1]=s("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),s("div",Qe,[(t(!0),o(w,null,L(d.value,(v,_)=>(t(),o(w,{key:_},[v.comment?(t(),o("p",Je,[y($,{class:"text-rosybrown-700"},{default:h(()=>u[0]||(u[0]=[l("校注")])),_:1}),l(c(T(M)(v.comment)),1)])):p("",!0)],64))),128))])],64)):p("",!0)])):p("",!0)}}}),Xe={class:"text-rosybrown-800 mt-2 mb-5 rounded-lg bg-white px-8 py-6"},Ze={class:"items-baseline"},et={class:"text-rosybrown-800 mr-2 text-3xl font-bold sm:text-4xl"},tt={class:"text-rosybrown-500 text-xl"},st={class:"flex w-full justify-end"},nt={key:0},ot={class:"text-rosybrown-200 mt-2 flex justify-end text-sm"},at=A({__name:"WordFengCard",props:{data:{}},setup(g){const e=g,d=C("second"),a=()=>{d.value=d.value==="first"?"second":"first"};return(m,r)=>(t(),o("div",Xe,[s("div",Ze,[s("span",et,c(e.data.text),1),s("span",tt," /"+c(T(R)(e.data.pronLiteral,!0))+"/→/"+c(T(R)(e.data.pronSandhi,!0))+"/ ",1)]),s("div",st,[s("button",{class:"bg-wheat-50 hover:bg-wheat-100 mb-4 cursor-pointer rounded px-3 py-1 text-sm transition",onClick:a}," 显示"+c(d.value==="first"?"推荐用字":"原书用字"),1)]),y(Y,{data:e.data.expls,"current-glyph":d.value},null,8,["data","current-glyph"]),e.data.comment?(t(),o("p",nt,[y($,{class:"text-rosybrown-700"},{default:h(()=>r[0]||(r[0]=[l("注釋")])),_:1}),l(c(T(U)(e.data.comment,d.value)),1)])):p("",!0),s("p",ot,c(e.data.refPage?"冯爱珍. 福州方言词典. 南京: 江苏教育出版社, 1998: ".concat(e.data.refPage,"."):"冯爱珍. 福州方言词典. 南京: 江苏教育出版社, 1998."),1),e.data.correction?(t(),o(w,{key:1},[r[2]||(r[2]=s("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),s("p",null,[y($,{class:"text-rosybrown-700"},{default:h(()=>r[1]||(r[1]=[l("校注")])),_:1}),l(c(T(M)(e.data.correction)),1)])],64)):p("",!0)]))}}),lt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function rt(g,e){return t(),o("svg",lt,e[0]||(e[0]=[s("path",{fill:"currentColor",d:"m10.6 13.8l-2.15-2.15q-.275-.275-.7-.275t-.7.275t-.275.7t.275.7L9.9 15.9q.3.3.7.3t.7-.3l5.65-5.65q.275-.275.275-.7t-.275-.7t-.7-.275t-.7.275zM12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22"},null,-1)]))}const dt=I({name:"material-symbols-check-circle-rounded",render:rt}),it={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function ut(g,e){return t(),o("svg",it,e[0]||(e[0]=[s("path",{fill:"currentColor",d:"m10.65 15.75l4.875-3.125q.35-.225.35-.625t-.35-.625L10.65 8.25q-.375-.25-.763-.038t-.387.663v6.25q0 .45.388.663t.762-.038M12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22"},null,-1)]))}const ct=I({name:"material-symbols-play-circle-rounded",render:ut}),pt={class:"flex flex-row items-baseline gap-5 whitespace-normal break-all text-4xl font-bold text-rosybrown-800 md:text-5xl"},mt=["src"],yt={class:"flex flex-row items-center gap-1 rounded-lg bg-white px-6 py-3 font-medium text-wheat-800 shadow-lg"},vt=A({__name:"WordHead",props:{text:{},yngping:{},voiceUrl:{}},setup(g){const e=g,d=C(null),a=C(null),m=C(!1),r=C(!1),u=async()=>{try{const v=e.text.replace(/\*/g,"");await navigator.clipboard.writeText(v),d.value&&de().add(d.value,{translateY:"-350%",opacity:1,duration:300,ease:"easeOutQuad"}).add(d.value,{opacity:{to:0},duration:1e3,ease:"easeInQuad",delay:500,onComplete:()=>{d.value&&(d.value.style.transform="inherit")}})}catch(v){console.error("复制失败:",v)}},n=()=>{a.value&&(m.value?a.value.pause():a.value.play().catch(v=>{console.error("播放失败:",v)}),m.value=!m.value,a.value.onended=()=>{m.value=!1})};return(v,_)=>{const S=ct,j=dt;return t(),o(w,null,[s("div",{class:P(["relative z-10 mb-8 mt-5 cursor-pointer overflow-hidden rounded-lg bg-wheat-100 px-8 py-6 transition-all duration-300 ease-in-out before:absolute before:left-[100%] before:top-[100%] before:-z-10 before:h-[100rem] before:w-[100rem] before:rounded-full before:bg-wheat-200 before:transition-all before:duration-700 before:content-[''] active:before:-left-[16rem] active:before:-top-[16rem] active:before:transition-colors active:before:duration-0 md:hover:before:-left-[16rem] md:hover:before:-top-[16rem]",r.value?"":"active:scale-95"]),onClick:q(u,["prevent"])},[s("div",pt,[y(me,{text:e.text,yngping:e.yngping},null,8,["text","yngping"]),e.voiceUrl?(t(),o("div",{key:0,onClick:q(n,["stop"]),onMousedown:_[0]||(_[0]=q(F=>r.value=!0,["stop"])),onMouseup:_[1]||(_[1]=q(F=>r.value=!1,["stop"])),onMouseleave:_[2]||(_[2]=q(F=>r.value=!1,["stop"])),class:"relative z-10"},[s("audio",{ref_key:"audioPlayer",ref:a,src:e.voiceUrl,preload:"auto",class:"hidden"},null,8,mt),y(S,{class:"cursor-pointer text-wheat-600/60 transition-colors hover:text-wheat-600"})],32)):p("",!0)])],2),s("div",{ref_key:"copyTip",ref:d,class:"fixed bottom-0 left-0 right-0 z-50 -mb-12 flex justify-center"},[s("div",yt,[y(j,{class:"text-green-600"}),_[3]||(_[3]=l(" 已复制词条 "))])],512)],64)}}}),ht={class:"text-rosybrown-800 mt-2 mb-5 flex flex-wrap gap-3 rounded-lg bg-white px-8 py-6"},gt={key:0},_t={key:1},ft={key:2},wt={key:3},bt=["innerHTML"],xt={key:4},kt=["innerHTML"],$t=A({__name:"WordPhoneticCard",props:{data:{}},setup(g){const e=g,d=E(()=>{const a=e.data.phonologyTone?W[e.data.phonologyTone]:e.data.phonologyTone,m=R(e.data.yngping),r=e.data.phonologyInitial&&e.data.phonologyFinal&&a?ue(e.data.phonologyInitial,e.data.phonologyFinal,a):"";return{...e.data,phonologyTone:a,ipa:m,banguace:r}});return(a,m)=>(t(),o("div",ht,[d.value.phonologyTone?(t(),o("p",gt,[y(k,null,{default:h(()=>m[0]||(m[0]=[l("音韵地位")])),_:1}),l(c(d.value.phonologyInitial)+c(d.value.phonologyFinal)+c(d.value.phonologyTone),1)])):p("",!0),d.value.banguace?(t(),o("p",_t,[y(k,null,{default:h(()=>m[1]||(m[1]=[l("教会罗马字")])),_:1}),l(c(d.value.banguace),1)])):p("",!0),d.value.ipa?(t(),o("p",ft,[y(k,null,{default:h(()=>m[2]||(m[2]=[l("国际音标")])),_:1}),l("/"+c(d.value.ipa)+"/ ",1)])):p("",!0),d.value.yngping?(t(),o("p",wt,[y(k,null,{default:h(()=>m[3]||(m[3]=[l("榕拼键入")])),_:1}),s("span",{innerHTML:T(ce)(d.value.yngping)},null,8,bt)])):p("",!0),d.value.yngping?(t(),o("p",xt,[y(k,null,{default:h(()=>m[4]||(m[4]=[l("榕拼手写")])),_:1}),s("span",{innerHTML:T(pe)(d.value.yngping)},null,8,kt)])):p("",!0)]))}}),Tt={};function Ct(g,e){return e[0]||(e[0]=te('<div class="bg-wheat-100 mt-5 mb-8 rounded-lg px-8 py-6"><div class="animate-pulse space-y-3.5"><div class="bg-wheat-200 mt-4.5 h-6 w-[50%] rounded-lg sm:w-40"></div><div class="bg-wheat-200 mb-4.5 h-6 w-[30%] rounded-lg sm:w-28"></div></div></div><div class="bg-wheat-100 mt-4.5 mb-4 h-6 w-[35%] animate-pulse rounded-lg sm:w-32"></div><div class="mt-2 mb-5 rounded-lg bg-white px-8 py-6"><div class="my-3 animate-pulse"><div class="bg-wheat-200 mb-4 h-6 w-[35%] rounded-lg sm:w-40"></div><div class="bg-wheat-100 mt-6 mb-2.5 h-3 w-[95%] rounded-lg sm:w-95 md:w-115"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[75%] rounded-lg sm:w-75"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[90%] rounded-lg sm:w-90"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[56%] rounded-lg sm:w-56"></div></div></div><div class="bg-wheat-100 mt-4.5 mb-4 h-6 w-[35%] animate-pulse rounded-lg sm:w-32"></div><div class="mt-2 mb-5 rounded-lg bg-white px-8 py-6"><div class="my-3 animate-pulse"><div class="bg-wheat-200 mb-4 h-6 w-[35%] rounded-lg sm:w-40"></div><div class="bg-wheat-100 mt-6 mb-2.5 h-3 w-[95%] rounded-lg sm:w-95 md:w-115"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[75%] rounded-lg sm:w-75"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[90%] rounded-lg sm:w-90"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[56%] rounded-lg sm:w-56"></div></div></div>',5))}const At=H(Tt,[["render",Ct]]),Lt={class:"mb-5 mt-2 rounded-lg bg-white px-8 py-6 text-rosybrown-800"},Gt={key:0},St={class:"space-y-1"},Et={key:0},Pt={key:1},qt={class:"mb-5 mt-2 overflow-hidden rounded-lg bg-white text-rosybrown-800"},Bt={key:0,class:"w-full border-collapse"},Mt={class:"text-center"},Ft={class:"py-1.5"},Rt={class:"flex items-center justify-center py-2 md:hidden"},It={class:"hidden items-center justify-center py-2 md:flex"},jt={class:"py-1.5"},Ht={key:1,class:"border-t-2 border-rosybrown-100"},Ut={class:"mb-5 mt-2 overflow-hidden rounded-lg bg-white text-rosybrown-800"},Nt={key:0,class:"w-full border-collapse"},Ot={class:"text-center"},zt={class:"py-1.5"},Vt={class:"flex items-center justify-center py-2"},Wt={key:1,class:"border-t-2 border-rosybrown-100"},es=A({__name:"WordView",setup(g){const e="https://i.seedict.com/api/v1",d="https://oss.seedict.com",a=se(),m=le(),r=C(a.query.w),u=C(!1),n=C({status:0,data:{w:"",result:{seedict:{text:"",glyphs:[],pronPrimary:"",prons:[],phonetics:{yngping:""},expls:[]},fengs:[],ciklings:[]}}}),v=C({status:0,data:{yngping:"",results:[]}}),_=()=>{if(a.hash){const f=a.hash;return m.replace({...a,hash:""}).catch(()=>{}),f}return""},S=f=>{if(f){console.log(f);const i=decodeURIComponent(f);re(()=>{const b=document.querySelector(i);b&&(b.scrollIntoView({behavior:"smooth",block:"start"}),m.replace({...a,hash:i}).catch(()=>{}))})}},j=_(),F=()=>{var f,i,b;document.title=(b=(i=(f=n.value.data)==null?void 0:f.result)==null?void 0:i.seedict)!=null&&b.text?"".concat(n.value.data.result.seedict.text," - 词汇"):"米时典 SeeDict - 词汇"},Q=async()=>{u.value=!0;try{const f=await fetch("".concat(e,"/word/?w=").concat(encodeURIComponent(r.value)));if(!f.ok)throw new Error("Response Error");n.value=await f.json(),F();const i=n.value.data.result.seedict.pronPrimary;i&&J(i)}catch(f){console.error(f)}finally{u.value=!1,setTimeout(()=>{S(j)},100)}},J=async f=>{try{const i=await fetch("".concat(e,"/audio/?yngping=").concat(encodeURIComponent(f)));if(!i.ok)throw new Error("Response Error");v.value=await i.json(),K()}catch(i){console.error(i)}},K=()=>{var f;if((f=v.value.data)!=null&&f.results){const i={hy:1,lk:2};v.value.data.results.sort((b,G)=>{const N=i[b.speaker]||3,O=i[G.speaker]||3;return N!==O?N-O:b.speaker.localeCompare(G.speaker)})}};ne(()=>a.query.w,f=>{f&&(r.value=f,Q())},{immediate:!0});const X=E(()=>n.value.data.result.ciklings.some(f=>{var i;return((i=f.comment)==null?void 0:i.trim())!==""}));return(f,i)=>(t(),o(w,null,[oe(y(Fe,{class:"left-[2%] top-[170px] hidden xl:block 2xl:left-24"},null,512),[[ae,!u.value]]),y(ie,null,{default:h(()=>[u.value?(t(),x(At,{key:0})):(t(),o(w,{key:1},[y(vt,{text:n.value.data.result.seedict.text,yngping:n.value.data.result.seedict.pronPrimary,voiceUrl:v.value.data.results[0]?"".concat(T(d),"/audio/").concat(v.value.data.results[0].speaker,"/").concat(v.value.data.results[0].md5,".mp3"):""},null,8,["text","yngping","voiceUrl"]),n.value.data.result.seedict.expls.length>0&&n.value.data.result.seedict.expls[0].expl||n.value.data.result.seedict.commentExpl?(t(),o(w,{key:0},[y(B,{text:"本站释义"}),s("div",Lt,[y(Y,{data:n.value.data.result.seedict.expls},null,8,["data"]),n.value.data.result.seedict.commentExpl?(t(),o("p",Gt,[y($,{class:"text-rosybrown-700"},{default:h(()=>i[0]||(i[0]=[l("注釋")])),_:1}),l(c(T(M)(n.value.data.result.seedict.commentExpl)),1)])):p("",!0),n.value.data.result.seedict.synonym||n.value.data.result.seedict.antonym?(t(),o(w,{key:1},[i[3]||(i[3]=s("hr",{class:"my-2 border-t-2 border-rosybrown-100"},null,-1)),s("div",St,[n.value.data.result.seedict.synonym?(t(),o("p",Et,[y($,{class:"text-rosybrown-700"},{default:h(()=>i[1]||(i[1]=[l("近義詞")])),_:1}),l(c(n.value.data.result.seedict.synonym),1)])):p("",!0),n.value.data.result.seedict.antonym?(t(),o("p",Pt,[y($,{class:"text-rosybrown-700"},{default:h(()=>i[2]||(i[2]=[l("反義詞")])),_:1}),l(c(n.value.data.result.seedict.antonym),1)])):p("",!0)])],64)):p("",!0)])],64)):p("",!0),n.value.data.result.fengs.length>0||n.value.data.result.ciklings.length>0?(t(),o(w,{key:1},[y(B,{text:"辞书释义"}),n.value.data.result.fengs.length>0?(t(!0),o(w,{key:0},L(n.value.data.result.fengs,(b,G)=>(t(),x(at,{data:b,key:G},null,8,["data"]))),128)):p("",!0),y(Ke,{data:n.value.data.result.ciklings,isCommentedCikLing:X.value},null,8,["data","isCommentedCikLing"])],64)):p("",!0),n.value.data.result.seedict.prons.length>0||n.value.data.result.seedict.commentPron?(t(),o(w,{key:2},[y(B,{text:"各地方音"}),s("div",qt,[n.value.data.result.seedict.prons.length>0?(t(),o("table",Bt,[i[8]||(i[8]=s("thead",{class:"bg-rosybrown-300 text-center"},[s("tr",null,[s("th",{class:"py-1 text-white"},"读音"),s("th",{class:"py-1 text-white"},"连读"),s("th",{class:"py-1 text-white"},"地区")])],-1)),s("tbody",Mt,[(t(!0),o(w,null,L(n.value.data.result.seedict.prons,(b,G)=>(t(),o("tr",{key:G},[s("td",Ft,c(T(R)(b.pron)),1),s("td",Rt,[b.isSandhi?(t(),x(k,{key:0},{default:h(()=>i[4]||(i[4]=[l("连")])),_:1})):(t(),x(k,{key:1},{default:h(()=>i[5]||(i[5]=[l("本")])),_:1}))]),s("td",It,[b.isSandhi?(t(),x(k,{key:0},{default:h(()=>i[6]||(i[6]=[l("连读音")])),_:1})):(t(),x(k,{key:1},{default:h(()=>i[7]||(i[7]=[l("本字音")])),_:1}))]),s("td",jt,c(b.location==""?"市区":b.location),1)]))),128))])])):p("",!0),n.value.data.result.seedict.prons.length>0&&n.value.data.result.seedict.commentPron?(t(),o("hr",Ht)):p("",!0),n.value.data.result.seedict.commentPron?(t(),o("div",{key:2,class:P(["px-8",{"pb-4 pt-2":n.value.data.result.seedict.prons.length>0,"py-6":n.value.data.result.seedict.prons.length<=0}])},[s("p",null,[y($,{class:"text-rosybrown-700"},{default:h(()=>i[9]||(i[9]=[l("注釋 ")])),_:1}),l(c(T(M)(n.value.data.result.seedict.commentPron)),1)])],2)):p("",!0)])],64)):p("",!0),n.value.data.result.seedict.phonetics&&n.value.data.result.seedict.phonetics.yngping?(t(),o(w,{key:3},[y(B,{text:"注音一览"}),y($t,{data:n.value.data.result.seedict.phonetics},null,8,["data"])],64)):p("",!0),n.value.data.result.seedict.glyphs.length>0||n.value.data.result.seedict.commentGlyph?(t(),o(w,{key:4},[y(B,{text:"用字一览"}),s("div",Ut,[n.value.data.result.seedict.glyphs.length>0?(t(),o("table",Nt,[i[11]||(i[11]=s("thead",{class:"bg-rosybrown-300 text-center"},[s("tr",null,[s("th",{class:"py-1 text-white"},"用字"),s("th",{class:"py-1 text-white"},"类别")])],-1)),s("tbody",Ot,[(t(!0),o(w,null,L(n.value.data.result.seedict.glyphs,(b,G)=>(t(),o("tr",{key:G},[s("td",zt,c(b.glyph),1),s("td",Vt,[b.category?(t(),x(k,{key:0},{default:h(()=>[l(c(b.category),1)]),_:2},1024)):(t(),x(k,{key:1},{default:h(()=>i[10]||(i[10]=[l("N/A")])),_:1}))])]))),128))])])):p("",!0),n.value.data.result.seedict.glyphs.length>0&&n.value.data.result.seedict.commentGlyph?(t(),o("hr",Wt)):p("",!0),n.value.data.result.seedict.commentGlyph?(t(),o("div",{key:2,class:P(["px-8",{"pb-4 pt-2":n.value.data.result.seedict.glyphs.length>0,"py-6":n.value.data.result.seedict.glyphs.length<=0}])},[s("p",null,[y($,{class:"text-rosybrown-700"},{default:h(()=>i[12]||(i[12]=[l("注釋")])),_:1}),l(" "+c(T(M)(n.value.data.result.seedict.commentGlyph)),1)])],2)):p("",!0)])],64)):p("",!0)],64))]),_:1})],64))}});export{es as default};
