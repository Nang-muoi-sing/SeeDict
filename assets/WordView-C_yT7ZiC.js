import{c as a,b as n,e,z as B,d as A,j as F,r as T,o as R,A as V,F as x,a as L,l as H,q as o,t as l,k as m,h as p,w as y,x as k,u as C,s as W,p as z,v as D,B as q,C as U}from"./index-D4dy5mB3.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as I,t as P}from"./typography-CV6tYAYU.js";import{_ as Y}from"./PageContent.vue_vue_type_script_setup_true_lang-49VaCqmA.js";import{t as N,y as E,p as Q,a as J,b as K,m as X,c as Z}from"./phonetics-Si89sfhi.js";import"./NavBar-DH77RamE.js";import"./SearchBar-aTMUsLn1.js";import"./Footer-Kr81AJQz.js";const tt={},et={class:"align-text-bottom"},st={class:"bg-wheat-100 text-rosybrown-600 mr-1 w-fit rounded-md px-1 py-0.5 text-xs"};function nt(b,s){return n(),a("span",et,[e("span",st,[B(b.$slots,"default")])])}const _=M(tt,[["render",nt]]),ot=["innerHTML"],O=A({__name:"Explanations",props:{data:{},currentGlyph:{default:"second"}},setup(b){const s=b,u=t=>t.join(".")+". ",r=(t,w=[])=>`<ol class="list-none ${w.length===0?"pl-0":"pl-2 md:pl-6"}">${t.map((i,h)=>{var $,j;const v=[...w,h+1],g=`${i.lexical?`<span
    class="seeicon- mr-1 inline-block align-text-bottom text-rosybrown-700"
    style="font-size: 20px"
    >${i.lexical}</span>`:""}${I(P(i.expl,s.currentGlyph))}`;return`
    <li class="mb-2">
      <p class="flex items-start">
        <span class="font-semibold mr-2">${u(v)}</span>
        <span>${g}</span>
      </p>

      ${($=i.sent)!=null&&$.length?`<ul class="list-none pl-2 md:pl-6 mt-1 space-y-1">${i.sent.map(G=>`
          <li class="flex items-start text-wheat-400">
            <span class="mr-2">•</span>
            <span>${I(P(G,s.currentGlyph))}</span>
          </li>
        `).join("")}</ul>`:""}

      ${(j=i.node)!=null&&j.length?r(i.node,v):""}
    </li>
  `}).join("")}</ol>`,c=F(()=>r(s.data));return(t,w)=>(n(),a("div",null,[e("div",{innerHTML:c.value},null,8,ot)]))}}),at={},lt={class:"seeicon- mr-1 align-text-bottom",style:{"font-size":"20px"}};function rt(b,s){return n(),a("span",lt,[B(b.$slots,"default")])}const f=M(at,[["render",rt]]),dt={class:"fixed top-[170px] left-25 z-50 w-56 rounded-lg bg-white p-5"},it={class:"space-y-1"},ut=["href"],ct=A({__name:"SideBar",setup(b){const s=T([]),u=T(""),r=()=>{const t=document.querySelectorAll("h2[id]");s.value=Array.from(t).map(w=>{var i;return{id:w.id,text:((i=w.textContent)==null?void 0:i.trim())||`标题${Array.from(t).indexOf(w)+1}`}}),c()},c=()=>{const t=window.scrollY+100;for(let w=s.value.length-1;w>=0;w--){const i=s.value[w],h=document.getElementById(i.id);if(h&&t>=h.offsetTop){u.value=i.id;return}}s.value.length>0&&(u.value=s.value[0].id)};return R(()=>{r(),window.addEventListener("scroll",c);const t=new MutationObserver(r);t.observe(document.body,{childList:!0,subtree:!0}),V(()=>{window.removeEventListener("scroll",c),t.disconnect()})}),(t,w)=>(n(),a("aside",dt,[e("ol",it,[(n(!0),a(x,null,L(s.value,(i,h)=>(n(),a("li",{key:h},[e("a",{href:`#${i.id}`,class:H(["text-rosybrown-600 hover:text-rosybrown-800 relative block pl-5 font-semibold text-nowrap transition-all duration-300",{"text-rosybrown-800 font-bold":u.value===i.id}])},[e("span",{class:H(["absolute left-0 transform transition-all duration-300",{"scale-125 opacity-100":u.value===i.id,"scale-90 opacity-60":u.value!==i.id}])},l(u.value===i.id?"⬤":"〇"),3),o(" "+l(i.text),1)],10,ut)]))),128))])]))}}),pt=["id"],S=A({__name:"Subtitle",props:{text:{}},setup(b){const s=b;return(u,r)=>(n(),a("h2",{id:s.text,class:"border-rosybrown-800 text-rosybrown-800 mx-1 w-fit border-t-5 p-1 text-xl font-bold"},l(s.text),9,pt))}}),mt={class:"text-rosybrown-800 grid grid-cols-12 grid-rows-4 md:grid-rows-2"},yt={class:"col-span-2 row-span-4 content-center text-3xl font-bold sm:text-4xl md:col-span-1 md:row-span-2"},wt={class:"col-span-10 row-span-2 text-lg md:col-span-11 md:row-span-1"},xt={key:0},bt={key:0,class:"text-wheat-400 inline-block w-full md:inline md:w-fit"},gt={class:"col-span-10 row-span-2 text-lg md:col-span-11 md:row-span-1"},vt={key:0},_t={key:0,class:"text-wheat-400 inline-block w-full md:inline md:w-fit"},ht=A({__name:"WordCikLingEntry",props:{data:{}},setup(b){const s=b;return(u,r)=>(n(),a("div",mt,[e("div",yt,l(s.data.text),1),e("div",wt,[s.data.cikFinal?(n(),a("p",xt,[p(f,{class:"text-rosybrown-700"},{default:y(()=>r[0]||(r[0]=[o("戚书")])),_:1}),o(" "+l(s.data.cikInitial),1),r[2]||(r[2]=e("span",{class:"text-wheat-400 mr-1 text-sm"},"聲",-1)),o(l(s.data.cikFinal),1),r[3]||(r[3]=e("span",{class:"text-wheat-400 mr-1 text-sm"},"韻",-1)),o(l(s.data.tone),1),r[4]||(r[4]=e("span",{class:"text-wheat-400 mr-3 text-sm"},"調",-1)),s.data.cikAnnotation?(n(),a("span",bt,[p(f,{class:"text-rosybrown-700"},{default:y(()=>r[1]||(r[1]=[o("注释")])),_:1}),o(l(s.data.cikAnnotation),1),s.data.liAnnotateCik?(n(),k(_,{key:0,class:"ml-1"},{default:y(()=>[o(l(s.data.cikFinal)+" "+l(s.data.liAnnotateCikOrder),1)]),_:1})):m("",!0)])):m("",!0)])):m("",!0)]),e("div",gt,[s.data.lingFinal?(n(),a("p",vt,[p(f,{class:"text-rosybrown-700"},{default:y(()=>r[5]||(r[5]=[o("林书")])),_:1}),o(" "+l(s.data.lingInitial),1),r[7]||(r[7]=e("span",{class:"text-wheat-400 mr-1 text-sm"},"聲",-1)),o(l(s.data.lingFinal),1),r[8]||(r[8]=e("span",{class:"text-wheat-400 mr-1 text-sm"},"韻",-1)),o(l(s.data.tone),1),r[9]||(r[9]=e("span",{class:"text-wheat-400 mr-3 text-sm"},"調",-1)),s.data.lingAnnotation?(n(),a("span",_t,[p(f,{class:"text-rosybrown-700"},{default:y(()=>r[6]||(r[6]=[o("注释")])),_:1}),o(l(s.data.lingAnnotation),1),s.data.liAnnotateLing?(n(),k(_,{key:0,class:"ml-1 inline-block"},{default:y(()=>[o(l(s.data.lingFinal)+" "+l(s.data.liAnnotateLingOrder),1)]),_:1})):m("",!0)])):m("",!0)])):m("",!0)])]))}}),ft={key:0,class:"mt-2 mb-5 rounded-lg bg-white px-8 py-6"},kt={class:"mb-2 space-y-2"},$t={class:"text-rosybrown-800 space-y-1"},Ct={key:0},At={key:1},Lt={class:"text-rosybrown-800 space-y-1"},Tt={key:0},St=A({__name:"WordCikLingCard",props:{data:{},isCommentedCikLing:{type:Boolean}},setup(b){const s=b,u=F(()=>s.data.map(c=>{const t=N[c.tone],w=c.cikAnnotation==""?"":r(c.cikAnnotation),i=c.lingAnnotation==""?"":r(c.lingAnnotation);return{...c,tone:t,cikAnnotation:w,lingAnnotation:i}})),r=c=>c.replace(/\d+$/,"").trim();return(c,t)=>{var w;return((w=u.value)==null?void 0:w.length)>0?(n(),a("div",ft,[e("div",kt,[(n(!0),a(x,null,L(u.value,(i,h)=>(n(),k(ht,{data:i,key:h},null,8,["data"]))),128))]),e("div",$t,[(n(!0),a(x,null,L(u.value,(i,h)=>(n(),a(x,{key:h},[i.liAnnotateCikOrder?(n(),a("p",Ct,[p(_,null,{default:y(()=>[o(l(i.cikFinal)+" "+l(i.liAnnotateCikOrder),1)]),_:2},1024),o(l(i.liAnnotateCik),1)])):m("",!0),i.liAnnotateLingOrder?(n(),a("p",At,[p(_,null,{default:y(()=>[o(l(i.lingFinal)+" "+l(i.liAnnotateLingOrder),1)]),_:2},1024),o(l(i.liAnnotateLing),1)])):m("",!0)],64))),128))]),t[2]||(t[2]=e("p",{class:"text-rosybrown-200 mt-2 flex justify-end text-sm"}," 李如龙. 2001. 戚林八音校注. 福州: 福建人民出版社. ",-1)),s.isCommentedCikLing?(n(),a(x,{key:0},[t[1]||(t[1]=e("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),e("div",Lt,[(n(!0),a(x,null,L(u.value,(i,h)=>(n(),a(x,{key:h},[i.comment?(n(),a("p",Tt,[p(f,{class:"text-rosybrown-700"},{default:y(()=>t[0]||(t[0]=[o("校注")])),_:1}),o(l(i.comment),1)])):m("",!0)],64))),128))])],64)):m("",!0)])):m("",!0)}}}),Et={class:"text-rosybrown-800 mt-2 mb-5 rounded-lg bg-white px-8 py-6"},Ft={class:"items-baseline"},It={class:"text-rosybrown-800 mr-2 text-3xl font-bold sm:text-4xl"},Mt={class:"text-rosybrown-500 text-xl"},jt={class:"flex w-full justify-end"},Ht={key:0},Pt={class:"text-rosybrown-200 mt-2 flex justify-end text-sm"},Bt=A({__name:"WordFengCard",props:{data:{}},setup(b){const s=b,u=T("second"),r=()=>{u.value=u.value==="first"?"second":"first"};return(c,t)=>(n(),a("div",Et,[e("div",Ft,[e("span",It,l(s.data.text),1),e("span",Mt,[o(" /"+l(C(E)(s.data.pronLiteral))+"/",1),t[0]||(t[0]=e("span",{class:"font-serif font-bold"},"→",-1)),o("/"+l(C(E)(s.data.pronSandhi))+"/ ",1)])]),e("div",jt,[e("button",{class:"bg-wheat-50 hover:bg-wheat-100 mb-4 cursor-pointer rounded px-3 py-1 text-sm transition",onClick:r}," 显示"+l(u.value==="first"?"推荐用字":"原书用字"),1)]),p(O,{data:s.data.expls,"current-glyph":u.value},null,8,["data","current-glyph"]),s.data.comment?(n(),a("p",Ht,[p(f,{class:"text-rosybrown-700"},{default:y(()=>t[1]||(t[1]=[o("注释")])),_:1}),o(l(C(I)(s.data.comment)),1)])):m("",!0),e("p",Pt,l(s.data.refPage?`冯爱珍. 1998. 福州方言词典. 南京: 江苏教育出版社. 第 ${s.data.refPage} 页.`:"冯爱珍. 1998. 福州方言词典. 南京: 江苏教育出版社."),1),s.data.correction?(n(),a(x,{key:1},[t[3]||(t[3]=e("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),e("p",null,[p(f,{class:"text-rosybrown-700"},{default:y(()=>t[2]||(t[2]=[o("校注")])),_:1}),o(l(s.data.correction),1)])],64)):m("",!0)]))}}),Nt={class:"text-rosybrown-800 mt-2 mb-5 flex flex-wrap gap-3 rounded-lg bg-white px-8 py-6"},Ot={key:0},Gt={key:1},Rt={key:2},Vt={key:3},Wt=["innerHTML"],zt={key:4},Dt=["innerHTML"],qt=A({__name:"WordPhoneticCard",props:{data:{}},setup(b){const s=b,u=F(()=>{const r=s.data.phonologyTone?N[s.data.phonologyTone]:s.data.phonologyTone,c=E(s.data.yngping),t=s.data.phonologyInitial&&s.data.phonologyFinal&&r?Q(s.data.phonologyInitial,s.data.phonologyFinal,r):"";return{...s.data,phonologyTone:r,ipa:c,banguace:t}});return(r,c)=>(n(),a("div",Nt,[u.value.phonologyTone?(n(),a("p",Ot,[p(_,null,{default:y(()=>c[0]||(c[0]=[o("音韵地位")])),_:1}),o(l(u.value.phonologyInitial)+l(u.value.phonologyFinal)+l(u.value.phonologyTone),1)])):m("",!0),u.value.banguace?(n(),a("p",Gt,[p(_,null,{default:y(()=>c[1]||(c[1]=[o("教会罗马字")])),_:1}),o(l(u.value.banguace),1)])):m("",!0),u.value.ipa?(n(),a("p",Rt,[p(_,null,{default:y(()=>c[2]||(c[2]=[o("IPA")])),_:1}),o("/"+l(u.value.ipa)+"/",1)])):m("",!0),u.value.yngping?(n(),a("p",Vt,[p(_,null,{default:y(()=>c[3]||(c[3]=[o("榕拼键入")])),_:1}),e("span",{innerHTML:C(J)(u.value.yngping)},null,8,Wt)])):m("",!0),u.value.yngping?(n(),a("p",zt,[p(_,null,{default:y(()=>c[4]||(c[4]=[o("榕拼手写")])),_:1}),e("span",{innerHTML:C(K)(u.value.yngping)},null,8,Dt)])):m("",!0)]))}}),Ut={};function Yt(b,s){return s[0]||(s[0]=W('<div class="bg-wheat-100 mt-5 mb-8 rounded-lg px-8 py-6"><div class="animate-pulse space-y-3.5"><div class="bg-wheat-200 mt-4.5 h-6 w-[50%] rounded-lg sm:w-40"></div><div class="bg-wheat-200 mb-4.5 h-6 w-[30%] rounded-lg sm:w-28"></div></div></div><div class="bg-wheat-100 mt-4.5 mb-4 h-6 w-[35%] animate-pulse rounded-lg sm:w-32"></div><div class="mt-2 mb-5 rounded-lg bg-white px-8 py-6"><div class="my-3 animate-pulse"><div class="bg-wheat-200 mb-4 h-6 w-[35%] rounded-lg sm:w-40"></div><div class="bg-wheat-100 mt-6 mb-2.5 h-3 w-[95%] rounded-lg sm:w-95 md:w-115"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[75%] rounded-lg sm:w-75"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[90%] rounded-lg sm:w-90"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[56%] rounded-lg sm:w-56"></div></div></div><div class="bg-wheat-100 mt-4.5 mb-4 h-6 w-[35%] animate-pulse rounded-lg sm:w-32"></div><div class="mt-2 mb-5 rounded-lg bg-white px-8 py-6"><div class="my-3 animate-pulse"><div class="bg-wheat-200 mb-4 h-6 w-[35%] rounded-lg sm:w-40"></div><div class="bg-wheat-100 mt-6 mb-2.5 h-3 w-[95%] rounded-lg sm:w-95 md:w-115"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[75%] rounded-lg sm:w-75"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[90%] rounded-lg sm:w-90"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[56%] rounded-lg sm:w-56"></div></div></div>',5))}const Qt=M(Ut,[["render",Yt]]),Jt={class:"bg-wheat-100 mt-5 mb-8 rounded-lg px-8 py-6"},Kt={class:"ruby-container text-rosybrown-800 text-4xl font-bold break-all whitespace-normal md:text-5xl"},Xt=["innerHTML"],Zt={class:"text-rosybrown-800 mt-2 mb-5 rounded-lg bg-white px-8 py-6"},te={key:0},ee={class:"space-y-1"},se={key:0},ne={key:1},oe={class:"text-rosybrown-800 mt-2 mb-5 overflow-hidden rounded-lg bg-white"},ae={class:"w-full border-collapse"},le={class:"text-center"},re={class:"py-1.5"},de={class:"flex items-center justify-center py-2 md:hidden"},ie={class:"hidden items-center justify-center py-2 md:flex"},ue={class:"py-1.5"},ce={class:"hidden py-1.5 md:block"},pe={key:0,class:"px-8 pb-6"},me={class:"text-rosybrown-800 mt-2 mb-5 overflow-hidden rounded-lg bg-white"},ye={class:"w-full border-collapse"},we={class:"text-center"},xe={class:"py-1.5"},be={class:"flex items-center justify-center py-2"},ge={class:"py-1.5"},ve={key:0,class:"px-8 pb-6"},Se=A({__name:"WordView",setup(b){const s="https://seedict.com/api/v1",u=z(),r=T(u.query.w),c=T(!1),t=T({status:0,data:{w:"",result:{seedict:{text:"",glyphs:[],pronPrimary:"",prons:[],phonetics:{yngping:""},expls:[]},fengs:[],ciklings:[]}}}),w=()=>{var v,d,g;document.title=(g=(d=(v=t.value.data)==null?void 0:v.result)==null?void 0:d.seedict)!=null&&g.text?`${t.value.data.result.seedict.text} - 词汇`:"米时典 SeeDict - 词汇"},i=async()=>{c.value=!0;try{const v=await fetch(`${s}/word?w=${encodeURIComponent(r.value)}`);if(!v.ok)throw new Error("Response Error");t.value=await v.json(),w()}catch(v){console.error(v)}finally{c.value=!1}};D(()=>u.query.w,v=>{v&&(r.value=v,i())},{immediate:!0});const h=F(()=>t.value.data.result.ciklings.some(v=>{var d;return((d=v.comment)==null?void 0:d.trim())!==""}));return(v,d)=>(n(),a(x,null,[q(p(ct,{class:"hidden 2xl:block"},null,512),[[U,!c.value]]),p(Y,null,{default:y(()=>[c.value?(n(),k(Qt,{key:0})):(n(),a(x,{key:1},[e("div",Jt,[e("div",Kt,[e("ruby",{innerHTML:C(X)(t.value.data.result.seedict.text,t.value.data.result.seedict.pronPrimary,"text-rosybrown-700"),style:{"ruby-align":"center"}},null,8,Xt)])]),t.value.data.result.seedict.expls.length>0?(n(),a(x,{key:0},[p(S,{text:"本站释义"}),e("div",Zt,[p(O,{data:t.value.data.result.seedict.expls},null,8,["data"]),t.value.data.result.seedict.commentExpl?(n(),a("p",te,[p(f,{class:"text-rosybrown-700"},{default:y(()=>d[0]||(d[0]=[o("注释")])),_:1}),o(l(t.value.data.result.seedict.commentExpl),1)])):m("",!0),t.value.data.result.seedict.synonym||t.value.data.result.seedict.antonym?(n(),a(x,{key:1},[d[3]||(d[3]=e("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),e("div",ee,[t.value.data.result.seedict.synonym?(n(),a("p",se,[p(f,{class:"text-rosybrown-700"},{default:y(()=>d[1]||(d[1]=[o("近义词")])),_:1}),o(l(t.value.data.result.seedict.synonym),1)])):m("",!0),t.value.data.result.seedict.antonym?(n(),a("p",ne,[p(f,{class:"text-rosybrown-700"},{default:y(()=>d[2]||(d[2]=[o("反义词")])),_:1}),o(l(t.value.data.result.seedict.antonym),1)])):m("",!0)])],64)):m("",!0)])],64)):m("",!0),t.value.data.result.fengs.length>0||t.value.data.result.ciklings.length>0?(n(),a(x,{key:1},[p(S,{text:"辞书释义"}),t.value.data.result.fengs.length>0?(n(!0),a(x,{key:0},L(t.value.data.result.fengs,(g,$)=>(n(),k(Bt,{data:g,key:$},null,8,["data"]))),128)):m("",!0),p(St,{data:t.value.data.result.ciklings,isCommentedCikLing:h.value},null,8,["data","isCommentedCikLing"])],64)):m("",!0),t.value.data.result.seedict.prons.length>0?(n(),a(x,{key:2},[p(S,{text:"各地方音"}),e("div",oe,[e("table",ae,[d[8]||(d[8]=e("thead",{class:"bg-rosybrown-300 text-center"},[e("tr",null,[e("th",{class:"py-1 text-white"},"读音"),e("th",{class:"py-1 text-white"},"连读"),e("th",{class:"py-1 text-white"},"地区"),e("th",{class:"hidden py-1 text-white md:block"},"来源")])],-1)),e("tbody",le,[(n(!0),a(x,null,L(t.value.data.result.seedict.prons,(g,$)=>(n(),a("tr",{key:$},[e("td",re,l(C(E)(g.pron)),1),e("td",de,[g.isSandhi?(n(),k(_,{key:0},{default:y(()=>d[4]||(d[4]=[o("连")])),_:1})):(n(),k(_,{key:1},{default:y(()=>d[5]||(d[5]=[o("本")])),_:1}))]),e("td",ie,[g.isSandhi?(n(),k(_,{key:0},{default:y(()=>d[6]||(d[6]=[o("连读音")])),_:1})):(n(),k(_,{key:1},{default:y(()=>d[7]||(d[7]=[o("本字音")])),_:1}))]),e("td",ue,l(g.location==""?"市区":g.location),1),e("td",ce,l(C(Z)[g.source]),1)]))),128))])]),t.value.data.result.seedict.commentPron?(n(),a("div",pe,[d[10]||(d[10]=e("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),e("p",null,[p(f,{class:"text-rosybrown-700"},{default:y(()=>d[9]||(d[9]=[o("注释 ")])),_:1}),o(l(t.value.data.result.seedict.commentPron),1)])])):m("",!0)])],64)):m("",!0),t.value.data.result.seedict.phonetics?(n(),a(x,{key:3},[p(S,{text:"注音一览"}),p(qt,{data:t.value.data.result.seedict.phonetics},null,8,["data"])],64)):m("",!0),t.value.data.result.seedict.glyphs.length>0?(n(),a(x,{key:4},[p(S,{text:"用字一览"}),e("div",me,[e("table",ye,[d[13]||(d[13]=e("thead",{class:"bg-rosybrown-300 text-center"},[e("tr",null,[e("th",{class:"py-1 text-white"},"用字"),e("th",{class:"py-1 text-white"},"类别"),e("th",{class:"py-1 text-white"},"来源")])],-1)),e("tbody",we,[(n(!0),a(x,null,L(t.value.data.result.seedict.glyphs,(g,$)=>(n(),a("tr",{key:$},[e("td",xe,l(g.glyph),1),e("td",be,[g.category=="本字"?(n(),k(_,{key:0},{default:y(()=>d[11]||(d[11]=[o("本字")])),_:1})):(n(),k(_,{key:1,content:g.category},{default:y(()=>d[12]||(d[12]=[o("俗字")])),_:2},1032,["content"]))]),e("td",ge,l(g.source),1)]))),128))])]),t.value.data.result.seedict.commentGlyph?(n(),a("div",ve,[d[15]||(d[15]=e("hr",{class:"border-rosybrown-100 my-2 border-t-2"},null,-1)),e("p",null,[p(f,{class:"text-rosybrown-700"},{default:y(()=>d[14]||(d[14]=[o("注释")])),_:1}),o(" "+l(t.value.data.result.seedict.commentGlyph),1)])])):m("",!0)])],64)):m("",!0)],64))]),_:1})],64))}});export{Se as default};
