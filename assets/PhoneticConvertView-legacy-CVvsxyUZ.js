System.register(["./index-legacy-Th4CH5Fj.js","./RubyText-legacy-BtI0IVn2.js","./PageContent.vue_vue_type_script_setup_true_lang-legacy-Ci7nRqlk.js","./ToastTip.vue_vue_type_script_setup_true_lang-legacy-wsmUBZBB.js","./SearchBar-legacy-DUS7zlIn.js"],function(e,t){"use strict";var l,a,s,n,r,i,o,u,c,p,d,g,h,v,m,x,f,y,b,w,_,k,C,T,j,$,V,z,q,A,B;return{setters:[e=>{l=e.p,a=e.c,s=e.f,n=e.g,r=e.a,i=e.b,o=e.z,u=e.y,c=e.t,p=e.w,d=e.v,g=e.i,h=e.h,v=e.D,m=e.H,x=e.e,f=e.F,y=e.x,b=e.k,w=e.I},e=>{_=e.b,k=e.c,C=e.d,T=e.e,j=e.f,$=e.y,V=e.g,z=e.h,q=e._},e=>{A=e._},e=>{B=e._},null],execute:function(){const t={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},H=l({name:"material-symbols-content-copy",render:function(e,l){return s(),a("svg",t,l[0]||(l[0]=[n("path",{fill:"currentColor",d:"M9 18q-.825 0-1.412-.587T7 16V4q0-.825.588-1.412T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.587 1.413T18 18zm-4 4q-.825 0-1.412-.587T3 20V6h2v14h11v2z"},null,-1)]))}}),O={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},S=l({name:"material-symbols-delete",render:function(e,t){return s(),a("svg",O,t[0]||(t[0]=[n("path",{fill:"currentColor",d:"M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zm2-4h2V8H9zm4 0h2V8h-2z"},null,-1)]))}}),M={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},D=l({name:"mi-switch",render:function(e,t){return s(),a("svg",M,t[0]||(t[0]=[n("path",{fill:"currentColor",d:"M14.293 2.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L16.586 8H5a1 1 0 0 1 0-2h11.586l-2.293-2.293a1 1 0 0 1 0-1.414m-4.586 10a1 1 0 0 1 0 1.414L7.414 16H19a1 1 0 1 1 0 2H7.414l2.293 2.293a1 1 0 0 1-1.414 1.414l-4-4a1 1 0 0 1 0-1.414l4-4a1 1 0 0 1 1.414 0"},null,-1)]))}}),I={class:"relative"},K=r({__name:"TextareaCard",props:{placeholder:{type:String,default:"placeholder"},inputAreaClass:{type:[String,Object,Array],default:""},placeholderClass:{type:[String,Object,Array],default:""}},setup(e,{expose:t}){const l=e,r=i(null),c=i(""),p=()=>{if(!r.value)return;let e=r.value.textContent?.trim()||"";c.value=e},d=()=>{p()},g=e=>{(["Backspace","Delete"].includes(e.key)||e.ctrlKey&&"a"===e.key)&&setTimeout(p,0)};return t({data:()=>c.value,clear:()=>{r.value&&(r.value.textContent="",c.value="")}}),(t,i)=>(s(),a("div",I,[n("div",{contenteditable:"true",ref_key:"inputArea",ref:r,class:o(["bg-transparent outline-none",e.inputAreaClass]),onInput:d,onKeyup:g,onBlur:d,onCut:d},null,34),n("span",{class:o(["pointer-events-none absolute left-0 top-0 inline",{invisible:c.value.length>0},e.placeholderClass]),style:{"line-height":"inherit"}},u(l.placeholder),3)]))}}),L={class:"mb-5 flex flex-row text-4xl font-bold text-rosybrown-800"},P={class:"relative mb-16 mt-5 space-y-5 rounded-lg bg-white"},U={class:"absolute flex w-full items-center justify-between gap-1 px-6 pt-5"},W=["value"],E={class:"mx-2 rounded-full bg-white text-rosybrown-700 ring-8 ring-wheat-50"},F=["value"],R={class:"flex w-full flex-col lg:flex-row"},G={class:"my-3 ml-3 mr-3 flex flex-1 flex-col rounded-xl bg-wheat-50 pt-16 lg:mr-0"},J={class:"bg-red mt-auto px-6 py-3"},N={class:"my-3 ml-3 mr-3 flex flex-1 flex-col rounded-xl bg-white lg:pl-0 lg:pt-16"},Q=["tabindex","data-tooltip-target"],X=["id"],Y={key:1,class:"select-none text-3xl font-bold text-wheat-600/50"},Z={class:"mt-auto px-6 py-3"};e("default",r({__name:"PhoneticConvertView",setup(e){const t=[{label:"榕拼键入",value:"typing"},{label:"榕拼手写",value:"cursive"},{label:"国际音标",value:"ipa"}],l={typing:"huk21 ziu53 ua242",cursive:"hǔk zìu uâ",ipa:"huʔ˨˩ t͡siu˥˧ ua˨˦˨"},r=/\d+$/,O=i("typing"),M=i("cursive"),I=i(null),ee=i(null),te=c(()=>I.value?.data?.()||""),le=Object.entries(_).reduce((e,[t,l])=>(e[l]||(e[l]=t),e),{}),ae=Object.entries(k).map(([e,t])=>({typing:e,ipa:t})).sort((e,t)=>t.ipa.length-e.ipa.length),se={};Object.entries(C).forEach(([e,t])=>{se[t]||(se[t]=e)});const ne=Object.entries(T).map(([e,t])=>({tone:e,ipa:t})).sort((e,t)=>t.ipa.length-e.ipa.length),re=c(()=>te.value?{tokens:(te.value.match(/\s+|\S+/g)??[]).map(e=>/^\s+$/.test(e)?{text:e,raw:e,type:"whitespace"}:function(e,t,l){const a=e.trim();if(!a)return{text:e,raw:e,type:"whitespace"};const s=function(e,t){return"typing"===t?function(e){const t=e.match(r);if(!t)return{success:!1,message:"缺少声调"};const l=e.slice(0,e.length-t[0].length);if(!l)return{success:!1,message:"缺少韵母"};const[a,s,n]=V(e);return null===a?{success:!1,message:"声母不合法"}:null===s?{success:!1,message:"韵母不合法"}:null===n?{success:!1,message:"声调不合法"}:{success:!0,value:`${a}${s}${n}`}}(e):"cursive"===t?function(e){const t=e.match(z);let l=t?t[0]:"",a=e.slice(l.length);if("ng"!==l||a||(l="",a="ng"),!a)return{success:!1,message:"缺少韵母"};const s=le[a];if(!s)return{success:!1,message:"未识别韵母"};const n=s.match(r);if(!n)return{success:!1,message:"未识别声调"};const i=n[0],o=s.slice(0,s.length-i.length);return l in k?{success:!0,value:`${l}${o}${i}`}:{success:!1,message:"声母不合法"}}(e):function(e){const t=e.replace(/\//g,"").trim();if(!t)return{success:!1,message:"音节为空"};const l=ne.find(e=>t.endsWith(e.ipa));if(!l)return{success:!1,message:"未识别声调"};const a=l.tone;let s=t.slice(0,t.length-l.ipa.length),n="",r=s;const i=ae.find(e=>e.ipa&&s.startsWith(e.ipa));i&&(n=i.typing,r=s.slice(i.ipa.length)),i||r!==s||(n="");const o=se[r];return o?{success:!0,value:`${n}${o}${a}`}:{success:!1,message:"未识别韵母"}}(e)}(a,t);if(!s.success)return{text:e,raw:e,type:"error",message:s.message};const n=function(e,t){return"typing"===t?e:"cursive"===t?j(e):$(e)}(s.value,l);return n?{text:n,raw:e,type:"normal"}:{text:e,raw:e,type:"error",message:"未识别音节"}}(e,O.value,M.value))}:{tokens:[]}),ie=c(()=>re.value.tokens),oe=c(()=>ie.value.some(e=>"whitespace"!==e.type)),ue=()=>{I.value?.clear()},ce=async()=>{const e=ie.value.map(e=>e.text).join("");if(e)try{await navigator.clipboard.writeText(e),ee.value?.tip()}catch(t){console.error("复制失败:",t)}};return p(()=>ie.value,()=>{setTimeout(()=>{w()},0)},{deep:!0}),(e,r)=>{const i=q,c=D,p=S,w=H;return s(),d(A,{"show-search-bar":!1},{default:g(()=>[n("div",null,[n("div",L,[h(i,{text:"榕拼转换",yngping:"yng55 ping55 duong55 uang242"})]),r[2]||(r[2]=n("div",{class:"space-y-2 text-sm font-semibold text-rosybrown-600"},[n("p",null," 在榕拼键入、榕拼手写与国际音标之间实时转换，逐个音节校验并提示错误，帮助你快速完成不同注音方案之间的互换。 ")],-1))]),n("div",P,[n("div",U,[v(n("select",{"onUpdate:modelValue":r[0]||(r[0]=e=>O.value=e),class:"w-full rounded-lg border border-wheat-200 bg-wheat-50/50 px-3 py-1.5 font-plain text-sm text-rosybrown-700 ring-wheat-200 transition hover:border-wheat-400"},[(s(),a(f,null,x(t,e=>n("option",{key:e.value,value:e.value},u(e.label),9,W)),64))],512),[[m,O.value]]),n("div",E,[h(c,{class:"m-2"})]),v(n("select",{"onUpdate:modelValue":r[1]||(r[1]=e=>M.value=e),class:"w-full rounded-lg border border-wheat-200 bg-wheat-50/50 px-3 py-1.5 font-plain text-sm text-rosybrown-700 ring-wheat-200 transition hover:border-wheat-400"},[(s(),a(f,null,x(t,e=>n("option",{key:e.value,value:e.value},u(e.label),9,F)),64))],512),[[m,M.value]])]),n("div",R,[n("div",G,[h(K,{ref_key:"inputArea",ref:I,placeholder:l[O.value],"placeholder-class":"px-6 text-3xl font-bold text-wheat-600/50 leading-relaxed","input-area-class":{"h-full min-h-[10rem] w-full break-all px-6 leading-relaxed text-rosybrown-800 lg:min-h-[20rem]":!0,"text-3xl font-bold":te.value.length<120,"text-xl font-bold":te.value.length>=120&&te.value.length<280}},null,8,["placeholder","input-area-class"]),n("div",J,[n("button",{onClick:ue,class:"origin-center rounded-lg bg-wheat-100 p-1.5 text-wheat-500 transition-transform duration-300 hover:bg-wheat-200 active:scale-95"},[h(p,{class:"scale-100 transition-transform duration-300 active:scale-95"})])])]),n("div",N,[n("div",{class:o(["h-full min-h-[10rem] w-full break-all px-6 leading-relaxed text-rosybrown-800 lg:min-h-[20rem]",{"text-3xl font-bold":te.value.length<120,"text-xl font-bold":te.value.length>=120&&te.value.length<280}])},[oe.value?(s(!0),a(f,{key:0},x(ie.value,(e,t)=>(s(),a(f,{key:t},[n("span",{tabindex:"error"===e.type&&e.message?0:void 0,"data-tooltip-target":"error"===e.type&&e.message?`tooltip-${t}`:void 0,class:o(["inline text-rosybrown-800",{"cursor-pointer rounded-md bg-rose-50 px-1 ring-1 ring-rose-100":"error"===e.type,"whitespace-pre-wrap":"whitespace"===e.type}])},u(e.text),11,Q),"error"===e.type&&e.message?(s(),a("div",{key:0,id:`tooltip-${t}`,role:"tooltip",class:"tooltip invisible absolute z-50 inline-block rounded-xl bg-rosybrown-900 px-3 py-2 text-sm text-wheat-50 opacity-0 transition-opacity duration-500"},[b(u(e.message)+" ",1),r[3]||(r[3]=n("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1))],8,X)):y("",!0)],64))),128)):(s(),a("span",Y,u(l[M.value]),1))],2),n("div",Z,[n("button",{onClick:ce,class:"origin-center rounded-lg bg-wheat-100 p-1.5 text-wheat-500 transition-transform duration-300 hover:bg-wheat-200 active:scale-95"},[h(w,{class:"scale-100 transition-transform duration-300 active:scale-95"})])]),h(B,{ref_key:"copyTip",ref:ee},{default:g(()=>r[4]||(r[4]=[b("已复制结果")])),_:1},512)])])])]),_:1})}}}))}}});
