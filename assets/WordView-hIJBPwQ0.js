import{c as n,f as t,g as o,A as O,a as T,h as p,t as G,x as v,v as b,y,i as g,k as i,F as w,e as C,z as P,p as H,b as A,o as X,B as Z,u as L,C as B,q as ee,s as te,w as se,D as ne,E as oe,l as ae,G as le}from"./index-B-Ww2ZKW.js";import{_ as U}from"./SearchBar-BqpbQFh1.js";import{_ as q,a as R}from"./FormatText.vue_vue_type_script_setup_true_lang-BpyID6yE.js";import{_ as F}from"./Subtitle.vue_vue_type_script_setup_true_lang-DGqkQ3lc.js";import{_ as re}from"./PageContent.vue_vue_type_script_setup_true_lang-VUM-_VI8.js";import{t as z,y as I,_ as ie,p as de,m as ue,a as ce}from"./RubyText-js7H_9rH.js";import{_ as pe}from"./ToastTip.vue_vue_type_script_setup_true_lang-CHV55x0n.js";const me={},ye={class:"inline-flex items-center"},ve={class:"bg-wheat-100 text-rosybrown-600 mr-1 w-fit rounded-md px-1 py-0.5 text-xs"};function he(f,e){return t(),n("span",ye,[o("span",ve,[O(f.$slots,"default")])])}const k=U(me,[["render",he]]),ge={class:"flex items-start text-wheat-400"},fe={class:"before:content-['■'] before:mr-2"},_e=T({__name:"ExplSentence",props:{sentence:{},currentGlyph:{default:"canonical"}},setup(f){const e=f;return(d,a)=>(t(),n("li",ge,[o("span",fe,[p(q,{text:e.sentence,"glyph-mode":e.currentGlyph,"marked-class":"after:bg-wheat-400"},null,8,["text","glyph-mode"])])]))}}),we={},xe={class:"seeicon- mr-1",style:{"font-size":"20px",display:"inline-block",width:"1em","vertical-align":"-0.1em"}};function be(f,e){return t(),n("span",xe,[O(f.$slots,"default")])}const $=U(we,[["render",be]]),ke={class:"mr-2 font-semibold"},$e={key:0,class:"mt-1 list-none space-y-1 pl-2 md:pl-6"},Te=T({__name:"ExplNode",props:{node:{},index:{},path:{},currentGlyph:{}},setup(f){const e=f,d=G(()=>[...e.path,e.index]),a=()=>d.value.join(".")+". ";return(c,u)=>{var l,s;return t(),n("div",null,[o("p",null,[o("span",ke,y(a()),1),c.node.lexical?(t(),b($,{key:0},{default:g(()=>[i(y(c.node.lexical),1)]),_:1})):v("",!0),p(q,{text:e.node.expl,"glyph-mode":e.currentGlyph},null,8,["text","glyph-mode"])]),(l=c.node.sent)!=null&&l.length?(t(),n("ul",$e,[(t(!0),n(w,null,C(c.node.sent,(m,h)=>(t(),b(_e,{key:h,sentence:m,currentGlyph:c.currentGlyph},null,8,["sentence","currentGlyph"]))),128))])):v("",!0),(s=c.node.node)!=null&&s.length?(t(),b(V,{key:1,nodes:c.node.node,path:d.value,currentGlyph:c.currentGlyph},null,8,["nodes","path","currentGlyph"])):v("",!0)])}}}),V=T({__name:"ExplNodeList",props:{nodes:{},path:{},currentGlyph:{}},setup(f){return(e,d)=>(t(),n("ol",{class:P(["list-none",e.path.length===0?"pl-0":"pl-2 md:pl-6"])},[(t(!0),n(w,null,C(e.nodes,(a,c)=>(t(),n("li",{key:c,class:"mb-2"},[p(Te,{node:a,index:c+1,path:e.path,currentGlyph:e.currentGlyph},null,8,["node","index","path","currentGlyph"])]))),128))],2))}}),W=T({__name:"ExplanationList",props:{data:{},currentGlyph:{default:"canonical"}},setup(f){const e=f;return(d,a)=>(t(),n("div",null,[p(V,{nodes:e.data,path:[],currentGlyph:e.currentGlyph},null,8,["nodes","currentGlyph"])]))}}),Ce={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Ae(f,e){return t(),n("svg",Ce,e[0]||(e[0]=[o("path",{fill:"currentColor",d:"M12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12t-2.325-5.675T12 4T6.325 6.325T4 12t2.325 5.675T12 20m0-8"},null,-1)]))}const Le=H({name:"material-symbols-circle-outline",render:Ae}),Ge={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Ee(f,e){return t(),n("svg",Ge,e[0]||(e[0]=[o("path",{fill:"currentColor",d:"M12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22"},null,-1)]))}const Se=H({name:"material-symbols-circle",render:Ee}),Pe={class:"fixed z-10 w-52 rounded-lg bg-white p-5"},Me={class:"space-y-1"},Be=["href"],Fe={class:"flex items-center gap-1"},qe=T({__name:"SideBar",setup(f){const e=A([]),d=A(""),a=()=>{const u=document.querySelectorAll("h2[id]");e.value=Array.from(u).map(l=>{var s;return{id:l.id,text:((s=l.textContent)==null?void 0:s.trim())||"标题".concat(Array.from(u).indexOf(l)+1)}}),c()},c=()=>{const u=window.scrollY+100;for(let l=e.value.length-1;l>=0;l--){const s=e.value[l],m=document.getElementById(s.id);if(m&&u>=m.offsetTop){d.value=s.id;return}}e.value.length>0&&(d.value=e.value[0].id)};return X(()=>{a(),window.addEventListener("scroll",c);const u=new MutationObserver(a);u.observe(document.body,{childList:!0,subtree:!0}),Z(()=>{window.removeEventListener("scroll",c),u.disconnect()})}),(u,l)=>{const s=Se,m=Le;return t(),n("aside",Pe,[o("ol",Me,[(t(!0),n(w,null,C(e.value,(h,S)=>(t(),n("li",{key:S},[o("a",{href:"#".concat(h.id),class:P(["text-rosybrown-600 hover:text-rosybrown-800 relative block pl-5 font-semibold text-nowrap transition-all duration-300",{"text-rosybrown-800 font-bold":d.value===h.id}])},[o("div",Fe,[o("span",{class:P(["absolute left-0 transform transition-all duration-300",{"scale-125 opacity-100":d.value===h.id,"scale-100 opacity-60":d.value!==h.id}])},[d.value===h.id?(t(),b(s,{key:0})):(t(),b(m,{key:1}))],2),o("span",null," "+y(h.text),1)])],10,Be)]))),128))])])}}}),Ie={class:"text-rosybrown-800 grid grid-cols-12 grid-rows-4 md:grid-rows-2"},Re={class:"col-span-2 row-span-4 content-center text-3xl font-bold sm:text-4xl md:col-span-1 md:row-span-2"},He={class:"col-span-10 row-span-2 text-lg md:col-span-11 md:row-span-1"},Ue={key:0},je={key:0,class:"text-wheat-400 inline-block w-full md:inline md:w-fit"},Ne={class:"col-span-10 row-span-2 text-lg md:col-span-11 md:row-span-1"},Oe={key:0},ze={key:0,class:"text-wheat-400 inline-block w-full md:inline md:w-fit"},Ve=T({__name:"WordCikLingEntry",props:{data:{}},setup(f){const e=f;return(d,a)=>(t(),n("div",Ie,[o("div",Re,y(e.data.text),1),o("div",He,[e.data.cikFinal?(t(),n("p",Ue,[p($,{class:"text-rosybrown-700"},{default:g(()=>a[0]||(a[0]=[i("戚書")])),_:1}),i(y(e.data.cikInitial),1),a[2]||(a[2]=o("span",{class:"text-wheat-400 mr-1 text-sm"},"聲",-1)),i(y(e.data.cikFinal),1),a[3]||(a[3]=o("span",{class:"text-wheat-400 mr-1 text-sm"},"韻",-1)),i(y(e.data.tone),1),a[4]||(a[4]=o("span",{class:"text-wheat-400 mr-3 text-sm"},"調",-1)),e.data.cikAnnotation?(t(),n("span",je,[p($,{class:"text-rosybrown-700"},{default:g(()=>a[1]||(a[1]=[i("注釋")])),_:1}),i(y(e.data.cikAnnotation),1),e.data.liAnnotateCik?(t(),b(k,{key:0,class:"ml-1"},{default:g(()=>[i(y(e.data.cikFinal)+" "+y(e.data.liAnnotateCikOrder),1)]),_:1})):v("",!0)])):v("",!0)])):v("",!0)]),o("div",Ne,[e.data.lingFinal?(t(),n("p",Oe,[p($,{class:"text-rosybrown-700"},{default:g(()=>a[5]||(a[5]=[i("林書")])),_:1}),i(y(e.data.lingInitial),1),a[7]||(a[7]=o("span",{class:"text-wheat-400 mr-1 text-sm"},"聲",-1)),i(y(e.data.lingFinal),1),a[8]||(a[8]=o("span",{class:"text-wheat-400 mr-1 text-sm"},"韻",-1)),i(y(e.data.tone),1),a[9]||(a[9]=o("span",{class:"text-wheat-400 mr-3 text-sm"},"調",-1)),e.data.lingAnnotation?(t(),n("span",ze,[p($,{class:"text-rosybrown-700"},{default:g(()=>a[6]||(a[6]=[i("注釋")])),_:1}),i(y(e.data.lingAnnotation),1),e.data.liAnnotateLing?(t(),b(k,{key:0,class:"ml-1 inline-block"},{default:g(()=>[i(y(e.data.lingFinal)+" "+y(e.data.liAnnotateLingOrder),1)]),_:1})):v("",!0)])):v("",!0)])):v("",!0)])]))}}),We={key:0,class:"mb-5 mt-2 rounded-lg bg-white px-8 py-6"},De={class:"mb-2 space-y-2"},Ye={class:"space-y-1 text-rosybrown-800"},Je={class:"space-y-1 text-rosybrown-800"},Ke={key:0},Qe=T({__name:"WordCikLingCard",props:{data:{},isCommentedCikLing:{type:Boolean}},setup(f){const e=f,d=G(()=>e.data.map(u=>{const l=z[u.tone];return{...u,tone:l}})),a=G(()=>{const u={};return e.data.forEach(l=>{const s="".concat(l.cikFinal," ").concat(l.liAnnotateCikOrder),m="".concat(l.lingFinal," ").concat(l.liAnnotateLingOrder);l.liAnnotateCik&&(u[l.liAnnotateCik]?u[l.liAnnotateCik].order.add(s):u[l.liAnnotateCik]={content:l.liAnnotateCik,order:new Set([s])}),l.liAnnotateLing&&(u[l.liAnnotateLing]?u[l.liAnnotateLing].order.add(m):u[l.liAnnotateLing]={content:l.liAnnotateLing,order:new Set([m])})}),Object.values(u).map(l=>({content:c(l.content),order:Array.from(l.order)}))}),c=u=>u.replace(/\d+$/,"").trim();return(u,l)=>{var s;return((s=d.value)==null?void 0:s.length)>0?(t(),n("div",We,[o("div",De,[(t(!0),n(w,null,C(d.value,(m,h)=>(t(),b(Ve,{data:m,key:h},null,8,["data"]))),128))]),o("div",Ye,[(t(!0),n(w,null,C(a.value,(m,h)=>(t(),n("p",{key:h},[(t(!0),n(w,null,C(m.order,(S,M)=>(t(),b(k,{key:M},{default:g(()=>[i(y(S),1)]),_:2},1024))),128)),i(y(m.content),1)]))),128))]),l[2]||(l[2]=o("p",{class:"mt-2 flex justify-end text-sm text-rosybrown-200"}," 李如龙, 王升魁. 戚林八音校注. 福州: 福建人民出版社, 2001. ",-1)),e.isCommentedCikLing?(t(),n(w,{key:0},[l[1]||(l[1]=o("hr",{class:"my-2 border-t-2 border-rosybrown-100"},null,-1)),o("div",Je,[(t(!0),n(w,null,C(d.value,(m,h)=>(t(),n(w,{key:h},[m.comment?(t(),n("p",Ke,[p($,{class:"text-rosybrown-700"},{default:g(()=>l[0]||(l[0]=[i("校注")])),_:1}),p(q,{text:m.comment},null,8,["text"])])):v("",!0)],64))),128))])],64)):v("",!0)])):v("",!0)}}}),Xe=T({__name:"MarkedText",props:{text:{}},setup(f){const e=f,d=G(()=>e.text.trim()),a=G(()=>{const l=d.value.split(/(?:)/u),s=[];for(let m=0;m<l.length;m++)if(l[m]!=="*"){if(m===l.length-1){s.push(!1);continue}l[m+1]==="*"?s.push(!0):s.push(!1)}return s}),c=G(()=>d.value.replace(/\*/g,"")),u=G(()=>c.value.split(/(?:)/u));return(l,s)=>(t(!0),n(w,null,C(u.value,(m,h)=>(t(),n("span",{key:h,class:P(["relative",{"after:absolute after:-bottom-0 after:left-1/2 after:h-[0.15em] after:w-[0.15em] after:-translate-x-1/2 after:rounded-full after:bg-rosybrown-700 after:content-['']":a.value[h]}])},y(m),3))),128))}}),Ze={class:"mb-5 mt-2 rounded-lg bg-white px-8 py-6 text-rosybrown-800"},et={class:"items-baseline"},tt={class:"mr-2 text-3xl font-bold text-rosybrown-800 sm:text-4xl"},st={class:"text-xl text-rosybrown-500"},nt={class:"flex w-full justify-end"},ot={key:0},at={class:"mt-2 flex justify-end text-sm text-rosybrown-200"},lt=T({__name:"WordFengCard",props:{data:{}},setup(f){const e=f,d=A("canonical"),a=()=>{d.value=d.value==="original"?"canonical":"original"};return(c,u)=>(t(),n("div",Ze,[o("div",et,[o("span",tt,[p(Xe,{text:e.data.text},null,8,["text"])]),o("span",st," /"+y(L(I)(e.data.pronLiteral,!0))+"/→/"+y(L(I)(e.data.pronSandhi,!0))+"/ ",1)]),o("div",nt,[o("button",{class:"mb-4 cursor-pointer rounded bg-wheat-50 px-3 py-1 text-sm transition hover:bg-wheat-100",onClick:a}," 显示"+y(d.value==="original"?"推荐用字":"原书用字"),1)]),p(W,{data:e.data.expls,"current-glyph":d.value},null,8,["data","current-glyph"]),e.data.comment?(t(),n("p",ot,[p($,{class:"text-rosybrown-700"},{default:g(()=>u[0]||(u[0]=[i("注釋")])),_:1}),p(q,{text:e.data.comment,"glyph-mode":d.value},null,8,["text","glyph-mode"])])):v("",!0),o("p",at,y(e.data.refPage?"冯爱珍. 福州方言词典. 南京: 江苏教育出版社, 1998: ".concat(e.data.refPage,"."):"冯爱珍. 福州方言词典. 南京: 江苏教育出版社, 1998."),1),e.data.correction?(t(),n(w,{key:1},[u[2]||(u[2]=o("hr",{class:"my-2 border-t-2 border-rosybrown-100"},null,-1)),o("p",null,[p($,{class:"text-rosybrown-700"},{default:g(()=>u[1]||(u[1]=[i("校注")])),_:1}),p(q,{text:e.data.correction},null,8,["text"])])],64)):v("",!0)]))}}),rt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function it(f,e){return t(),n("svg",rt,e[0]||(e[0]=[o("path",{fill:"currentColor",d:"m10.65 15.75l4.875-3.125q.35-.225.35-.625t-.35-.625L10.65 8.25q-.375-.25-.763-.038t-.387.663v6.25q0 .45.388.663t.762-.038M12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22"},null,-1)]))}const dt=H({name:"material-symbols-play-circle-rounded",render:it}),ut={class:"flex flex-row items-baseline gap-5 whitespace-normal break-all text-4xl font-bold text-rosybrown-800 md:text-5xl"},ct=["src"],pt=T({__name:"WordHead",props:{text:{},yngping:{},voiceUrl:{}},setup(f){const e=f,d=A(null),a=A(null),c=A(!1),u=A(!1),l=async()=>{var m;try{const h=e.text.replace(/\*/g,"");await navigator.clipboard.writeText(h),(m=d.value)==null||m.tip()}catch(h){console.error("复制失败:",h)}},s=()=>{a.value&&(c.value?a.value.pause():a.value.play().catch(m=>{console.error("播放失败:",m)}),c.value=!c.value,a.value.onended=()=>{c.value=!1})};return(m,h)=>{const S=dt;return t(),n(w,null,[o("div",{class:P(["relative z-10 mb-8 mt-5 cursor-pointer overflow-hidden rounded-lg bg-wheat-100 px-8 py-6 transition-all duration-300 ease-in-out before:absolute before:left-[100%] before:top-[100%] before:-z-10 before:h-[100rem] before:w-[100rem] before:rounded-full before:bg-wheat-200 before:transition-all before:duration-700 before:content-[''] active:before:-left-[16rem] active:before:-top-[16rem] active:before:transition-colors active:before:duration-0 md:hover:before:-left-[16rem] md:hover:before:-top-[16rem]",u.value?"":"active:scale-95"]),onClick:B(l,["prevent"])},[o("div",ut,[p(ie,{text:e.text,yngping:e.yngping},null,8,["text","yngping"]),e.voiceUrl?(t(),n("div",{key:0,onClick:B(s,["stop"]),onMousedown:h[0]||(h[0]=B(M=>u.value=!0,["stop"])),onMouseup:h[1]||(h[1]=B(M=>u.value=!1,["stop"])),onMouseleave:h[2]||(h[2]=B(M=>u.value=!1,["stop"])),class:"relative z-10"},[o("audio",{ref_key:"audioPlayer",ref:a,src:e.voiceUrl,preload:"auto",class:"hidden"},null,8,ct),p(S,{class:"cursor-pointer text-wheat-600/60 transition-colors hover:text-wheat-600"})],32)):v("",!0)])],2),p(pe,{ref_key:"copyTip",ref:d},{default:g(()=>h[3]||(h[3]=[i("已复制词条")])),_:1},512)],64)}}}),mt={class:"text-rosybrown-800 mt-2 mb-5 flex flex-wrap gap-3 rounded-lg bg-white px-8 py-6"},yt={key:0},vt={key:1},ht={key:2},gt={key:3},ft=["innerHTML"],_t={key:4},wt=["innerHTML"],xt=T({__name:"WordPhoneticCard",props:{data:{}},setup(f){const e=f,d=G(()=>{const a=e.data.phonologyTone?z[e.data.phonologyTone]:e.data.phonologyTone,c=I(e.data.yngping),u=e.data.phonologyInitial&&e.data.phonologyFinal&&a?de(e.data.phonologyInitial,e.data.phonologyFinal,a):"";return{...e.data,phonologyTone:a,ipa:c,banguace:u}});return(a,c)=>(t(),n("div",mt,[d.value.phonologyTone?(t(),n("p",yt,[p(k,null,{default:g(()=>c[0]||(c[0]=[i("音韵地位")])),_:1}),i(y(d.value.phonologyInitial)+y(d.value.phonologyFinal)+y(d.value.phonologyTone),1)])):v("",!0),d.value.banguace?(t(),n("p",vt,[p(k,null,{default:g(()=>c[1]||(c[1]=[i("教会罗马字")])),_:1}),i(y(d.value.banguace),1)])):v("",!0),d.value.ipa?(t(),n("p",ht,[p(k,null,{default:g(()=>c[2]||(c[2]=[i("国际音标")])),_:1}),i("/"+y(d.value.ipa)+"/ ",1)])):v("",!0),d.value.yngping?(t(),n("p",gt,[p(k,null,{default:g(()=>c[3]||(c[3]=[i("榕拼键入")])),_:1}),o("span",{innerHTML:L(ue)(d.value.yngping)},null,8,ft)])):v("",!0),d.value.yngping?(t(),n("p",_t,[p(k,null,{default:g(()=>c[4]||(c[4]=[i("榕拼手写")])),_:1}),o("span",{innerHTML:L(ce)(d.value.yngping)},null,8,wt)])):v("",!0)]))}}),bt={};function kt(f,e){return e[0]||(e[0]=ee('<div class="bg-wheat-100 mt-5 mb-8 rounded-lg px-8 py-6"><div class="animate-pulse space-y-3.5"><div class="bg-wheat-200 mt-4.5 h-6 w-[50%] rounded-lg sm:w-40"></div><div class="bg-wheat-200 mb-4.5 h-6 w-[30%] rounded-lg sm:w-28"></div></div></div><div class="bg-wheat-100 mt-4.5 mb-4 h-6 w-[35%] animate-pulse rounded-lg sm:w-32"></div><div class="mt-2 mb-5 rounded-lg bg-white px-8 py-6"><div class="my-3 animate-pulse"><div class="bg-wheat-200 mb-4 h-6 w-[35%] rounded-lg sm:w-40"></div><div class="bg-wheat-100 mt-6 mb-2.5 h-3 w-[95%] rounded-lg sm:w-95 md:w-115"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[75%] rounded-lg sm:w-75"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[90%] rounded-lg sm:w-90"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[56%] rounded-lg sm:w-56"></div></div></div><div class="bg-wheat-100 mt-4.5 mb-4 h-6 w-[35%] animate-pulse rounded-lg sm:w-32"></div><div class="mt-2 mb-5 rounded-lg bg-white px-8 py-6"><div class="my-3 animate-pulse"><div class="bg-wheat-200 mb-4 h-6 w-[35%] rounded-lg sm:w-40"></div><div class="bg-wheat-100 mt-6 mb-2.5 h-3 w-[95%] rounded-lg sm:w-95 md:w-115"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[75%] rounded-lg sm:w-75"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[90%] rounded-lg sm:w-90"></div><div class="bg-wheat-100 mb-2.5 h-3 w-[56%] rounded-lg sm:w-56"></div></div></div>',5))}const $t=U(bt,[["render",kt]]),Tt={class:"mb-5 mt-2 rounded-lg bg-white px-8 py-6 text-rosybrown-800"},Ct={key:0},At={class:"space-y-1"},Lt={key:0},Gt={key:1},Et={class:"mb-5 mt-2 overflow-hidden rounded-lg bg-white text-rosybrown-800"},St={key:0,class:"w-full border-collapse"},Pt={class:"text-center"},Mt={class:"py-1.5"},Bt={class:"flex items-center justify-center py-2 md:hidden"},Ft={class:"hidden items-center justify-center py-2 md:flex"},qt={class:"py-1.5"},It={key:1,class:"border-t-2 border-rosybrown-100"},Rt={class:"mb-5 mt-2 overflow-hidden rounded-lg bg-white text-rosybrown-800"},Ht={key:0,class:"w-full border-collapse"},Ut={class:"text-center"},jt={class:"py-1.5"},Nt={class:"flex items-center justify-center py-2"},Ot={key:1,class:"border-t-2 border-rosybrown-100"},Qt=T({__name:"WordView",setup(f){const e="https://i.seedict.com/api/v1",d="https://oss.seedict.com",a=te(),c=ae(),u=A(a.query.w),l=A(!1),s=A({status:0,data:{w:"",result:{seedict:{text:"",glyphs:[],pronPrimary:"",prons:[],phonetics:{yngping:""},expls:[]},fengs:[],ciklings:[]}}}),m=A({status:0,data:{yngping:"",results:[]}}),h=()=>{if(a.hash){const _=a.hash;return c.replace({...a,hash:""}).catch(()=>{}),_}return""},S=_=>{if(_){console.log(_);const r=decodeURIComponent(_);le(()=>{const x=document.querySelector(r);x&&(x.scrollIntoView({behavior:"smooth",block:"start"}),c.replace({...a,hash:r}).catch(()=>{}))})}},M=h(),D=()=>{var _,r,x;document.title=(x=(r=(_=s.value.data)==null?void 0:_.result)==null?void 0:r.seedict)!=null&&x.text?"".concat(s.value.data.result.seedict.text," - 词汇"):"米时典 SeeDict - 词汇"},Y=async()=>{l.value=!0;try{const _=await fetch("".concat(e,"/word/?w=").concat(encodeURIComponent(u.value)));if(!_.ok)throw new Error("Response Error");s.value=await _.json(),D();const r=s.value.data.result.seedict.pronPrimary;r&&J(r)}catch(_){console.error(_)}finally{l.value=!1,setTimeout(()=>{S(M)},100)}},J=async _=>{try{const r=await fetch("".concat(e,"/audio/?yngping=").concat(encodeURIComponent(_)));if(!r.ok)throw new Error("Response Error");m.value=await r.json(),K()}catch(r){console.error(r)}},K=()=>{var _;if((_=m.value.data)!=null&&_.results){const r={hy:1,lk:2};m.value.data.results.sort((x,E)=>{const j=r[x.speaker]||3,N=r[E.speaker]||3;return j!==N?j-N:x.speaker.localeCompare(E.speaker)})}};se(()=>a.query.w,_=>{_&&(u.value=_,Y())},{immediate:!0});const Q=G(()=>s.value.data.result.ciklings.some(_=>{var r;return((r=_.comment)==null?void 0:r.trim())!==""}));return(_,r)=>(t(),n(w,null,[ne(p(qe,{class:"left-[2%] top-[170px] hidden xl:block 2xl:left-24"},null,512),[[oe,!l.value]]),p(re,null,{default:g(()=>[l.value?(t(),b($t,{key:0})):(t(),n(w,{key:1},[p(pt,{text:s.value.data.result.seedict.text,yngping:s.value.data.result.seedict.pronPrimary,voiceUrl:m.value.data.results[0]?"".concat(L(d),"/audio/").concat(m.value.data.results[0].speaker,"/").concat(m.value.data.results[0].md5,".mp3"):""},null,8,["text","yngping","voiceUrl"]),s.value.data.result.seedict.expls.length>0&&s.value.data.result.seedict.expls[0].expl||s.value.data.result.seedict.commentExpl?(t(),n(w,{key:0},[p(F,{text:"本站释义"}),o("div",Tt,[p(W,{data:s.value.data.result.seedict.expls},null,8,["data"]),s.value.data.result.seedict.commentExpl?(t(),n("p",Ct,[p($,{class:"text-rosybrown-700"},{default:g(()=>r[0]||(r[0]=[i("注釋")])),_:1}),i(y(L(R)(s.value.data.result.seedict.commentExpl)),1)])):v("",!0),s.value.data.result.seedict.synonym||s.value.data.result.seedict.antonym?(t(),n(w,{key:1},[r[3]||(r[3]=o("hr",{class:"my-2 border-t-2 border-rosybrown-100"},null,-1)),o("div",At,[s.value.data.result.seedict.synonym?(t(),n("p",Lt,[p($,{class:"text-rosybrown-700"},{default:g(()=>r[1]||(r[1]=[i("近義詞")])),_:1}),i(y(s.value.data.result.seedict.synonym),1)])):v("",!0),s.value.data.result.seedict.antonym?(t(),n("p",Gt,[p($,{class:"text-rosybrown-700"},{default:g(()=>r[2]||(r[2]=[i("反義詞")])),_:1}),i(y(s.value.data.result.seedict.antonym),1)])):v("",!0)])],64)):v("",!0)])],64)):v("",!0),s.value.data.result.fengs.length>0||s.value.data.result.ciklings.length>0?(t(),n(w,{key:1},[p(F,{text:"辞书释义"}),s.value.data.result.fengs.length>0?(t(!0),n(w,{key:0},C(s.value.data.result.fengs,(x,E)=>(t(),b(lt,{data:x,key:E},null,8,["data"]))),128)):v("",!0),p(Qe,{data:s.value.data.result.ciklings,isCommentedCikLing:Q.value},null,8,["data","isCommentedCikLing"])],64)):v("",!0),s.value.data.result.seedict.prons.length>0||s.value.data.result.seedict.commentPron?(t(),n(w,{key:2},[p(F,{text:"各地方音"}),o("div",Et,[s.value.data.result.seedict.prons.length>0?(t(),n("table",St,[r[8]||(r[8]=o("thead",{class:"bg-rosybrown-300 text-center"},[o("tr",null,[o("th",{class:"py-1 text-white"},"读音"),o("th",{class:"py-1 text-white"},"连读"),o("th",{class:"py-1 text-white"},"地区")])],-1)),o("tbody",Pt,[(t(!0),n(w,null,C(s.value.data.result.seedict.prons,(x,E)=>(t(),n("tr",{key:E},[o("td",Mt,y(L(I)(x.pron)),1),o("td",Bt,[x.isSandhi?(t(),b(k,{key:0},{default:g(()=>r[4]||(r[4]=[i("连")])),_:1})):(t(),b(k,{key:1},{default:g(()=>r[5]||(r[5]=[i("本")])),_:1}))]),o("td",Ft,[x.isSandhi?(t(),b(k,{key:0},{default:g(()=>r[6]||(r[6]=[i("连读音")])),_:1})):(t(),b(k,{key:1},{default:g(()=>r[7]||(r[7]=[i("本字音")])),_:1}))]),o("td",qt,y(x.location==""?"市区":x.location),1)]))),128))])])):v("",!0),s.value.data.result.seedict.prons.length>0&&s.value.data.result.seedict.commentPron?(t(),n("hr",It)):v("",!0),s.value.data.result.seedict.commentPron?(t(),n("div",{key:2,class:P(["px-8",{"pb-4 pt-2":s.value.data.result.seedict.prons.length>0,"py-6":s.value.data.result.seedict.prons.length<=0}])},[o("p",null,[p($,{class:"text-rosybrown-700"},{default:g(()=>r[9]||(r[9]=[i("注釋 ")])),_:1}),i(y(L(R)(s.value.data.result.seedict.commentPron)),1)])],2)):v("",!0)])],64)):v("",!0),s.value.data.result.seedict.phonetics&&s.value.data.result.seedict.phonetics.yngping?(t(),n(w,{key:3},[p(F,{text:"注音一览"}),p(xt,{data:s.value.data.result.seedict.phonetics},null,8,["data"])],64)):v("",!0),s.value.data.result.seedict.glyphs.length>0||s.value.data.result.seedict.commentGlyph?(t(),n(w,{key:4},[p(F,{text:"用字一览"}),o("div",Rt,[s.value.data.result.seedict.glyphs.length>0?(t(),n("table",Ht,[r[11]||(r[11]=o("thead",{class:"bg-rosybrown-300 text-center"},[o("tr",null,[o("th",{class:"py-1 text-white"},"用字"),o("th",{class:"py-1 text-white"},"类别")])],-1)),o("tbody",Ut,[(t(!0),n(w,null,C(s.value.data.result.seedict.glyphs,(x,E)=>(t(),n("tr",{key:E},[o("td",jt,y(x.glyph),1),o("td",Nt,[x.category?(t(),b(k,{key:0},{default:g(()=>[i(y(x.category),1)]),_:2},1024)):(t(),b(k,{key:1},{default:g(()=>r[10]||(r[10]=[i("N/A")])),_:1}))])]))),128))])])):v("",!0),s.value.data.result.seedict.glyphs.length>0&&s.value.data.result.seedict.commentGlyph?(t(),n("hr",Ot)):v("",!0),s.value.data.result.seedict.commentGlyph?(t(),n("div",{key:2,class:P(["px-8",{"pb-4 pt-2":s.value.data.result.seedict.glyphs.length>0,"py-6":s.value.data.result.seedict.glyphs.length<=0}])},[o("p",null,[p($,{class:"text-rosybrown-700"},{default:g(()=>r[12]||(r[12]=[i("注釋")])),_:1}),i(" "+y(L(R)(s.value.data.result.seedict.commentGlyph)),1)])],2)):v("",!0)])],64)):v("",!0)],64))]),_:1})],64))}});export{Qt as default};
